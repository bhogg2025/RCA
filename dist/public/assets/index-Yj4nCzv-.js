var nC=e=>{throw TypeError(e)};var ry=(e,t,n)=>t.has(e)||nC("Cannot "+n);var H=(e,t,n)=>(ry(e,t,"read from private field"),n?n.call(e):t.get(e)),Ze=(e,t,n)=>t.has(e)?nC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(ry(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ct=(e,t,n)=>(ry(e,t,"access private method"),n);var Qp=(e,t,n,r)=>({set _(s){_e(e,t,s,n)},get _(){return H(e,t,r)}});function H5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uT={exports:{}},uv={},fT={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),G5=Symbol.for("react.portal"),K5=Symbol.for("react.fragment"),Y5=Symbol.for("react.strict_mode"),Q5=Symbol.for("react.profiler"),X5=Symbol.for("react.provider"),Z5=Symbol.for("react.context"),J5=Symbol.for("react.forward_ref"),eq=Symbol.for("react.suspense"),tq=Symbol.for("react.memo"),nq=Symbol.for("react.lazy"),rC=Symbol.iterator;function rq(e){return e===null||typeof e!="object"?null:(e=rC&&e[rC]||e["@@iterator"],typeof e=="function"?e:null)}var pT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mT=Object.assign,hT={};function Sd(e,t,n){this.props=e,this.context=t,this.refs=hT,this.updater=n||pT}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xT(){}xT.prototype=Sd.prototype;function Ww(e,t,n){this.props=e,this.context=t,this.refs=hT,this.updater=n||pT}var Hw=Ww.prototype=new xT;Hw.constructor=Ww;mT(Hw,Sd.prototype);Hw.isPureReactComponent=!0;var iC=Array.isArray,vT=Object.prototype.hasOwnProperty,Gw={current:null},gT={key:!0,ref:!0,__self:!0,__source:!0};function yT(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)vT.call(t,r)&&!gT.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bp,type:e,key:a,ref:o,props:s,_owner:Gw.current}}function iq(e,t){return{$$typeof:bp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kw(e){return typeof e=="object"&&e!==null&&e.$$typeof===bp}function sq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sC=/\/+/g;function iy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sq(""+e.key):t.toString(36)}function Hm(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bp:case G5:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+iy(o,0):r,iC(s)?(n="",e!=null&&(n=e.replace(sC,"$&/")+"/"),Hm(s,t,n,"",function(d){return d})):s!=null&&(Kw(s)&&(s=iq(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",iC(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+iy(a,l);o+=Hm(a,t,n,c,s)}else if(c=rq(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+iy(a,l++),o+=Hm(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(e,t,n){if(e==null)return e;var r=[],s=0;return Hm(e,r,"","",function(a){return t.call(n,a,s++)}),r}function aq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},Gm={transition:null},oq={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Gm,ReactCurrentOwner:Gw};function bT(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Zp,forEach:function(e,t,n){Zp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zp(e,function(){t++}),t},toArray:function(e){return Zp(e,function(t){return t})||[]},only:function(e){if(!Kw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=Sd;xt.Fragment=K5;xt.Profiler=Q5;xt.PureComponent=Ww;xt.StrictMode=Y5;xt.Suspense=eq;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oq;xt.act=bT;xt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mT({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Gw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vT.call(t,c)&&!gT.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:bp,type:e.type,key:s,ref:a,props:r,_owner:o}};xt.createContext=function(e){return e={$$typeof:Z5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X5,_context:e},e.Consumer=e};xt.createElement=yT;xt.createFactory=function(e){var t=yT.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:J5,render:e}};xt.isValidElement=Kw;xt.lazy=function(e){return{$$typeof:nq,_payload:{_status:-1,_result:e},_init:aq}};xt.memo=function(e,t){return{$$typeof:tq,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=Gm.transition;Gm.transition={};try{e()}finally{Gm.transition=t}};xt.unstable_act=bT;xt.useCallback=function(e,t){return pr.current.useCallback(e,t)};xt.useContext=function(e){return pr.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};xt.useEffect=function(e,t){return pr.current.useEffect(e,t)};xt.useId=function(){return pr.current.useId()};xt.useImperativeHandle=function(e,t,n){return pr.current.useImperativeHandle(e,t,n)};xt.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return pr.current.useMemo(e,t)};xt.useReducer=function(e,t,n){return pr.current.useReducer(e,t,n)};xt.useRef=function(e){return pr.current.useRef(e)};xt.useState=function(e){return pr.current.useState(e)};xt.useSyncExternalStore=function(e,t,n){return pr.current.useSyncExternalStore(e,t,n)};xt.useTransition=function(){return pr.current.useTransition()};xt.version="18.3.1";fT.exports=xt;var j=fT.exports;const F=kt(j),jT=H5({__proto__:null,default:F},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lq=j,cq=Symbol.for("react.element"),dq=Symbol.for("react.fragment"),uq=Object.prototype.hasOwnProperty,fq=lq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pq={key:!0,ref:!0,__self:!0,__source:!0};function wT(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uq.call(t,r)&&!pq.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:cq,type:e,key:a,ref:o,props:s,_owner:fq.current}}uv.Fragment=dq;uv.jsx=wT;uv.jsxs=wT;uT.exports=uv;var i=uT.exports,NT={exports:{}},Gr={},ST={exports:{}},CT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,R){var B=q.length;q.push(R);e:for(;0<B;){var Y=B-1>>>1,$=q[Y];if(0<s($,R))q[Y]=R,q[B]=$,B=Y;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var R=q[0],B=q.pop();if(B!==R){q[0]=B;e:for(var Y=0,$=q.length,re=$>>>1;Y<re;){var ee=2*(Y+1)-1,Q=q[ee],ie=ee+1,de=q[ie];if(0>s(Q,B))ie<$&&0>s(de,Q)?(q[Y]=de,q[ie]=B,Y=ie):(q[Y]=Q,q[ee]=B,Y=ee);else if(ie<$&&0>s(de,B))q[Y]=de,q[ie]=B,Y=ie;else break e}}return R}function s(q,R){var B=q.sortIndex-R.sortIndex;return B!==0?B:q.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,x=!1,h=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(q){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=q)r(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(d)}}function N(q){if(m=!1,v(q),!h)if(n(c)!==null)h=!0,M(w);else{var R=n(d);R!==null&&V(N,R.startTime-q)}}function w(q,R){h=!1,m&&(m=!1,g(S),S=-1),x=!0;var B=p;try{for(v(R),f=n(c);f!==null&&(!(f.expirationTime>R)||q&&!P());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var $=Y(f.expirationTime<=R);R=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),v(R)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ee=n(d);ee!==null&&V(N,ee.startTime-R),re=!1}return re}finally{f=null,p=B,x=!1}}var C=!1,E=null,S=-1,k=5,I=-1;function P(){return!(e.unstable_now()-I<k)}function A(){if(E!==null){var q=e.unstable_now();I=q;var R=!0;try{R=E(!0,q)}finally{R?_():(C=!1,E=null)}}else C=!1}var _;if(typeof b=="function")_=function(){b(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){y(A,0)};function M(q){E=q,C||(C=!0,_())}function V(q,R){S=y(function(){q(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){h||x||(h=!0,M(w))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var B=p;p=R;try{return q()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,R){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var B=p;p=q;try{return R()}finally{p=B}},e.unstable_scheduleCallback=function(q,R,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,q={id:u++,callback:R,priorityLevel:q,startTime:B,expirationTime:$,sortIndex:-1},B>Y?(q.sortIndex=B,t(d,q),n(c)===null&&q===n(d)&&(m?(g(S),S=-1):m=!0,V(N,B-Y))):(q.sortIndex=$,t(c,q),h||x||(h=!0,M(w))),q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(q){var R=p;return function(){var B=p;p=R;try{return q.apply(this,arguments)}finally{p=B}}}})(CT);ST.exports=CT;var mq=ST.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hq=j,Wr=mq;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ET=new Set,Yu={};function yl(e,t){Dc(e,t),Dc(e+"Capture",t)}function Dc(e,t){for(Yu[e]=t,e=0;e<t.length;e++)ET.add(t[e])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=Object.prototype.hasOwnProperty,xq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aC={},oC={};function vq(e){return T0.call(oC,e)?!0:T0.call(aC,e)?!1:xq.test(e)?oC[e]=!0:(aC[e]=!0,!1)}function gq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yq(e,t,n,r){if(t===null||typeof t>"u"||gq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mr(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qn[e]=new mr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qn[t]=new mr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qn[e]=new mr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qn[e]=new mr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qn[e]=new mr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qn[e]=new mr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qn[e]=new mr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qn[e]=new mr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qn[e]=new mr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yw=/[\-:]([a-z])/g;function Qw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yw,Qw);qn[t]=new mr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yw,Qw);qn[t]=new mr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yw,Qw);qn[t]=new mr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qn[e]=new mr(e,1,!1,e.toLowerCase(),null,!1,!1)});qn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qn[e]=new mr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xw(e,t,n,r){var s=qn.hasOwnProperty(t)?qn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yq(t,n,s,r)&&(n=null),r||s===null?vq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ra=hq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jp=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),Vl=Symbol.for("react.fragment"),Zw=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),I0=Symbol.for("react.suspense_list"),eN=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),_T=Symbol.for("react.offscreen"),lC=Symbol.iterator;function Qd(e){return e===null||typeof e!="object"?null:(e=lC&&e[lC]||e["@@iterator"],typeof e=="function"?e:null)}var on=Object.assign,sy;function wu(e){if(sy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sy=t&&t[1]||""}return`
`+sy+e}var ay=!1;function oy(e,t){if(!e||ay)return"";ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ay=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wu(e):""}function bq(e){switch(e.tag){case 5:return wu(e.type);case 16:return wu("Lazy");case 13:return wu("Suspense");case 19:return wu("SuspenseList");case 0:case 2:case 15:return e=oy(e.type,!1),e;case 11:return e=oy(e.type.render,!1),e;case 1:return e=oy(e.type,!0),e;default:return""}}function M0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vl:return"Fragment";case Ul:return"Portal";case O0:return"Profiler";case Zw:return"StrictMode";case R0:return"Suspense";case I0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AT:return(e.displayName||"Context")+".Consumer";case kT:return(e._context.displayName||"Context")+".Provider";case Jw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eN:return t=e.displayName||null,t!==null?t:M0(e.type)||"Memo";case ha:t=e._payload,e=e._init;try{return M0(e(t))}catch{}}return null}function jq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M0(t);case 8:return t===Zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ga(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wq(e){var t=PT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function em(e){e._valueTracker||(e._valueTracker=wq(e))}function TT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $0(e,t){var n=t.checked;return on({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ga(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function OT(e,t){t=t.checked,t!=null&&Xw(e,"checked",t,!1)}function D0(e,t){OT(e,t);var n=Ga(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F0(e,t.type,n):t.hasOwnProperty("defaultValue")&&F0(e,t.type,Ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function F0(e,t,n){(t!=="number"||hh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nu=Array.isArray;function oc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ga(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function L0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return on({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Nu(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ga(n)}}function RT(e,t){var n=Ga(t.value),r=Ga(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function q0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tm,MT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tm=tm||document.createElement("div"),tm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nq=["Webkit","ms","Moz","O"];Object.keys(Tu).forEach(function(e){Nq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tu[t]=Tu[e]})});function $T(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tu.hasOwnProperty(e)&&Tu[e]?(""+t).trim():t+"px"}function DT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$T(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sq=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z0(e,t){if(t){if(Sq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function B0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=null;function tN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var V0=null,lc=null,cc=null;function pC(e){if(e=Np(e)){if(typeof V0!="function")throw Error(he(280));var t=e.stateNode;t&&(t=xv(t),V0(e.stateNode,e.type,t))}}function FT(e){lc?cc?cc.push(e):cc=[e]:lc=e}function LT(){if(lc){var e=lc,t=cc;if(cc=lc=null,pC(e),t)for(e=0;e<t.length;e++)pC(t[e])}}function qT(e,t){return e(t)}function zT(){}var ly=!1;function BT(e,t,n){if(ly)return e(t,n);ly=!0;try{return qT(e,t,n)}finally{ly=!1,(lc!==null||cc!==null)&&(zT(),LT())}}function Xu(e,t){var n=e.stateNode;if(n===null)return null;var r=xv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var W0=!1;if(Vs)try{var Xd={};Object.defineProperty(Xd,"passive",{get:function(){W0=!0}}),window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{W0=!1}function Cq(e,t,n,r,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Ou=!1,xh=null,vh=!1,H0=null,Eq={onError:function(e){Ou=!0,xh=e}};function kq(e,t,n,r,s,a,o,l,c){Ou=!1,xh=null,Cq.apply(Eq,arguments)}function Aq(e,t,n,r,s,a,o,l,c){if(kq.apply(this,arguments),Ou){if(Ou){var d=xh;Ou=!1,xh=null}else throw Error(he(198));vh||(vh=!0,H0=d)}}function bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function UT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mC(e){if(bl(e)!==e)throw Error(he(188))}function _q(e){var t=e.alternate;if(!t){if(t=bl(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return mC(s),e;if(a===r)return mC(s),t;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function VT(e){return e=_q(e),e!==null?WT(e):null}function WT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WT(e);if(t!==null)return t;e=e.sibling}return null}var HT=Wr.unstable_scheduleCallback,hC=Wr.unstable_cancelCallback,Pq=Wr.unstable_shouldYield,Tq=Wr.unstable_requestPaint,fn=Wr.unstable_now,Oq=Wr.unstable_getCurrentPriorityLevel,nN=Wr.unstable_ImmediatePriority,GT=Wr.unstable_UserBlockingPriority,gh=Wr.unstable_NormalPriority,Rq=Wr.unstable_LowPriority,KT=Wr.unstable_IdlePriority,fv=null,ns=null;function Iq(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(fv,e,void 0,(e.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:Dq,Mq=Math.log,$q=Math.LN2;function Dq(e){return e>>>=0,e===0?32:31-(Mq(e)/$q|0)|0}var nm=64,rm=4194304;function Su(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Su(l):(a&=o,a!==0&&(r=Su(a)))}else o=n&~s,o!==0?r=Su(o):a!==0&&(r=Su(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_i(t),s=1<<n,r|=e[n],t&=~s;return r}function Fq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lq(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_i(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Fq(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function G0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YT(){var e=nm;return nm<<=1,!(nm&4194240)&&(nm=64),e}function cy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_i(t),e[t]=n}function qq(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_i(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function rN(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_i(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Tt=0;function QT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XT,iN,ZT,JT,eO,K0=!1,im=[],$a=null,Da=null,Fa=null,Zu=new Map,Ju=new Map,ya=[],zq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xC(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Zu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(t.pointerId)}}function Zd(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Np(t),t!==null&&iN(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Bq(e,t,n,r,s){switch(t){case"focusin":return $a=Zd($a,e,t,n,r,s),!0;case"dragenter":return Da=Zd(Da,e,t,n,r,s),!0;case"mouseover":return Fa=Zd(Fa,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Zu.set(a,Zd(Zu.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ju.set(a,Zd(Ju.get(a)||null,e,t,n,r,s)),!0}return!1}function tO(e){var t=To(e.target);if(t!==null){var n=bl(t);if(n!==null){if(t=n.tag,t===13){if(t=UT(n),t!==null){e.blockedOn=t,eO(e.priority,function(){ZT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Km(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Y0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);U0=r,n.target.dispatchEvent(r),U0=null}else return t=Np(n),t!==null&&iN(t),e.blockedOn=n,!1;t.shift()}return!0}function vC(e,t,n){Km(e)&&n.delete(t)}function Uq(){K0=!1,$a!==null&&Km($a)&&($a=null),Da!==null&&Km(Da)&&(Da=null),Fa!==null&&Km(Fa)&&(Fa=null),Zu.forEach(vC),Ju.forEach(vC)}function Jd(e,t){e.blockedOn===t&&(e.blockedOn=null,K0||(K0=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,Uq)))}function ef(e){function t(s){return Jd(s,e)}if(0<im.length){Jd(im[0],e);for(var n=1;n<im.length;n++){var r=im[n];r.blockedOn===e&&(r.blockedOn=null)}}for($a!==null&&Jd($a,e),Da!==null&&Jd(Da,e),Fa!==null&&Jd(Fa,e),Zu.forEach(t),Ju.forEach(t),n=0;n<ya.length;n++)r=ya[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ya.length&&(n=ya[0],n.blockedOn===null);)tO(n),n.blockedOn===null&&ya.shift()}var dc=ra.ReactCurrentBatchConfig,bh=!0;function Vq(e,t,n,r){var s=Tt,a=dc.transition;dc.transition=null;try{Tt=1,sN(e,t,n,r)}finally{Tt=s,dc.transition=a}}function Wq(e,t,n,r){var s=Tt,a=dc.transition;dc.transition=null;try{Tt=4,sN(e,t,n,r)}finally{Tt=s,dc.transition=a}}function sN(e,t,n,r){if(bh){var s=Y0(e,t,n,r);if(s===null)yy(e,t,r,jh,n),xC(e,r);else if(Bq(s,e,t,n,r))r.stopPropagation();else if(xC(e,r),t&4&&-1<zq.indexOf(e)){for(;s!==null;){var a=Np(s);if(a!==null&&XT(a),a=Y0(e,t,n,r),a===null&&yy(e,t,r,jh,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else yy(e,t,r,null,n)}}var jh=null;function Y0(e,t,n,r){if(jh=null,e=tN(r),e=To(e),e!==null)if(t=bl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=UT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jh=e,null}function nO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oq()){case nN:return 1;case GT:return 4;case gh:case Rq:return 16;case KT:return 536870912;default:return 16}default:return 16}}var Oa=null,aN=null,Ym=null;function rO(){if(Ym)return Ym;var e,t=aN,n=t.length,r,s="value"in Oa?Oa.value:Oa.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Ym=s.slice(e,1<r?1-r:void 0)}function Qm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sm(){return!0}function gC(){return!1}function Kr(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sm:gC,this.isPropagationStopped=gC,this}return on(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),t}var Cd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oN=Kr(Cd),wp=on({},Cd,{view:0,detail:0}),Hq=Kr(wp),dy,uy,eu,pv=on({},wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==eu&&(eu&&e.type==="mousemove"?(dy=e.screenX-eu.screenX,uy=e.screenY-eu.screenY):uy=dy=0,eu=e),dy)},movementY:function(e){return"movementY"in e?e.movementY:uy}}),yC=Kr(pv),Gq=on({},pv,{dataTransfer:0}),Kq=Kr(Gq),Yq=on({},wp,{relatedTarget:0}),fy=Kr(Yq),Qq=on({},Cd,{animationName:0,elapsedTime:0,pseudoElement:0}),Xq=Kr(Qq),Zq=on({},Cd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jq=Kr(Zq),e6=on({},Cd,{data:0}),bC=Kr(e6),t6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r6[e])?!!t[e]:!1}function lN(){return i6}var s6=on({},wp,{key:function(e){if(e.key){var t=t6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lN,charCode:function(e){return e.type==="keypress"?Qm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),a6=Kr(s6),o6=on({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jC=Kr(o6),l6=on({},wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lN}),c6=Kr(l6),d6=on({},Cd,{propertyName:0,elapsedTime:0,pseudoElement:0}),u6=Kr(d6),f6=on({},pv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p6=Kr(f6),m6=[9,13,27,32],cN=Vs&&"CompositionEvent"in window,Ru=null;Vs&&"documentMode"in document&&(Ru=document.documentMode);var h6=Vs&&"TextEvent"in window&&!Ru,iO=Vs&&(!cN||Ru&&8<Ru&&11>=Ru),wC=" ",NC=!1;function sO(e,t){switch(e){case"keyup":return m6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wl=!1;function x6(e,t){switch(e){case"compositionend":return aO(t);case"keypress":return t.which!==32?null:(NC=!0,wC);case"textInput":return e=t.data,e===wC&&NC?null:e;default:return null}}function v6(e,t){if(Wl)return e==="compositionend"||!cN&&sO(e,t)?(e=rO(),Ym=aN=Oa=null,Wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iO&&t.locale!=="ko"?null:t.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g6[e.type]:t==="textarea"}function oO(e,t,n,r){FT(r),t=wh(t,"onChange"),0<t.length&&(n=new oN("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Iu=null,tf=null;function y6(e){gO(e,0)}function mv(e){var t=Kl(e);if(TT(t))return e}function b6(e,t){if(e==="change")return t}var lO=!1;if(Vs){var py;if(Vs){var my="oninput"in document;if(!my){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),my=typeof CC.oninput=="function"}py=my}else py=!1;lO=py&&(!document.documentMode||9<document.documentMode)}function EC(){Iu&&(Iu.detachEvent("onpropertychange",cO),tf=Iu=null)}function cO(e){if(e.propertyName==="value"&&mv(tf)){var t=[];oO(t,tf,e,tN(e)),BT(y6,t)}}function j6(e,t,n){e==="focusin"?(EC(),Iu=t,tf=n,Iu.attachEvent("onpropertychange",cO)):e==="focusout"&&EC()}function w6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mv(tf)}function N6(e,t){if(e==="click")return mv(t)}function S6(e,t){if(e==="input"||e==="change")return mv(t)}function C6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ri=typeof Object.is=="function"?Object.is:C6;function nf(e,t){if(Ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!T0.call(t,s)||!Ri(e[s],t[s]))return!1}return!0}function kC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AC(e,t){var n=kC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kC(n)}}function dO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uO(){for(var e=window,t=hh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hh(e.document)}return t}function dN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E6(e){var t=uO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dO(n.ownerDocument.documentElement,n)){if(r!==null&&dN(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=AC(n,a);var o=AC(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k6=Vs&&"documentMode"in document&&11>=document.documentMode,Hl=null,Q0=null,Mu=null,X0=!1;function _C(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;X0||Hl==null||Hl!==hh(r)||(r=Hl,"selectionStart"in r&&dN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mu&&nf(Mu,r)||(Mu=r,r=wh(Q0,"onSelect"),0<r.length&&(t=new oN("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hl)))}function am(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gl={animationend:am("Animation","AnimationEnd"),animationiteration:am("Animation","AnimationIteration"),animationstart:am("Animation","AnimationStart"),transitionend:am("Transition","TransitionEnd")},hy={},fO={};Vs&&(fO=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function hv(e){if(hy[e])return hy[e];if(!Gl[e])return e;var t=Gl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fO)return hy[e]=t[n];return e}var pO=hv("animationend"),mO=hv("animationiteration"),hO=hv("animationstart"),xO=hv("transitionend"),vO=new Map,PC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(e,t){vO.set(e,t),yl(t,[e])}for(var xy=0;xy<PC.length;xy++){var vy=PC[xy],A6=vy.toLowerCase(),_6=vy[0].toUpperCase()+vy.slice(1);ao(A6,"on"+_6)}ao(pO,"onAnimationEnd");ao(mO,"onAnimationIteration");ao(hO,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(xO,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function TC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Aq(r,t,void 0,e),e.currentTarget=null}function gO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;TC(s,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;TC(s,l,d),a=c}}}if(vh)throw e=H0,vh=!1,H0=null,e}function Wt(e,t){var n=t[nb];n===void 0&&(n=t[nb]=new Set);var r=e+"__bubble";n.has(r)||(yO(t,e,2,!1),n.add(r))}function gy(e,t,n){var r=0;t&&(r|=4),yO(n,e,r,t)}var om="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[om]){e[om]=!0,ET.forEach(function(n){n!=="selectionchange"&&(P6.has(n)||gy(n,!1,e),gy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[om]||(t[om]=!0,gy("selectionchange",!1,t))}}function yO(e,t,n,r){switch(nO(t)){case 1:var s=Vq;break;case 4:s=Wq;break;default:s=sN}n=s.bind(null,t,n,e),s=void 0,!W0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yy(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=To(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}BT(function(){var d=a,u=tN(n),f=[];e:{var p=vO.get(e);if(p!==void 0){var x=oN,h=e;switch(e){case"keypress":if(Qm(n)===0)break e;case"keydown":case"keyup":x=a6;break;case"focusin":h="focus",x=fy;break;case"focusout":h="blur",x=fy;break;case"beforeblur":case"afterblur":x=fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=yC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Kq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=c6;break;case pO:case mO:case hO:x=Xq;break;case xO:x=u6;break;case"scroll":x=Hq;break;case"wheel":x=p6;break;case"copy":case"cut":case"paste":x=Jq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=jC}var m=(t&4)!==0,y=!m&&e==="scroll",g=m?p!==null?p+"Capture":null:p;m=[];for(var b=d,v;b!==null;){v=b;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,g!==null&&(N=Xu(b,g),N!=null&&m.push(sf(b,N,v)))),y)break;b=b.return}0<m.length&&(p=new x(p,h,null,n,u),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==U0&&(h=n.relatedTarget||n.fromElement)&&(To(h)||h[Ws]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(h=n.relatedTarget||n.toElement,x=d,h=h?To(h):null,h!==null&&(y=bl(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(x=null,h=d),x!==h)){if(m=yC,N="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=jC,N="onPointerLeave",g="onPointerEnter",b="pointer"),y=x==null?p:Kl(x),v=h==null?p:Kl(h),p=new m(N,b+"leave",x,n,u),p.target=y,p.relatedTarget=v,N=null,To(u)===d&&(m=new m(g,b+"enter",h,n,u),m.target=v,m.relatedTarget=y,N=m),y=N,x&&h)t:{for(m=x,g=h,b=0,v=m;v;v=Tl(v))b++;for(v=0,N=g;N;N=Tl(N))v++;for(;0<b-v;)m=Tl(m),b--;for(;0<v-b;)g=Tl(g),v--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=Tl(m),g=Tl(g)}m=null}else m=null;x!==null&&OC(f,p,x,m,!1),h!==null&&y!==null&&OC(f,y,h,m,!0)}}e:{if(p=d?Kl(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var w=b6;else if(SC(p))if(lO)w=S6;else{w=w6;var C=j6}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=N6);if(w&&(w=w(e,d))){oO(f,w,n,u);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&F0(p,"number",p.value)}switch(C=d?Kl(d):window,e){case"focusin":(SC(C)||C.contentEditable==="true")&&(Hl=C,Q0=d,Mu=null);break;case"focusout":Mu=Q0=Hl=null;break;case"mousedown":X0=!0;break;case"contextmenu":case"mouseup":case"dragend":X0=!1,_C(f,n,u);break;case"selectionchange":if(k6)break;case"keydown":case"keyup":_C(f,n,u)}var E;if(cN)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Wl?sO(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(iO&&n.locale!=="ko"&&(Wl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Wl&&(E=rO()):(Oa=u,aN="value"in Oa?Oa.value:Oa.textContent,Wl=!0)),C=wh(d,S),0<C.length&&(S=new bC(S,e,null,n,u),f.push({event:S,listeners:C}),E?S.data=E:(E=aO(n),E!==null&&(S.data=E)))),(E=h6?x6(e,n):v6(e,n))&&(d=wh(d,"onBeforeInput"),0<d.length&&(u=new bC("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=E))}gO(f,t)})}function sf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Xu(e,n),a!=null&&r.unshift(sf(e,a,s)),a=Xu(e,t),a!=null&&r.push(sf(e,a,s))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function OC(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Xu(n,a),c!=null&&o.unshift(sf(n,c,l))):s||(c=Xu(n,a),c!=null&&o.push(sf(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var T6=/\r\n?/g,O6=/\u0000|\uFFFD/g;function RC(e){return(typeof e=="string"?e:""+e).replace(T6,`
`).replace(O6,"")}function lm(e,t,n){if(t=RC(t),RC(e)!==t&&n)throw Error(he(425))}function Nh(){}var Z0=null,J0=null;function eb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tb=typeof setTimeout=="function"?setTimeout:void 0,R6=typeof clearTimeout=="function"?clearTimeout:void 0,IC=typeof Promise=="function"?Promise:void 0,I6=typeof queueMicrotask=="function"?queueMicrotask:typeof IC<"u"?function(e){return IC.resolve(null).then(e).catch(M6)}:tb;function M6(e){setTimeout(function(){throw e})}function by(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ef(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ef(t)}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function MC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Ed,af="__reactProps$"+Ed,Ws="__reactContainer$"+Ed,nb="__reactEvents$"+Ed,$6="__reactListeners$"+Ed,D6="__reactHandles$"+Ed;function To(e){var t=e[Xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ws]||n[Xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=MC(e);e!==null;){if(n=e[Xi])return n;e=MC(e)}return t}e=n,n=e.parentNode}return null}function Np(e){return e=e[Xi]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function xv(e){return e[af]||null}var rb=[],Yl=-1;function oo(e){return{current:e}}function Kt(e){0>Yl||(e.current=rb[Yl],rb[Yl]=null,Yl--)}function Bt(e,t){Yl++,rb[Yl]=e.current,e.current=t}var Ka={},Zn=oo(Ka),Cr=oo(!1),tl=Ka;function Fc(e,t){var n=e.type.contextTypes;if(!n)return Ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Er(e){return e=e.childContextTypes,e!=null}function Sh(){Kt(Cr),Kt(Zn)}function $C(e,t,n){if(Zn.current!==Ka)throw Error(he(168));Bt(Zn,t),Bt(Cr,n)}function bO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(he(108,jq(e)||"Unknown",s));return on({},n,r)}function Ch(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,tl=Zn.current,Bt(Zn,e),Bt(Cr,Cr.current),!0}function DC(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=bO(e,t,tl),r.__reactInternalMemoizedMergedChildContext=e,Kt(Cr),Kt(Zn),Bt(Zn,e)):Kt(Cr),Bt(Cr,n)}var Es=null,vv=!1,jy=!1;function jO(e){Es===null?Es=[e]:Es.push(e)}function F6(e){vv=!0,jO(e)}function lo(){if(!jy&&Es!==null){jy=!0;var e=0,t=Tt;try{var n=Es;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Es=null,vv=!1}catch(s){throw Es!==null&&(Es=Es.slice(e+1)),HT(nN,lo),s}finally{Tt=t,jy=!1}}return null}var Ql=[],Xl=0,Eh=null,kh=0,ti=[],ni=0,nl=null,Ps=1,Ts="";function jo(e,t){Ql[Xl++]=kh,Ql[Xl++]=Eh,Eh=e,kh=t}function wO(e,t,n){ti[ni++]=Ps,ti[ni++]=Ts,ti[ni++]=nl,nl=e;var r=Ps;e=Ts;var s=32-_i(r)-1;r&=~(1<<s),n+=1;var a=32-_i(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ps=1<<32-_i(t)+s|n<<s|r,Ts=a+e}else Ps=1<<a|n<<s|r,Ts=e}function uN(e){e.return!==null&&(jo(e,1),wO(e,1,0))}function fN(e){for(;e===Eh;)Eh=Ql[--Xl],Ql[Xl]=null,kh=Ql[--Xl],Ql[Xl]=null;for(;e===nl;)nl=ti[--ni],ti[ni]=null,Ts=ti[--ni],ti[ni]=null,Ps=ti[--ni],ti[ni]=null}var qr=null,Dr=null,Zt=!1,wi=null;function NO(e,t){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function FC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qr=e,Dr=La(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qr=e,Dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nl!==null?{id:Ps,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qr=e,Dr=null,!0):!1;default:return!1}}function ib(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sb(e){if(Zt){var t=Dr;if(t){var n=t;if(!FC(e,t)){if(ib(e))throw Error(he(418));t=La(n.nextSibling);var r=qr;t&&FC(e,t)?NO(r,n):(e.flags=e.flags&-4097|2,Zt=!1,qr=e)}}else{if(ib(e))throw Error(he(418));e.flags=e.flags&-4097|2,Zt=!1,qr=e}}}function LC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qr=e}function cm(e){if(e!==qr)return!1;if(!Zt)return LC(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eb(e.type,e.memoizedProps)),t&&(t=Dr)){if(ib(e))throw SO(),Error(he(418));for(;t;)NO(e,t),t=La(t.nextSibling)}if(LC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dr=La(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dr=null}}else Dr=qr?La(e.stateNode.nextSibling):null;return!0}function SO(){for(var e=Dr;e;)e=La(e.nextSibling)}function Lc(){Dr=qr=null,Zt=!1}function pN(e){wi===null?wi=[e]:wi.push(e)}var L6=ra.ReactCurrentBatchConfig;function tu(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function dm(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qC(e){var t=e._init;return t(e._payload)}function CO(e){function t(g,b){if(e){var v=g.deletions;v===null?(g.deletions=[b],g.flags|=16):v.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(g,b){return g=Ua(g,b),g.index=0,g.sibling=null,g}function a(g,b,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<b?(g.flags|=2,b):v):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,v,N){return b===null||b.tag!==6?(b=Ay(v,g.mode,N),b.return=g,b):(b=s(b,v),b.return=g,b)}function c(g,b,v,N){var w=v.type;return w===Vl?u(g,b,v.props.children,N,v.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ha&&qC(w)===b.type)?(N=s(b,v.props),N.ref=tu(g,b,v),N.return=g,N):(N=rh(v.type,v.key,v.props,null,g.mode,N),N.ref=tu(g,b,v),N.return=g,N)}function d(g,b,v,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=_y(v,g.mode,N),b.return=g,b):(b=s(b,v.children||[]),b.return=g,b)}function u(g,b,v,N,w){return b===null||b.tag!==7?(b=Go(v,g.mode,N,w),b.return=g,b):(b=s(b,v),b.return=g,b)}function f(g,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ay(""+b,g.mode,v),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jp:return v=rh(b.type,b.key,b.props,null,g.mode,v),v.ref=tu(g,null,b),v.return=g,v;case Ul:return b=_y(b,g.mode,v),b.return=g,b;case ha:var N=b._init;return f(g,N(b._payload),v)}if(Nu(b)||Qd(b))return b=Go(b,g.mode,v,null),b.return=g,b;dm(g,b)}return null}function p(g,b,v,N){var w=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:l(g,b,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jp:return v.key===w?c(g,b,v,N):null;case Ul:return v.key===w?d(g,b,v,N):null;case ha:return w=v._init,p(g,b,w(v._payload),N)}if(Nu(v)||Qd(v))return w!==null?null:u(g,b,v,N,null);dm(g,v)}return null}function x(g,b,v,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(v)||null,l(b,g,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Jp:return g=g.get(N.key===null?v:N.key)||null,c(b,g,N,w);case Ul:return g=g.get(N.key===null?v:N.key)||null,d(b,g,N,w);case ha:var C=N._init;return x(g,b,v,C(N._payload),w)}if(Nu(N)||Qd(N))return g=g.get(v)||null,u(b,g,N,w,null);dm(b,N)}return null}function h(g,b,v,N){for(var w=null,C=null,E=b,S=b=0,k=null;E!==null&&S<v.length;S++){E.index>S?(k=E,E=null):k=E.sibling;var I=p(g,E,v[S],N);if(I===null){E===null&&(E=k);break}e&&E&&I.alternate===null&&t(g,E),b=a(I,b,S),C===null?w=I:C.sibling=I,C=I,E=k}if(S===v.length)return n(g,E),Zt&&jo(g,S),w;if(E===null){for(;S<v.length;S++)E=f(g,v[S],N),E!==null&&(b=a(E,b,S),C===null?w=E:C.sibling=E,C=E);return Zt&&jo(g,S),w}for(E=r(g,E);S<v.length;S++)k=x(E,g,S,v[S],N),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?S:k.key),b=a(k,b,S),C===null?w=k:C.sibling=k,C=k);return e&&E.forEach(function(P){return t(g,P)}),Zt&&jo(g,S),w}function m(g,b,v,N){var w=Qd(v);if(typeof w!="function")throw Error(he(150));if(v=w.call(v),v==null)throw Error(he(151));for(var C=w=null,E=b,S=b=0,k=null,I=v.next();E!==null&&!I.done;S++,I=v.next()){E.index>S?(k=E,E=null):k=E.sibling;var P=p(g,E,I.value,N);if(P===null){E===null&&(E=k);break}e&&E&&P.alternate===null&&t(g,E),b=a(P,b,S),C===null?w=P:C.sibling=P,C=P,E=k}if(I.done)return n(g,E),Zt&&jo(g,S),w;if(E===null){for(;!I.done;S++,I=v.next())I=f(g,I.value,N),I!==null&&(b=a(I,b,S),C===null?w=I:C.sibling=I,C=I);return Zt&&jo(g,S),w}for(E=r(g,E);!I.done;S++,I=v.next())I=x(E,g,S,I.value,N),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?S:I.key),b=a(I,b,S),C===null?w=I:C.sibling=I,C=I);return e&&E.forEach(function(A){return t(g,A)}),Zt&&jo(g,S),w}function y(g,b,v,N){if(typeof v=="object"&&v!==null&&v.type===Vl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Jp:e:{for(var w=v.key,C=b;C!==null;){if(C.key===w){if(w=v.type,w===Vl){if(C.tag===7){n(g,C.sibling),b=s(C,v.props.children),b.return=g,g=b;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ha&&qC(w)===C.type){n(g,C.sibling),b=s(C,v.props),b.ref=tu(g,C,v),b.return=g,g=b;break e}n(g,C);break}else t(g,C);C=C.sibling}v.type===Vl?(b=Go(v.props.children,g.mode,N,v.key),b.return=g,g=b):(N=rh(v.type,v.key,v.props,null,g.mode,N),N.ref=tu(g,b,v),N.return=g,g=N)}return o(g);case Ul:e:{for(C=v.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(g,b.sibling),b=s(b,v.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=_y(v,g.mode,N),b.return=g,g=b}return o(g);case ha:return C=v._init,y(g,b,C(v._payload),N)}if(Nu(v))return h(g,b,v,N);if(Qd(v))return m(g,b,v,N);dm(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(g,b.sibling),b=s(b,v),b.return=g,g=b):(n(g,b),b=Ay(v,g.mode,N),b.return=g,g=b),o(g)):n(g,b)}return y}var qc=CO(!0),EO=CO(!1),Ah=oo(null),_h=null,Zl=null,mN=null;function hN(){mN=Zl=_h=null}function xN(e){var t=Ah.current;Kt(Ah),e._currentValue=t}function ab(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function uc(e,t){_h=e,mN=Zl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wr=!0),e.firstContext=null)}function li(e){var t=e._currentValue;if(mN!==e)if(e={context:e,memoizedValue:t,next:null},Zl===null){if(_h===null)throw Error(he(308));Zl=e,_h.dependencies={lanes:0,firstContext:e}}else Zl=Zl.next=e;return t}var Oo=null;function vN(e){Oo===null?Oo=[e]:Oo.push(e)}function kO(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vN(t)):(n.next=s.next,s.next=n),t.interleaved=n,Hs(e,r)}function Hs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xa=!1;function gN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Hs(e,n)}return s=r.interleaved,s===null?(t.next=t,vN(r)):(t.next=s.next,s.next=t),r.interleaved=t,Hs(e,n)}function Xm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rN(e,n)}}function zC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ph(e,t,n,r){var s=e.updateQueue;xa=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,u=d=c=null,l=a;do{var p=l.lane,x=l.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,x=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(x,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,p=typeof h=="function"?h.call(x,f,p):h,p==null)break e;f=on({},f,p);break e;case 2:xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=f):u=u.next=x,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);il|=o,e.lanes=o,e.memoizedState=f}}function BC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(he(191,s));s.call(r)}}}var Sp={},rs=oo(Sp),of=oo(Sp),lf=oo(Sp);function Ro(e){if(e===Sp)throw Error(he(174));return e}function yN(e,t){switch(Bt(lf,t),Bt(of,e),Bt(rs,Sp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:q0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=q0(t,e)}Kt(rs),Bt(rs,t)}function zc(){Kt(rs),Kt(of),Kt(lf)}function _O(e){Ro(lf.current);var t=Ro(rs.current),n=q0(t,e.type);t!==n&&(Bt(of,e),Bt(rs,n))}function bN(e){of.current===e&&(Kt(rs),Kt(of))}var rn=oo(0);function Th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wy=[];function jN(){for(var e=0;e<wy.length;e++)wy[e]._workInProgressVersionPrimary=null;wy.length=0}var Zm=ra.ReactCurrentDispatcher,Ny=ra.ReactCurrentBatchConfig,rl=0,sn=null,Nn=null,Pn=null,Oh=!1,$u=!1,cf=0,q6=0;function Un(){throw Error(he(321))}function wN(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ri(e[n],t[n]))return!1;return!0}function NN(e,t,n,r,s,a){if(rl=a,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zm.current=e===null||e.memoizedState===null?V6:W6,e=n(r,s),$u){a=0;do{if($u=!1,cf=0,25<=a)throw Error(he(301));a+=1,Pn=Nn=null,t.updateQueue=null,Zm.current=H6,e=n(r,s)}while($u)}if(Zm.current=Rh,t=Nn!==null&&Nn.next!==null,rl=0,Pn=Nn=sn=null,Oh=!1,t)throw Error(he(300));return e}function SN(){var e=cf!==0;return cf=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?sn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function ci(){if(Nn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=Pn===null?sn.memoizedState:Pn.next;if(t!==null)Pn=t,Nn=e;else{if(e===null)throw Error(he(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Pn===null?sn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function df(e,t){return typeof t=="function"?t(e):t}function Sy(e){var t=ci(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=Nn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((rl&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,sn.lanes|=u,il|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Ri(r,t.memoizedState)||(wr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,sn.lanes|=a,il|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cy(e){var t=ci(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Ri(a,t.memoizedState)||(wr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function PO(){}function TO(e,t){var n=sn,r=ci(),s=t(),a=!Ri(r.memoizedState,s);if(a&&(r.memoizedState=s,wr=!0),r=r.queue,CN(IO.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,uf(9,RO.bind(null,n,r,s,t),void 0,null),On===null)throw Error(he(349));rl&30||OO(n,t,s)}return s}function OO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RO(e,t,n,r){t.value=n,t.getSnapshot=r,MO(t)&&$O(e)}function IO(e,t,n){return n(function(){MO(t)&&$O(e)})}function MO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ri(e,n)}catch{return!0}}function $O(e){var t=Hs(e,1);t!==null&&Pi(t,e,1,-1)}function UC(e){var t=Hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:e},t.queue=e,e=e.dispatch=U6.bind(null,sn,e),[t.memoizedState,e]}function uf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DO(){return ci().memoizedState}function Jm(e,t,n,r){var s=Hi();sn.flags|=e,s.memoizedState=uf(1|t,n,void 0,r===void 0?null:r)}function gv(e,t,n,r){var s=ci();r=r===void 0?null:r;var a=void 0;if(Nn!==null){var o=Nn.memoizedState;if(a=o.destroy,r!==null&&wN(r,o.deps)){s.memoizedState=uf(t,n,a,r);return}}sn.flags|=e,s.memoizedState=uf(1|t,n,a,r)}function VC(e,t){return Jm(8390656,8,e,t)}function CN(e,t){return gv(2048,8,e,t)}function FO(e,t){return gv(4,2,e,t)}function LO(e,t){return gv(4,4,e,t)}function qO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zO(e,t,n){return n=n!=null?n.concat([e]):null,gv(4,4,qO.bind(null,t,e),n)}function EN(){}function BO(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wN(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function UO(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wN(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VO(e,t,n){return rl&21?(Ri(n,t)||(n=YT(),sn.lanes|=n,il|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wr=!0),e.memoizedState=n)}function z6(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=Ny.transition;Ny.transition={};try{e(!1),t()}finally{Tt=n,Ny.transition=r}}function WO(){return ci().memoizedState}function B6(e,t,n){var r=Ba(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HO(e))GO(t,n);else if(n=kO(e,t,n,r),n!==null){var s=dr();Pi(n,e,r,s),KO(n,t,r)}}function U6(e,t,n){var r=Ba(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HO(e))GO(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ri(l,o)){var c=t.interleaved;c===null?(s.next=s,vN(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=kO(e,t,s,r),n!==null&&(s=dr(),Pi(n,e,r,s),KO(n,t,r))}}function HO(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function GO(e,t){$u=Oh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rN(e,n)}}var Rh={readContext:li,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},V6={readContext:li,useCallback:function(e,t){return Hi().memoizedState=[e,t===void 0?null:t],e},useContext:li,useEffect:VC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jm(4194308,4,qO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jm(4,2,e,t)},useMemo:function(e,t){var n=Hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=B6.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=Hi();return e={current:e},t.memoizedState=e},useState:UC,useDebugValue:EN,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=UC(!1),t=e[0];return e=z6.bind(null,e[1]),Hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,s=Hi();if(Zt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),On===null)throw Error(he(349));rl&30||OO(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,VC(IO.bind(null,r,a,e),[e]),r.flags|=2048,uf(9,RO.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Hi(),t=On.identifierPrefix;if(Zt){var n=Ts,r=Ps;n=(r&~(1<<32-_i(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W6={readContext:li,useCallback:BO,useContext:li,useEffect:CN,useImperativeHandle:zO,useInsertionEffect:FO,useLayoutEffect:LO,useMemo:UO,useReducer:Sy,useRef:DO,useState:function(){return Sy(df)},useDebugValue:EN,useDeferredValue:function(e){var t=ci();return VO(t,Nn.memoizedState,e)},useTransition:function(){var e=Sy(df)[0],t=ci().memoizedState;return[e,t]},useMutableSource:PO,useSyncExternalStore:TO,useId:WO,unstable_isNewReconciler:!1},H6={readContext:li,useCallback:BO,useContext:li,useEffect:CN,useImperativeHandle:zO,useInsertionEffect:FO,useLayoutEffect:LO,useMemo:UO,useReducer:Cy,useRef:DO,useState:function(){return Cy(df)},useDebugValue:EN,useDeferredValue:function(e){var t=ci();return Nn===null?t.memoizedState=e:VO(t,Nn.memoizedState,e)},useTransition:function(){var e=Cy(df)[0],t=ci().memoizedState;return[e,t]},useMutableSource:PO,useSyncExternalStore:TO,useId:WO,unstable_isNewReconciler:!1};function vi(e,t){if(e&&e.defaultProps){t=on({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ob(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:on({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yv={isMounted:function(e){return(e=e._reactInternals)?bl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dr(),s=Ba(e),a=$s(r,s);a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,s),t!==null&&(Pi(t,e,s,r),Xm(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dr(),s=Ba(e),a=$s(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,s),t!==null&&(Pi(t,e,s,r),Xm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dr(),r=Ba(e),s=$s(n,r);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,r),t!==null&&(Pi(t,e,r,n),Xm(t,e,r))}};function WC(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!nf(n,r)||!nf(s,a):!0}function YO(e,t,n){var r=!1,s=Ka,a=t.contextType;return typeof a=="object"&&a!==null?a=li(a):(s=Er(t)?tl:Zn.current,r=t.contextTypes,a=(r=r!=null)?Fc(e,s):Ka),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function HC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yv.enqueueReplaceState(t,t.state,null)}function lb(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},gN(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=li(a):(a=Er(t)?tl:Zn.current,s.context=Fc(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ob(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yv.enqueueReplaceState(s,s.state,null),Ph(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bc(e,t){try{var n="",r=t;do n+=bq(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ey(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G6=typeof WeakMap=="function"?WeakMap:Map;function QO(e,t,n){n=$s(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mh||(Mh=!0,yb=r),cb(e,t)},n}function XO(e,t,n){n=$s(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){cb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){cb(e,t),typeof r!="function"&&(za===null?za=new Set([this]):za.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function GC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G6;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=o8.bind(null,e,t,n),t.then(e,e))}function KC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function YC(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$s(-1,1),t.tag=2,qa(n,t,1))),n.lanes|=1),e)}var K6=ra.ReactCurrentOwner,wr=!1;function sr(e,t,n,r){t.child=e===null?EO(t,null,n,r):qc(t,e.child,n,r)}function QC(e,t,n,r,s){n=n.render;var a=t.ref;return uc(t,s),r=NN(e,t,n,r,a,s),n=SN(),e!==null&&!wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gs(e,t,s)):(Zt&&n&&uN(t),t.flags|=1,sr(e,t,r,s),t.child)}function XC(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!IN(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ZO(e,t,a,r,s)):(e=rh(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:nf,n(o,r)&&e.ref===t.ref)return Gs(e,t,s)}return t.flags|=1,e=Ua(a,r),e.ref=t.ref,e.return=t,t.child=e}function ZO(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(nf(a,r)&&e.ref===t.ref)if(wr=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(wr=!0);else return t.lanes=e.lanes,Gs(e,t,s)}return db(e,t,n,r,s)}function JO(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(ec,Or),Or|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(ec,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Bt(ec,Or),Or|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Bt(ec,Or),Or|=r;return sr(e,t,s,n),t.child}function eR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function db(e,t,n,r,s){var a=Er(n)?tl:Zn.current;return a=Fc(t,a),uc(t,s),n=NN(e,t,n,r,a,s),r=SN(),e!==null&&!wr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Gs(e,t,s)):(Zt&&r&&uN(t),t.flags|=1,sr(e,t,n,s),t.child)}function ZC(e,t,n,r,s){if(Er(n)){var a=!0;Ch(t)}else a=!1;if(uc(t,s),t.stateNode===null)eh(e,t),YO(t,n,r),lb(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=li(d):(d=Er(n)?tl:Zn.current,d=Fc(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&HC(t,o,r,d),xa=!1;var p=t.memoizedState;o.state=p,Ph(t,r,o,s),c=t.memoizedState,l!==r||p!==c||Cr.current||xa?(typeof u=="function"&&(ob(t,n,u,r),c=t.memoizedState),(l=xa||WC(t,n,l,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,AO(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:vi(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=li(c):(c=Er(n)?tl:Zn.current,c=Fc(t,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&HC(t,o,r,c),xa=!1,p=t.memoizedState,o.state=p,Ph(t,r,o,s);var h=t.memoizedState;l!==f||p!==h||Cr.current||xa?(typeof x=="function"&&(ob(t,n,x,r),h=t.memoizedState),(d=xa||WC(t,n,d,r,p,h,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ub(e,t,n,r,a,s)}function ub(e,t,n,r,s,a){eR(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&DC(t,n,!1),Gs(e,t,a);r=t.stateNode,K6.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qc(t,e.child,null,a),t.child=qc(t,null,l,a)):sr(e,t,l,a),t.memoizedState=r.state,s&&DC(t,n,!0),t.child}function tR(e){var t=e.stateNode;t.pendingContext?$C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$C(e,t.context,!1),yN(e,t.containerInfo)}function JC(e,t,n,r,s){return Lc(),pN(s),t.flags|=256,sr(e,t,n,r),t.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function pb(e){return{baseLanes:e,cachePool:null,transitions:null}}function nR(e,t,n){var r=t.pendingProps,s=rn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Bt(rn,s&1),e===null)return sb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=wv(o,r,0,null),e=Go(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pb(n),t.memoizedState=fb,e):kN(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Y6(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ua(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ua(l,a):(a=Go(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?pb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=fb,r}return a=e.child,e=a.sibling,r=Ua(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kN(e,t){return t=wv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function um(e,t,n,r){return r!==null&&pN(r),qc(t,e.child,null,n),e=kN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y6(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Ey(Error(he(422))),um(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=wv({mode:"visible",children:r.children},s,0,null),a=Go(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qc(t,e.child,null,o),t.child.memoizedState=pb(o),t.memoizedState=fb,a);if(!(t.mode&1))return um(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(he(419)),r=Ey(a,r,void 0),um(e,t,o,r)}if(l=(o&e.childLanes)!==0,wr||l){if(r=On,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Hs(e,s),Pi(r,e,s,-1))}return RN(),r=Ey(Error(he(421))),um(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=l8.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Dr=La(s.nextSibling),qr=t,Zt=!0,wi=null,e!==null&&(ti[ni++]=Ps,ti[ni++]=Ts,ti[ni++]=nl,Ps=e.id,Ts=e.overflow,nl=t),t=kN(t,r.children),t.flags|=4096,t)}function eE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ab(e.return,t,n)}function ky(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function rR(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(sr(e,t,r.children,n),r=rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eE(e,n,t);else if(e.tag===19)eE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bt(rn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Th(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ky(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Th(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ky(t,!0,n,null,a);break;case"together":ky(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),il|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Ua(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ua(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Q6(e,t,n){switch(t.tag){case 3:tR(t),Lc();break;case 5:_O(t);break;case 1:Er(t.type)&&Ch(t);break;case 4:yN(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Bt(Ah,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Bt(rn,rn.current&1),t.flags|=128,null):n&t.child.childLanes?nR(e,t,n):(Bt(rn,rn.current&1),e=Gs(e,t,n),e!==null?e.sibling:null);Bt(rn,rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rR(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Bt(rn,rn.current),r)break;return null;case 22:case 23:return t.lanes=0,JO(e,t,n)}return Gs(e,t,n)}var iR,mb,sR,aR;iR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mb=function(){};sR=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ro(rs.current);var a=null;switch(n){case"input":s=$0(e,s),r=$0(e,r),a=[];break;case"select":s=on({},s,{value:void 0}),r=on({},r,{value:void 0}),a=[];break;case"textarea":s=L0(e,s),r=L0(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nh)}z0(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Wt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};aR=function(e,t,n,r){n!==r&&(t.flags|=4)};function nu(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X6(e,t,n){var r=t.pendingProps;switch(fN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(t),null;case 1:return Er(t.type)&&Sh(),Vn(t),null;case 3:return r=t.stateNode,zc(),Kt(Cr),Kt(Zn),jN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wi!==null&&(wb(wi),wi=null))),mb(e,t),Vn(t),null;case 5:bN(t);var s=Ro(lf.current);if(n=t.type,e!==null&&t.stateNode!=null)sR(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Vn(t),null}if(e=Ro(rs.current),cm(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xi]=t,r[af]=a,e=(t.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(s=0;s<Cu.length;s++)Wt(Cu[s],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":cC(r,a),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Wt("invalid",r);break;case"textarea":uC(r,a),Wt("invalid",r)}z0(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&lm(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&lm(r.textContent,l,e),s=["children",""+l]):Yu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Wt("scroll",r)}switch(n){case"input":em(r),dC(r,a,!0);break;case"textarea":em(r),fC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Nh)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Xi]=t,e[af]=r,iR(e,t,!1,!1),t.stateNode=e;e:{switch(o=B0(n,r),n){case"dialog":Wt("cancel",e),Wt("close",e),s=r;break;case"iframe":case"object":case"embed":Wt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cu.length;s++)Wt(Cu[s],e);s=r;break;case"source":Wt("error",e),s=r;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),s=r;break;case"details":Wt("toggle",e),s=r;break;case"input":cC(e,r),s=$0(e,r),Wt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=on({},r,{value:void 0}),Wt("invalid",e);break;case"textarea":uC(e,r),s=L0(e,r),Wt("invalid",e);break;default:s=r}z0(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DT(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MT(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qu(e,c):typeof c=="number"&&Qu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Wt("scroll",e):c!=null&&Xw(e,a,c,o))}switch(n){case"input":em(e),dC(e,r,!1);break;case"textarea":em(e),fC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ga(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?oc(e,!!r.multiple,a,!1):r.defaultValue!=null&&oc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Nh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vn(t),null;case 6:if(e&&t.stateNode!=null)aR(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=Ro(lf.current),Ro(rs.current),cm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xi]=t,(a=r.nodeValue!==n)&&(e=qr,e!==null))switch(e.tag){case 3:lm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lm(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xi]=t,t.stateNode=r}return Vn(t),null;case 13:if(Kt(rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&Dr!==null&&t.mode&1&&!(t.flags&128))SO(),Lc(),t.flags|=98560,a=!1;else if(a=cm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(he(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[Xi]=t}else Lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vn(t),a=!1}else wi!==null&&(wb(wi),wi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?Cn===0&&(Cn=3):RN())),t.updateQueue!==null&&(t.flags|=4),Vn(t),null);case 4:return zc(),mb(e,t),e===null&&rf(t.stateNode.containerInfo),Vn(t),null;case 10:return xN(t.type._context),Vn(t),null;case 17:return Er(t.type)&&Sh(),Vn(t),null;case 19:if(Kt(rn),a=t.memoizedState,a===null)return Vn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)nu(a,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Th(e),o!==null){for(t.flags|=128,nu(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bt(rn,rn.current&1|2),t.child}e=e.sibling}a.tail!==null&&fn()>Uc&&(t.flags|=128,r=!0,nu(a,!1),t.lanes=4194304)}else{if(!r)if(e=Th(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zt)return Vn(t),null}else 2*fn()-a.renderingStartTime>Uc&&n!==1073741824&&(t.flags|=128,r=!0,nu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fn(),t.sibling=null,n=rn.current,Bt(rn,r?n&1|2:n&1),t):(Vn(t),null);case 22:case 23:return ON(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Or&1073741824&&(Vn(t),t.subtreeFlags&6&&(t.flags|=8192)):Vn(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function Z6(e,t){switch(fN(t),t.tag){case 1:return Er(t.type)&&Sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zc(),Kt(Cr),Kt(Zn),jN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bN(t),null;case 13:if(Kt(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(rn),null;case 4:return zc(),null;case 10:return xN(t.type._context),null;case 22:case 23:return ON(),null;case 24:return null;default:return null}}var fm=!1,Gn=!1,J6=typeof WeakSet=="function"?WeakSet:Set,De=null;function Jl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(e,t,r)}else n.current=null}function hb(e,t,n){try{n()}catch(r){cn(e,t,r)}}var tE=!1;function e8(e,t){if(Z0=bh,e=uO(),dN(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++d===s&&(l=o),p===a&&++u===r&&(c=o),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(J0={focusedElem:e,selectionRange:n},bh=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,y=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:vi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(N){cn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return h=tE,tE=!1,h}function Du(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&hb(t,n,a)}s=s.next}while(s!==r)}}function bv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oR(e){var t=e.alternate;t!==null&&(e.alternate=null,oR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xi],delete t[af],delete t[nb],delete t[$6],delete t[D6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lR(e){return e.tag===5||e.tag===3||e.tag===4}function nE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nh));else if(r!==4&&(e=e.child,e!==null))for(vb(e,t,n),e=e.sibling;e!==null;)vb(e,t,n),e=e.sibling}function gb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gb(e,t,n),e=e.sibling;e!==null;)gb(e,t,n),e=e.sibling}var Dn=null,yi=!1;function ca(e,t,n){for(n=n.child;n!==null;)cR(e,t,n),n=n.sibling}function cR(e,t,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(fv,n)}catch{}switch(n.tag){case 5:Gn||Jl(n,t);case 6:var r=Dn,s=yi;Dn=null,ca(e,t,n),Dn=r,yi=s,Dn!==null&&(yi?(e=Dn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(yi?(e=Dn,n=n.stateNode,e.nodeType===8?by(e.parentNode,n):e.nodeType===1&&by(e,n),ef(e)):by(Dn,n.stateNode));break;case 4:r=Dn,s=yi,Dn=n.stateNode.containerInfo,yi=!0,ca(e,t,n),Dn=r,yi=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hb(n,t,o),s=s.next}while(s!==r)}ca(e,t,n);break;case 1:if(!Gn&&(Jl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){cn(n,t,l)}ca(e,t,n);break;case 21:ca(e,t,n);break;case 22:n.mode&1?(Gn=(r=Gn)||n.memoizedState!==null,ca(e,t,n),Gn=r):ca(e,t,n);break;default:ca(e,t,n)}}function rE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J6),t.forEach(function(r){var s=c8.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dn=l.stateNode,yi=!1;break e;case 3:Dn=l.stateNode.containerInfo,yi=!0;break e;case 4:Dn=l.stateNode.containerInfo,yi=!0;break e}l=l.return}if(Dn===null)throw Error(he(160));cR(a,o,s),Dn=null,yi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){cn(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dR(t,e),t=t.sibling}function dR(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mi(t,e),Vi(e),r&4){try{Du(3,e,e.return),bv(3,e)}catch(m){cn(e,e.return,m)}try{Du(5,e,e.return)}catch(m){cn(e,e.return,m)}}break;case 1:mi(t,e),Vi(e),r&512&&n!==null&&Jl(n,n.return);break;case 5:if(mi(t,e),Vi(e),r&512&&n!==null&&Jl(n,n.return),e.flags&32){var s=e.stateNode;try{Qu(s,"")}catch(m){cn(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&OT(s,a),B0(l,o);var d=B0(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?DT(s,f):u==="dangerouslySetInnerHTML"?MT(s,f):u==="children"?Qu(s,f):Xw(s,u,f,d)}switch(l){case"input":D0(s,a);break;case"textarea":RT(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?oc(s,!!a.multiple,x,!1):p!==!!a.multiple&&(a.defaultValue!=null?oc(s,!!a.multiple,a.defaultValue,!0):oc(s,!!a.multiple,a.multiple?[]:"",!1))}s[af]=a}catch(m){cn(e,e.return,m)}}break;case 6:if(mi(t,e),Vi(e),r&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){cn(e,e.return,m)}}break;case 3:if(mi(t,e),Vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ef(t.containerInfo)}catch(m){cn(e,e.return,m)}break;case 4:mi(t,e),Vi(e);break;case 13:mi(t,e),Vi(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(PN=fn())),r&4&&rE(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Gn=(d=Gn)||u,mi(t,e),Gn=d):mi(t,e),Vi(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(De=e,u=e.child;u!==null;){for(f=De=u;De!==null;){switch(p=De,x=p.child,p.tag){case 0:case 11:case 14:case 15:Du(4,p,p.return);break;case 1:Jl(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){cn(r,n,m)}}break;case 5:Jl(p,p.return);break;case 22:if(p.memoizedState!==null){sE(f);continue}}x!==null?(x.return=p,De=x):sE(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$T("display",o))}catch(m){cn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(m){cn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mi(t,e),Vi(e),r&4&&rE(e);break;case 21:break;default:mi(t,e),Vi(e)}}function Vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lR(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Qu(s,""),r.flags&=-33);var a=nE(e);gb(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=nE(e);vb(e,l,o);break;default:throw Error(he(161))}}catch(c){cn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t8(e,t,n){De=e,uR(e)}function uR(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var s=De,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fm;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gn;l=fm;var d=Gn;if(fm=o,(Gn=c)&&!d)for(De=s;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?aE(s):c!==null?(c.return=o,De=c):aE(s);for(;a!==null;)De=a,uR(a),a=a.sibling;De=s,fm=l,Gn=d}iE(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,De=a):iE(e)}}function iE(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gn||bv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&BC(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}BC(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ef(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Gn||t.flags&512&&xb(t)}catch(p){cn(t,t.return,p)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function sE(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function aE(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bv(4,t)}catch(c){cn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){cn(t,s,c)}}var a=t.return;try{xb(t)}catch(c){cn(t,a,c)}break;case 5:var o=t.return;try{xb(t)}catch(c){cn(t,o,c)}}}catch(c){cn(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var n8=Math.ceil,Ih=ra.ReactCurrentDispatcher,AN=ra.ReactCurrentOwner,ai=ra.ReactCurrentBatchConfig,jt=0,On=null,yn=null,Ln=0,Or=0,ec=oo(0),Cn=0,ff=null,il=0,jv=0,_N=0,Fu=null,br=null,PN=0,Uc=1/0,Ss=null,Mh=!1,yb=null,za=null,pm=!1,Ra=null,$h=0,Lu=0,bb=null,th=-1,nh=0;function dr(){return jt&6?fn():th!==-1?th:th=fn()}function Ba(e){return e.mode&1?jt&2&&Ln!==0?Ln&-Ln:L6.transition!==null?(nh===0&&(nh=YT()),nh):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:nO(e.type)),e):1}function Pi(e,t,n,r){if(50<Lu)throw Lu=0,bb=null,Error(he(185));jp(e,n,r),(!(jt&2)||e!==On)&&(e===On&&(!(jt&2)&&(jv|=n),Cn===4&&ba(e,Ln)),kr(e,r),n===1&&jt===0&&!(t.mode&1)&&(Uc=fn()+500,vv&&lo()))}function kr(e,t){var n=e.callbackNode;Lq(e,t);var r=yh(e,e===On?Ln:0);if(r===0)n!==null&&hC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hC(n),t===1)e.tag===0?F6(oE.bind(null,e)):jO(oE.bind(null,e)),I6(function(){!(jt&6)&&lo()}),n=null;else{switch(QT(r)){case 1:n=nN;break;case 4:n=GT;break;case 16:n=gh;break;case 536870912:n=KT;break;default:n=gh}n=yR(n,fR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fR(e,t){if(th=-1,nh=0,jt&6)throw Error(he(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=yh(e,e===On?Ln:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dh(e,r);else{t=r;var s=jt;jt|=2;var a=mR();(On!==e||Ln!==t)&&(Ss=null,Uc=fn()+500,Ho(e,t));do try{s8();break}catch(l){pR(e,l)}while(!0);hN(),Ih.current=a,jt=s,yn!==null?t=0:(On=null,Ln=0,t=Cn)}if(t!==0){if(t===2&&(s=G0(e),s!==0&&(r=s,t=jb(e,s))),t===1)throw n=ff,Ho(e,0),ba(e,r),kr(e,fn()),n;if(t===6)ba(e,r);else{if(s=e.current.alternate,!(r&30)&&!r8(s)&&(t=Dh(e,r),t===2&&(a=G0(e),a!==0&&(r=a,t=jb(e,a))),t===1))throw n=ff,Ho(e,0),ba(e,r),kr(e,fn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:wo(e,br,Ss);break;case 3:if(ba(e,r),(r&130023424)===r&&(t=PN+500-fn(),10<t)){if(yh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tb(wo.bind(null,e,br,Ss),t);break}wo(e,br,Ss);break;case 4:if(ba(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-_i(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n8(r/1960))-r,10<r){e.timeoutHandle=tb(wo.bind(null,e,br,Ss),r);break}wo(e,br,Ss);break;case 5:wo(e,br,Ss);break;default:throw Error(he(329))}}}return kr(e,fn()),e.callbackNode===n?fR.bind(null,e):null}function jb(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(Ho(e,t).flags|=256),e=Dh(e,t),e!==2&&(t=br,br=n,t!==null&&wb(t)),e}function wb(e){br===null?br=e:br.push.apply(br,e)}function r8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Ri(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t){for(t&=~_N,t&=~jv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_i(t),r=1<<n;e[n]=-1,t&=~r}}function oE(e){if(jt&6)throw Error(he(327));fc();var t=yh(e,0);if(!(t&1))return kr(e,fn()),null;var n=Dh(e,t);if(e.tag!==0&&n===2){var r=G0(e);r!==0&&(t=r,n=jb(e,r))}if(n===1)throw n=ff,Ho(e,0),ba(e,t),kr(e,fn()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wo(e,br,Ss),kr(e,fn()),null}function TN(e,t){var n=jt;jt|=1;try{return e(t)}finally{jt=n,jt===0&&(Uc=fn()+500,vv&&lo())}}function sl(e){Ra!==null&&Ra.tag===0&&!(jt&6)&&fc();var t=jt;jt|=1;var n=ai.transition,r=Tt;try{if(ai.transition=null,Tt=1,e)return e()}finally{Tt=r,ai.transition=n,jt=t,!(jt&6)&&lo()}}function ON(){Or=ec.current,Kt(ec)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,R6(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(fN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:zc(),Kt(Cr),Kt(Zn),jN();break;case 5:bN(r);break;case 4:zc();break;case 13:Kt(rn);break;case 19:Kt(rn);break;case 10:xN(r.type._context);break;case 22:case 23:ON()}n=n.return}if(On=e,yn=e=Ua(e.current,null),Ln=Or=t,Cn=0,ff=null,_N=jv=il=0,br=Fu=null,Oo!==null){for(t=0;t<Oo.length;t++)if(n=Oo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Oo=null}return e}function pR(e,t){do{var n=yn;try{if(hN(),Zm.current=Rh,Oh){for(var r=sn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oh=!1}if(rl=0,Pn=Nn=sn=null,$u=!1,cf=0,AN.current=null,n===null||n.return===null){Cn=1,ff=t,yn=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ln,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=KC(o);if(x!==null){x.flags&=-257,YC(x,o,l,a,t),x.mode&1&&GC(a,d,t),t=x,c=d;var h=t.updateQueue;if(h===null){var m=new Set;m.add(c),t.updateQueue=m}else h.add(c);break e}else{if(!(t&1)){GC(a,d,t),RN();break e}c=Error(he(426))}}else if(Zt&&l.mode&1){var y=KC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),YC(y,o,l,a,t),pN(Bc(c,l));break e}}a=c=Bc(c,l),Cn!==4&&(Cn=2),Fu===null?Fu=[a]:Fu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=QO(a,c,t);zC(a,g);break e;case 1:l=c;var b=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(za===null||!za.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=XO(a,l,t);zC(a,N);break e}}a=a.return}while(a!==null)}xR(n)}catch(w){t=w,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function mR(){var e=Ih.current;return Ih.current=Rh,e===null?Rh:e}function RN(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),On===null||!(il&268435455)&&!(jv&268435455)||ba(On,Ln)}function Dh(e,t){var n=jt;jt|=2;var r=mR();(On!==e||Ln!==t)&&(Ss=null,Ho(e,t));do try{i8();break}catch(s){pR(e,s)}while(!0);if(hN(),jt=n,Ih.current=r,yn!==null)throw Error(he(261));return On=null,Ln=0,Cn}function i8(){for(;yn!==null;)hR(yn)}function s8(){for(;yn!==null&&!Pq();)hR(yn)}function hR(e){var t=gR(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?xR(e):yn=t,AN.current=null}function xR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Z6(n,t),n!==null){n.flags&=32767,yn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cn=6,yn=null;return}}else if(n=X6(n,t,Or),n!==null){yn=n;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);Cn===0&&(Cn=5)}function wo(e,t,n){var r=Tt,s=ai.transition;try{ai.transition=null,Tt=1,a8(e,t,n,r)}finally{ai.transition=s,Tt=r}return null}function a8(e,t,n,r){do fc();while(Ra!==null);if(jt&6)throw Error(he(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(qq(e,a),e===On&&(yn=On=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pm||(pm=!0,yR(gh,function(){return fc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ai.transition,ai.transition=null;var o=Tt;Tt=1;var l=jt;jt|=4,AN.current=null,e8(e,n),dR(n,e),E6(J0),bh=!!Z0,J0=Z0=null,e.current=n,t8(n),Tq(),jt=l,Tt=o,ai.transition=a}else e.current=n;if(pm&&(pm=!1,Ra=e,$h=s),a=e.pendingLanes,a===0&&(za=null),Iq(n.stateNode),kr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mh)throw Mh=!1,e=yb,yb=null,e;return $h&1&&e.tag!==0&&fc(),a=e.pendingLanes,a&1?e===bb?Lu++:(Lu=0,bb=e):Lu=0,lo(),null}function fc(){if(Ra!==null){var e=QT($h),t=ai.transition,n=Tt;try{if(ai.transition=null,Tt=16>e?16:e,Ra===null)var r=!1;else{if(e=Ra,Ra=null,$h=0,jt&6)throw Error(he(331));var s=jt;for(jt|=4,De=e.current;De!==null;){var a=De,o=a.child;if(De.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(De=d;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:Du(8,u,a)}var f=u.child;if(f!==null)f.return=u,De=f;else for(;De!==null;){u=De;var p=u.sibling,x=u.return;if(oR(u),u===d){De=null;break}if(p!==null){p.return=x,De=p;break}De=x}}}var h=a.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}De=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,De=o;else e:for(;De!==null;){if(a=De,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Du(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,De=g;break e}De=a.return}}var b=e.current;for(De=b;De!==null;){o=De;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,De=v;else e:for(o=b;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bv(9,l)}}catch(w){cn(l,l.return,w)}if(l===o){De=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,De=N;break e}De=l.return}}if(jt=s,lo(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(fv,e)}catch{}r=!0}return r}finally{Tt=n,ai.transition=t}}return!1}function lE(e,t,n){t=Bc(n,t),t=QO(e,t,1),e=qa(e,t,1),t=dr(),e!==null&&(jp(e,1,t),kr(e,t))}function cn(e,t,n){if(e.tag===3)lE(e,e,n);else for(;t!==null;){if(t.tag===3){lE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(za===null||!za.has(r))){e=Bc(n,e),e=XO(t,e,1),t=qa(t,e,1),e=dr(),t!==null&&(jp(t,1,e),kr(t,e));break}}t=t.return}}function o8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dr(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(Ln&n)===n&&(Cn===4||Cn===3&&(Ln&130023424)===Ln&&500>fn()-PN?Ho(e,0):_N|=n),kr(e,t)}function vR(e,t){t===0&&(e.mode&1?(t=rm,rm<<=1,!(rm&130023424)&&(rm=4194304)):t=1);var n=dr();e=Hs(e,t),e!==null&&(jp(e,t,n),kr(e,n))}function l8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vR(e,n)}function c8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),vR(e,n)}var gR;gR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)wr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wr=!1,Q6(e,t,n);wr=!!(e.flags&131072)}else wr=!1,Zt&&t.flags&1048576&&wO(t,kh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;eh(e,t),e=t.pendingProps;var s=Fc(t,Zn.current);uc(t,n),s=NN(null,t,r,e,s,n);var a=SN();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(r)?(a=!0,Ch(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gN(t),s.updater=yv,t.stateNode=s,s._reactInternals=t,lb(t,r,e,n),t=ub(null,t,r,!0,a,n)):(t.tag=0,Zt&&a&&uN(t),sr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(eh(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=u8(r),e=vi(r,e),s){case 0:t=db(null,t,r,e,n);break e;case 1:t=ZC(null,t,r,e,n);break e;case 11:t=QC(null,t,r,e,n);break e;case 14:t=XC(null,t,r,vi(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vi(r,s),db(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vi(r,s),ZC(e,t,r,s,n);case 3:e:{if(tR(t),e===null)throw Error(he(387));r=t.pendingProps,a=t.memoizedState,s=a.element,AO(e,t),Ph(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Bc(Error(he(423)),t),t=JC(e,t,r,n,s);break e}else if(r!==s){s=Bc(Error(he(424)),t),t=JC(e,t,r,n,s);break e}else for(Dr=La(t.stateNode.containerInfo.firstChild),qr=t,Zt=!0,wi=null,n=EO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lc(),r===s){t=Gs(e,t,n);break e}sr(e,t,r,n)}t=t.child}return t;case 5:return _O(t),e===null&&sb(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,eb(r,s)?o=null:a!==null&&eb(r,a)&&(t.flags|=32),eR(e,t),sr(e,t,o,n),t.child;case 6:return e===null&&sb(t),null;case 13:return nR(e,t,n);case 4:return yN(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qc(t,null,r,n):sr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vi(r,s),QC(e,t,r,s,n);case 7:return sr(e,t,t.pendingProps,n),t.child;case 8:return sr(e,t,t.pendingProps.children,n),t.child;case 12:return sr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Bt(Ah,r._currentValue),r._currentValue=o,a!==null)if(Ri(a.value,o)){if(a.children===s.children&&!Cr.current){t=Gs(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=$s(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ab(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ab(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}sr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,uc(t,n),s=li(s),r=r(s),t.flags|=1,sr(e,t,r,n),t.child;case 14:return r=t.type,s=vi(r,t.pendingProps),s=vi(r.type,s),XC(e,t,r,s,n);case 15:return ZO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vi(r,s),eh(e,t),t.tag=1,Er(r)?(e=!0,Ch(t)):e=!1,uc(t,n),YO(t,r,s),lb(t,r,s,n),ub(null,t,r,!0,e,n);case 19:return rR(e,t,n);case 22:return JO(e,t,n)}throw Error(he(156,t.tag))};function yR(e,t){return HT(e,t)}function d8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new d8(e,t,n,r)}function IN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u8(e){if(typeof e=="function")return IN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jw)return 11;if(e===eN)return 14}return 2}function Ua(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rh(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")IN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vl:return Go(n.children,s,a,t);case Zw:o=8,s|=8;break;case O0:return e=ii(12,n,t,s|2),e.elementType=O0,e.lanes=a,e;case R0:return e=ii(13,n,t,s),e.elementType=R0,e.lanes=a,e;case I0:return e=ii(19,n,t,s),e.elementType=I0,e.lanes=a,e;case _T:return wv(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kT:o=10;break e;case AT:o=9;break e;case Jw:o=11;break e;case eN:o=14;break e;case ha:o=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=ii(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Go(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function wv(e,t,n,r){return e=ii(22,e,r,t),e.elementType=_T,e.lanes=n,e.stateNode={isHidden:!1},e}function Ay(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function _y(e,t,n){return t=ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f8(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function MN(e,t,n,r,s,a,o,l,c){return e=new f8(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ii(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gN(a),e}function p8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bR(e){if(!e)return Ka;e=e._reactInternals;e:{if(bl(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(Er(n))return bO(e,n,t)}return t}function jR(e,t,n,r,s,a,o,l,c){return e=MN(n,r,!0,e,s,a,o,l,c),e.context=bR(null),n=e.current,r=dr(),s=Ba(n),a=$s(r,s),a.callback=t??null,qa(n,a,s),e.current.lanes=s,jp(e,s,r),kr(e,r),e}function Nv(e,t,n,r){var s=t.current,a=dr(),o=Ba(s);return n=bR(n),t.context===null?t.context=n:t.pendingContext=n,t=$s(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qa(s,t,o),e!==null&&(Pi(e,s,o,a),Xm(e,s,o)),o}function Fh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $N(e,t){cE(e,t),(e=e.alternate)&&cE(e,t)}function m8(){return null}var wR=typeof reportError=="function"?reportError:function(e){console.error(e)};function DN(e){this._internalRoot=e}Sv.prototype.render=DN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Nv(e,t,null,null)};Sv.prototype.unmount=DN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sl(function(){Nv(null,e,null,null)}),t[Ws]=null}};function Sv(e){this._internalRoot=e}Sv.prototype.unstable_scheduleHydration=function(e){if(e){var t=JT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ya.length&&t!==0&&t<ya[n].priority;n++);ya.splice(n,0,e),n===0&&tO(e)}};function FN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dE(){}function h8(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Fh(o);a.call(d)}}var o=jR(t,r,e,0,null,!1,!1,"",dE);return e._reactRootContainer=o,e[Ws]=o.current,rf(e.nodeType===8?e.parentNode:e),sl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Fh(c);l.call(d)}}var c=MN(e,0,!1,null,null,!1,!1,"",dE);return e._reactRootContainer=c,e[Ws]=c.current,rf(e.nodeType===8?e.parentNode:e),sl(function(){Nv(t,c,n,r)}),c}function Ev(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Fh(o);l.call(c)}}Nv(t,o,e,s)}else o=h8(n,t,e,s,r);return Fh(o)}XT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Su(t.pendingLanes);n!==0&&(rN(t,n|1),kr(t,fn()),!(jt&6)&&(Uc=fn()+500,lo()))}break;case 13:sl(function(){var r=Hs(e,1);if(r!==null){var s=dr();Pi(r,e,1,s)}}),$N(e,1)}};iN=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var n=dr();Pi(t,e,134217728,n)}$N(e,134217728)}};ZT=function(e){if(e.tag===13){var t=Ba(e),n=Hs(e,t);if(n!==null){var r=dr();Pi(n,e,t,r)}$N(e,t)}};JT=function(){return Tt};eO=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};V0=function(e,t,n){switch(t){case"input":if(D0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xv(r);if(!s)throw Error(he(90));TT(r),D0(r,s)}}}break;case"textarea":RT(e,n);break;case"select":t=n.value,t!=null&&oc(e,!!n.multiple,t,!1)}};qT=TN;zT=sl;var x8={usingClientEntryPoint:!1,Events:[Np,Kl,xv,FT,LT,TN]},ru={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v8={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VT(e),e===null?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||m8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{fv=mm.inject(v8),ns=mm}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8;Gr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FN(t))throw Error(he(200));return p8(e,t,null,n)};Gr.createRoot=function(e,t){if(!FN(e))throw Error(he(299));var n=!1,r="",s=wR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=MN(e,1,!1,null,null,n,!1,r,s),e[Ws]=t.current,rf(e.nodeType===8?e.parentNode:e),new DN(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=VT(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return sl(e)};Gr.hydrate=function(e,t,n){if(!Cv(t))throw Error(he(200));return Ev(null,e,t,!0,n)};Gr.hydrateRoot=function(e,t,n){if(!FN(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=wR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jR(t,null,e,1,n??null,s,!1,a,o),e[Ws]=t.current,rf(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sv(t)};Gr.render=function(e,t,n){if(!Cv(t))throw Error(he(200));return Ev(null,e,t,!1,n)};Gr.unmountComponentAtNode=function(e){if(!Cv(e))throw Error(he(40));return e._reactRootContainer?(sl(function(){Ev(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};Gr.unstable_batchedUpdates=TN;Gr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cv(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Ev(e,t,n,!1,r)};Gr.version="18.3.1-next-f1338f8080-20240426";function NR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NR)}catch(e){console.error(e)}}NR(),NT.exports=Gr;var jl=NT.exports;const g8=kt(jl);var SR,uE=jl;SR=uE.createRoot,uE.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fE="popstate";function y8(e={}){function t(r,s){let{pathname:a,search:o,hash:l}=r.location;return Nb("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:pf(s)}return j8(t,n,null,e)}function en(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ii(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b8(){return Math.random().toString(36).substring(2,10)}function pE(e,t){return{usr:e.state,key:e.key,idx:t}}function Nb(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kd(t):t,state:n,key:t&&t.key||r||b8()}}function pf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function j8(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=u(),g=y==null?null:y-d;d=y,c&&c({action:l,location:m.location,delta:g})}function p(y,g){l="PUSH";let b=Nb(m.location,y,g);d=u()+1;let v=pE(b,d),N=m.createHref(b);try{o.pushState(v,"",N)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(N)}a&&c&&c({action:l,location:m.location,delta:1})}function x(y,g){l="REPLACE";let b=Nb(m.location,y,g);d=u();let v=pE(b,d),N=m.createHref(b);o.replaceState(v,"",N),a&&c&&c({action:l,location:m.location,delta:0})}function h(y){return w8(y)}let m={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fE,f),c=y,()=>{s.removeEventListener(fE,f),c=null}},createHref(y){return t(s,y)},createURL:h,encodeLocation(y){let g=h(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:x,go(y){return o.go(y)}};return m}function w8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),en(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:pf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CR(e,t,n="/"){return N8(e,t,n,!1)}function N8(e,t,n,r){let s=typeof t=="string"?kd(t):t,a=Ks(s.pathname||"/",n);if(a==null)return null;let o=ER(e);S8(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=M8(a);l=R8(o[c],d,r)}return l}function ER(e,t=[],n=[],r="",s=!1){let a=(o,l,c=s,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;en(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let f=Ds([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(en(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ER(o.children,t,p,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:T8(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let d of kR(o.path))a(o,l,!0,d)}),t}function kR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=kR(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function S8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:O8(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C8=/^:[\w-]+$/,E8=3,k8=2,A8=1,_8=10,P8=-2,mE=e=>e==="*";function T8(e,t){let n=e.split("/"),r=n.length;return n.some(mE)&&(r+=P8),t&&(r+=k8),n.filter(s=>!mE(s)).reduce((s,a)=>s+(C8.test(a)?E8:a===""?A8:_8),r)}function O8(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function R8(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=Lh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Lh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ds([a,f.pathname]),pathnameBase:L8(Ds([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Ds([a,f.pathnameBase]))}return o}function Lh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I8(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let h=l[p]||"";o=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}const x=l[p];return f&&!x?d[u]=void 0:d[u]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function I8(e,t=!1,n=!0){Ii(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function M8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ks(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $8(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?kd(e):e;return{pathname:n?n.startsWith("/")?n:D8(n,t):t,search:q8(r),hash:z8(s)}}function D8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Py(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function LN(e){let t=F8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function qN(e,t,n,r=!1){let s;typeof e=="string"?s=kd(e):(s={...e},en(!s.pathname||!s.pathname.includes("?"),Py("?","pathname","search",s)),en(!s.pathname||!s.pathname.includes("#"),Py("#","pathname","hash",s)),en(!s.search||!s.search.includes("#"),Py("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=$8(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ds=e=>e.join("/").replace(/\/\/+/g,"/"),L8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AR=["POST","PUT","PATCH","DELETE"];new Set(AR);var U8=["GET",...AR];new Set(U8);var Ad=j.createContext(null);Ad.displayName="DataRouter";var kv=j.createContext(null);kv.displayName="DataRouterState";j.createContext(!1);var _R=j.createContext({isTransitioning:!1});_R.displayName="ViewTransition";var V8=j.createContext(new Map);V8.displayName="Fetchers";var W8=j.createContext(null);W8.displayName="Await";var qi=j.createContext(null);qi.displayName="Navigation";var Cp=j.createContext(null);Cp.displayName="Location";var zi=j.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var zN=j.createContext(null);zN.displayName="RouteError";function H8(e,{relative:t}={}){en(_d(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(qi),{hash:s,pathname:a,search:o}=Ep(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Ds([n,a])),r.createHref({pathname:l,search:o,hash:s})}function _d(){return j.useContext(Cp)!=null}function Rn(){return en(_d(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Cp).location}var PR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TR(e){j.useContext(qi).static||j.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=j.useContext(zi);return e?sz():G8()}function G8(){en(_d(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(Ad),{basename:t,navigator:n}=j.useContext(qi),{matches:r}=j.useContext(zi),{pathname:s}=Rn(),a=JSON.stringify(LN(r)),o=j.useRef(!1);return TR(()=>{o.current=!0}),j.useCallback((c,d={})=>{if(Ii(o.current,PR),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=qN(c,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ds([t,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[t,n,a,s,e])}j.createContext(null);function wl(){let{matches:e}=j.useContext(zi),t=e[e.length-1];return t?t.params:{}}function Ep(e,{relative:t}={}){let{matches:n}=j.useContext(zi),{pathname:r}=Rn(),s=JSON.stringify(LN(n));return j.useMemo(()=>qN(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function K8(e,t){return OR(e,t)}function OR(e,t,n,r,s){var b;en(_d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(qi),{matches:o}=j.useContext(zi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let v=f&&f.path||"";RR(d,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=Rn(),x;if(t){let v=typeof t=="string"?kd(t):t;en(u==="/"||((b=v.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),x=v}else x=p;let h=x.pathname||"/",m=h;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=CR(e,{pathname:m});Ii(f||y!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ii(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=J8(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Ds([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Ds([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r,s);return t&&g?j.createElement(Cp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},g):g}function Y8(){let e=iz(),t=B8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,o)}var Q8=j.createElement(Y8,null),X8=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(zi.Provider,{value:this.props.routeContext},j.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z8({routeContext:e,match:t,children:n}){let r=j.useContext(Ad);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(zi.Provider,{value:e},n)}function J8(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);en(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<a.length;d++){let u=a[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:p}=n,x=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,u,f)=>{let p,x=!1,h=null,m=null;n&&(p=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||Q8,l&&(c<0&&f===0?(RR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,m=null):c===f&&(x=!0,m=u.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),g=()=>{let b;return p?b=h:x?b=m:u.route.Component?b=j.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=d,j.createElement(Z8,{match:u,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?j.createElement(X8,{location:n.location,revalidation:n.revalidation,component:h,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):g()},null)}function BN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ez(e){let t=j.useContext(Ad);return en(t,BN(e)),t}function tz(e){let t=j.useContext(kv);return en(t,BN(e)),t}function nz(e){let t=j.useContext(zi);return en(t,BN(e)),t}function UN(e){let t=nz(e),n=t.matches[t.matches.length-1];return en(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rz(){return UN("useRouteId")}function iz(){var r;let e=j.useContext(zN),t=tz("useRouteError"),n=UN("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function sz(){let{router:e}=ez("useNavigate"),t=UN("useNavigate"),n=j.useRef(!1);return TR(()=>{n.current=!0}),j.useCallback(async(s,a={})=>{Ii(n.current,PR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var hE={};function RR(e,t,n){!t&&!hE[e]&&(hE[e]=!0,Ii(!1,n))}j.memo(az);function az({routes:e,future:t,state:n,unstable_onError:r}){return OR(e,void 0,n,r,t)}function No({to:e,replace:t,state:n,relative:r}){en(_d(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(qi);Ii(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(zi),{pathname:o}=Rn(),l=hr(),c=qN(e,LN(a),o,r==="path"),d=JSON.stringify(c);return j.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:r})},[l,d,r,t,n]),null}function rt(e){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){en(!_d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof n=="string"&&(n=kd(n));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=n,x=j.useMemo(()=>{let h=Ks(c,o);return h==null?null:{location:{pathname:h,search:d,hash:u,state:f,key:p},navigationType:r}},[o,c,d,u,f,p,r]);return Ii(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(qi.Provider,{value:l},j.createElement(Cp.Provider,{children:t,value:x}))}function lz({children:e,location:t}){return K8(Sb(e),t)}function Sb(e,t=[]){let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let a=[...t,s];if(r.type===j.Fragment){n.push.apply(n,Sb(r.props.children,a));return}en(r.type===rt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sb(r.props.children,a)),n.push(o)}),n}var ih="get",sh="application/x-www-form-urlencoded";function Av(e){return e!=null&&typeof e.tagName=="string"}function cz(e){return Av(e)&&e.tagName.toLowerCase()==="button"}function dz(e){return Av(e)&&e.tagName.toLowerCase()==="form"}function uz(e){return Av(e)&&e.tagName.toLowerCase()==="input"}function fz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pz(e,t){return e.button===0&&(!t||t==="_self")&&!fz(e)}var hm=null;function mz(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var hz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ty(e){return e!=null&&!hz.has(e)?(Ii(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):e}function xz(e,t){let n,r,s,a,o;if(dz(e)){let l=e.getAttribute("action");r=l?Ks(l,t):null,n=e.getAttribute("method")||ih,s=Ty(e.getAttribute("enctype"))||sh,a=new FormData(e)}else if(cz(e)||uz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?Ks(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ih,s=Ty(e.getAttribute("formenctype"))||Ty(l.getAttribute("enctype"))||sh,a=new FormData(l,e),!mz()){let{name:d,type:u,value:f}=e;if(u==="image"){let p=d?`${d}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else d&&a.append(d,f)}}else{if(Av(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,r=null,s=sh,o=e}return a&&s==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function VN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vz(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ks(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function gz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bz(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let o=await gz(a,n);return o.links?o.links():[]}return[]}));return Sz(r.flat(1).filter(yz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function xE(e,t,n,r,s,a){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,d)=>o(c,d)||l(c,d)):a==="data"?t.filter((c,d)=>{var f;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function jz(e,t,{includeHydrateFallback:n}={}){return wz(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function wz(e){return[...new Set(e)]}function Nz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Sz(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(Nz(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function IR(){let e=j.useContext(Ad);return VN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Cz(){let e=j.useContext(kv);return VN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var WN=j.createContext(void 0);WN.displayName="FrameworkContext";function MR(){let e=j.useContext(WN);return VN(e,"You must render this element inside a <HydratedRouter> element"),e}function Ez(e,t){let n=j.useContext(WN),[r,s]=j.useState(!1),[a,o]=j.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=t,p=j.useRef(null);j.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=g=>{g.forEach(b=>{o(b.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[e]),j.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let x=()=>{s(!0)},h=()=>{s(!1),o(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:iu(l,x),onBlur:iu(c,h),onMouseEnter:iu(d,x),onMouseLeave:iu(u,h),onTouchStart:iu(f,x)}]:[!1,p,{}]}function iu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function kz({page:e,...t}){let{router:n}=IR(),r=j.useMemo(()=>CR(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(_z,{page:e,matches:r,...t}):null}function Az(e){let{manifest:t,routeModules:n}=MR(),[r,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return bz(e,t,n).then(o=>{a||s(o)}),()=>{a=!0}},[e,t,n]),r}function _z({page:e,matches:t,...n}){let r=Rn(),{manifest:s,routeModules:a}=MR(),{basename:o}=IR(),{loaderData:l,matches:c}=Cz(),d=j.useMemo(()=>xE(e,t,c,s,r,"data"),[e,t,c,s,r]),u=j.useMemo(()=>xE(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,m=!1;if(t.forEach(g=>{var v;let b=s.routes[g.route.id];!b||!b.hasLoader||(!d.some(N=>N.route.id===g.route.id)&&g.route.id in l&&((v=a[g.route.id])!=null&&v.shouldRevalidate)||b.hasClientLoader?m=!0:h.add(g.route.id))}),h.size===0)return[];let y=vz(e,o,"data");return m&&h.size>0&&y.searchParams.set("_routes",t.filter(g=>h.has(g.route.id)).map(g=>g.route.id).join(",")),[y.pathname+y.search]},[o,l,r,s,d,t,e,a]),p=j.useMemo(()=>jz(u,s),[u,s]),x=Az(u);return j.createElement(j.Fragment,null,f.map(h=>j.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),p.map(h=>j.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),x.map(({key:h,link:m})=>j.createElement("link",{key:h,nonce:n.nonce,...m})))}function Pz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$R&&(window.__reactRouterVersion="7.8.2")}catch{}function Tz({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=y8({window:n,v5Compat:!0}));let s=r.current,[a,o]=j.useState({action:s.action,location:s.location}),l=j.useCallback(c=>{j.startTransition(()=>o(c))},[o]);return j.useLayoutEffect(()=>s.listen(l),[s,l]),j.createElement(oz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var DR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},x){let{basename:h}=j.useContext(qi),m=typeof d=="string"&&DR.test(d),y,g=!1;if(typeof d=="string"&&m&&(y=d,$R))try{let k=new URL(window.location.href),I=d.startsWith("//")?new URL(k.protocol+d):new URL(d),P=Ks(I.pathname,h);I.origin===k.origin&&P!=null?d=P+I.search+I.hash:g=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=H8(d,{relative:s}),[v,N,w]=Ez(r,p),C=Mz(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function E(k){t&&t(k),k.defaultPrevented||C(k)}let S=j.createElement("a",{...p,...w,href:y||b,onClick:g||a?t:E,ref:Pz(x,N),target:c,"data-discover":!m&&n==="render"?"true":void 0});return v&&!m?j.createElement(j.Fragment,null,S,j.createElement(kz,{page:b})):S});an.displayName="Link";var Oz=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:o,viewTransition:l,children:c,...d},u){let f=Ep(o,{relative:d.relative}),p=Rn(),x=j.useContext(kv),{navigator:h,basename:m}=j.useContext(qi),y=x!=null&&qz(f)&&l===!0,g=h.encodeLocation?h.encodeLocation(f).pathname:f.pathname,b=p.pathname,v=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(b=b.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=Ks(v,m)||v);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=b===g||!s&&b.startsWith(g)&&b.charAt(N)==="/",C=v!=null&&(v===g||!s&&v.startsWith(g)&&v.charAt(g.length)==="/"),E={isActive:w,isPending:C,isTransitioning:y},S=w?t:void 0,k;typeof r=="function"?k=r(E):k=[r,w?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(E):a;return j.createElement(an,{...d,"aria-current":S,className:k,ref:u,style:I,to:o,viewTransition:l},typeof c=="function"?c(E):c)});Oz.displayName="NavLink";var Rz=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:o=ih,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},x)=>{let h=Fz(),m=Lz(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&DR.test(l),b=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let N=v.nativeEvent.submitter,w=(N==null?void 0:N.getAttribute("formmethod"))||o;h(N||v.currentTarget,{fetcherKey:t,method:w,navigate:n,replace:s,state:a,relative:d,preventScrollReset:u,viewTransition:f})};return j.createElement("form",{ref:x,method:y,action:m,onSubmit:r?c:b,...p,"data-discover":!g&&e==="render"?"true":void 0})});Rz.displayName="Form";function Iz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FR(e){let t=j.useContext(Ad);return en(t,Iz(e)),t}function Mz(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o}={}){let l=hr(),c=Rn(),d=Ep(e,{relative:a});return j.useCallback(u=>{if(pz(u,t)){u.preventDefault();let f=n!==void 0?n:pf(c)===pf(d);l(e,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,r,t,e,s,a,o])}var $z=0,Dz=()=>`__${String(++$z)}__`;function Fz(){let{router:e}=FR("useSubmit"),{basename:t}=j.useContext(qi),n=rz();return j.useCallback(async(r,s={})=>{let{action:a,method:o,encType:l,formData:c,body:d}=xz(r,t);if(s.navigate===!1){let u=s.fetcherKey||Dz();await e.fetch(u,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Lz(e,{relative:t}={}){let{basename:n}=j.useContext(qi),r=j.useContext(zi);en(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Ep(e||".",{relative:t})},o=Rn();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();a.search=u?`?${u}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ds([n,a.pathname])),pf(a)}function qz(e,{relative:t}={}){let n=j.useContext(_R);en(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FR("useViewTransitionState"),s=Ep(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(s.pathname,o)!=null||Lh(s.pathname,a)!=null}const zz="/";var Pd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},al=typeof window>"u"||"Deno"in globalThis;function ei(){}function Bz(e,t){return typeof e=="function"?e(t):e}function Cb(e){return typeof e=="number"&&e>=0&&e!==1/0}function LR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pc(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function vE(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==HN(o,t.options))return!1}else if(!mf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function gE(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ol(t.options.mutationKey)!==ol(a))return!1}else if(!mf(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function HN(e,t){return((t==null?void 0:t.queryKeyHashFn)||ol)(e)}function ol(e){return JSON.stringify(e,(t,n)=>Eb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function mf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!mf(e[n],t[n])):!1}function qR(e,t){if(e===t)return e;const n=yE(e)&&yE(t);if(n||Eb(e)&&Eb(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:a[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=qR(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function qh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function yE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eb(e){if(!bE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!bE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bE(e){return Object.prototype.toString.call(e)==="[object Object]"}function Uz(e){return new Promise(t=>{setTimeout(t,e)})}function kb(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qR(e,t):t}function Vz(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Wz(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var GN=Symbol();function zR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===GN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Lo,Na,Sc,tT,Hz=(tT=class extends Pd{constructor(){super();Ze(this,Lo);Ze(this,Na);Ze(this,Sc);_e(this,Sc,t=>{if(!al&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Na)||this.setEventListener(H(this,Sc))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Na))==null||t.call(this),_e(this,Na,void 0))}setEventListener(t){var n;_e(this,Sc,t),(n=H(this,Na))==null||n.call(this),_e(this,Na,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){H(this,Lo)!==t&&(_e(this,Lo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof H(this,Lo)=="boolean"?H(this,Lo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lo=new WeakMap,Na=new WeakMap,Sc=new WeakMap,tT),KN=new Hz,Cc,Sa,Ec,nT,Gz=(nT=class extends Pd{constructor(){super();Ze(this,Cc,!0);Ze(this,Sa);Ze(this,Ec);_e(this,Ec,t=>{if(!al&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Sa)||this.setEventListener(H(this,Ec))}onUnsubscribe(){var t;this.hasListeners()||((t=H(this,Sa))==null||t.call(this),_e(this,Sa,void 0))}setEventListener(t){var n;_e(this,Ec,t),(n=H(this,Sa))==null||n.call(this),_e(this,Sa,t(this.setOnline.bind(this)))}setOnline(t){H(this,Cc)!==t&&(_e(this,Cc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return H(this,Cc)}},Cc=new WeakMap,Sa=new WeakMap,Ec=new WeakMap,nT),zh=new Gz;function Ab(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Kz(e){return Math.min(1e3*2**e,3e4)}function BR(e){return(e??"online")==="online"?zh.isOnline():!0}var UR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Oy(e){return e instanceof UR}function VR(e){let t=!1,n=0,r=!1,s;const a=Ab(),o=m=>{var y;r||(p(new UR(m)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>KN.isFocused()&&(e.networkMode==="always"||zh.isOnline())&&e.canRun(),u=()=>BR(e.networkMode)&&e.canRun(),f=m=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),a.resolve(m))},p=m=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),a.reject(m))},x=()=>new Promise(m=>{var y;s=g=>{(r||d())&&m(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),h=()=>{if(r)return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(f).catch(g=>{var C;if(r)return;const b=e.retry??(al?0:3),v=e.retryDelay??Kz,N=typeof v=="function"?v(n,g):v,w=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,g);if(t||!w){p(g);return}n++,(C=e.onFail)==null||C.call(e,n,g),Uz(N).then(()=>d()?void 0:x()).then(()=>{t?p(g):h()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?h():x().then(h),a)}}function Yz(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Sn=Yz(),qo,rT,WR=(rT=class{constructor(){Ze(this,qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cb(this.gcTime)&&_e(this,qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(al?1/0:5*60*1e3))}clearGcTimeout(){H(this,qo)&&(clearTimeout(H(this,qo)),_e(this,qo,void 0))}},qo=new WeakMap,rT),kc,Ac,Jr,Wn,xp,zo,gi,ws,iT,Qz=(iT=class extends WR{constructor(t){super();Ze(this,gi);Ze(this,kc);Ze(this,Ac);Ze(this,Jr);Ze(this,Wn);Ze(this,xp);Ze(this,zo);_e(this,zo,!1),_e(this,xp,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,Jr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,kc,Xz(this.options)),this.state=t.state??H(this,kc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=H(this,Wn))==null?void 0:t.promise}setOptions(t){this.options={...H(this,xp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Jr).remove(this)}setData(t,n){const r=kb(this.state.data,t,this.options);return ct(this,gi,ws).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ct(this,gi,ws).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=H(this,Wn))==null?void 0:r.promise;return(s=H(this,Wn))==null||s.cancel(t),n?n.then(ei).catch(ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,kc))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===GN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!LR(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Wn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=H(this,Wn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),H(this,Jr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(H(this,Wn)&&(H(this,zo)?H(this,Wn).cancel({revert:!0}):H(this,Wn).cancelRetry()),this.scheduleGc()),H(this,Jr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,gi,ws).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Wn))return H(this,Wn).continueRetry(),H(this,Wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(_e(this,zo,!0),r.signal)})},a=()=>{const f=zR(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),_e(this,zo,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),_e(this,Ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ct(this,gi,ws).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var p,x,h,m;Oy(f)&&f.silent||ct(this,gi,ws).call(this,{type:"error",error:f}),Oy(f)||((x=(p=H(this,Jr).config).onError)==null||x.call(p,f,this),(m=(h=H(this,Jr).config).onSettled)==null||m.call(h,this.state.data,f,this)),this.scheduleGc()};return _e(this,Wn,VR({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,x,h,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(x=(p=H(this,Jr).config).onSuccess)==null||x.call(p,f,this),(m=(h=H(this,Jr).config).onSettled)==null||m.call(h,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{ct(this,gi,ws).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{ct(this,gi,ws).call(this,{type:"pause"})},onContinue:()=>{ct(this,gi,ws).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),H(this,Wn).start()}},kc=new WeakMap,Ac=new WeakMap,Jr=new WeakMap,Wn=new WeakMap,xp=new WeakMap,zo=new WeakMap,gi=new WeakSet,ws=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...HR(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Oy(s)&&s.revert&&H(this,Ac)?{...H(this,Ac),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Sn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,Jr).notify({query:this,type:"updated",action:t})})},iT);function HR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gi,sT,Zz=(sT=class extends Pd{constructor(t={}){super();Ze(this,Gi);this.config=t,_e(this,Gi,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??HN(s,n);let o=this.get(a);return o||(o=new Qz({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){H(this,Gi).has(t.queryHash)||(H(this,Gi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=H(this,Gi).get(t.queryHash);n&&(t.destroy(),n===t&&H(this,Gi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return H(this,Gi).get(t)}getAll(){return[...H(this,Gi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vE(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>vE(t,r)):n}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gi=new WeakMap,sT),Ki,nr,Bo,Yi,pa,aT,Jz=(aT=class extends WR{constructor(t){super();Ze(this,Yi);Ze(this,Ki);Ze(this,nr);Ze(this,Bo);this.mutationId=t.mutationId,_e(this,nr,t.mutationCache),_e(this,Ki,[]),this.state=t.state||GR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){H(this,Ki).includes(t)||(H(this,Ki).push(t),this.clearGcTimeout(),H(this,nr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,Ki,H(this,Ki).filter(n=>n!==t)),this.scheduleGc(),H(this,nr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){H(this,Ki).length||(this.state.status==="pending"?this.scheduleGc():H(this,nr).remove(this))}continue(){var t;return((t=H(this,Bo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,d,u,f,p,x,h,m,y,g,b,v,N,w,C,E;_e(this,Bo,VR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{ct(this,Yi,pa).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{ct(this,Yi,pa).call(this,{type:"pause"})},onContinue:()=>{ct(this,Yi,pa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,nr).canRun(this)}));const n=this.state.status==="pending",r=!H(this,Bo).canStart();try{if(!n){ct(this,Yi,pa).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=H(this,nr).config).onMutate)==null?void 0:a.call(s,t,this));const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));k!==this.state.context&&ct(this,Yi,pa).call(this,{type:"pending",context:k,variables:t,isPaused:r})}const S=await H(this,Bo).start();return await((d=(c=H(this,nr).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((x=(p=H(this,nr).config).onSettled)==null?void 0:x.call(p,S,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,S,null,t,this.state.context)),ct(this,Yi,pa).call(this,{type:"success",data:S}),S}catch(S){try{throw await((g=(y=H(this,nr).config).onError)==null?void 0:g.call(y,S,t,this.state.context,this)),await((v=(b=this.options).onError)==null?void 0:v.call(b,S,t,this.state.context)),await((w=(N=H(this,nr).config).onSettled)==null?void 0:w.call(N,void 0,S,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,S,t,this.state.context)),S}finally{ct(this,Yi,pa).call(this,{type:"error",error:S})}}finally{H(this,nr).runNext(this)}}},Ki=new WeakMap,nr=new WeakMap,Bo=new WeakMap,Yi=new WeakSet,pa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Sn.batch(()=>{H(this,Ki).forEach(r=>{r.onMutationUpdate(t)}),H(this,nr).notify({mutation:this,type:"updated",action:t})})},aT);function GR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Tr,vp,oT,eB=(oT=class extends Pd{constructor(t={}){super();Ze(this,Tr);Ze(this,vp);this.config=t,_e(this,Tr,new Map),_e(this,vp,Date.now())}build(t,n,r){const s=new Jz({mutationCache:this,mutationId:++Qp(this,vp)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=xm(t),r=H(this,Tr).get(n)??[];r.push(t),H(this,Tr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=xm(t);if(H(this,Tr).has(n)){const s=(r=H(this,Tr).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?H(this,Tr).delete(n):H(this,Tr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=H(this,Tr).get(xm(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=H(this,Tr).get(xm(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...H(this,Tr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gE(n,r))}findAll(t={}){return this.getAll().filter(n=>gE(t,n))}notify(t){Sn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ei))))}},Tr=new WeakMap,vp=new WeakMap,oT);function xm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function jE(e){return{onFetch:(t,n)=>{var u,f,p,x,h;const r=t.options,s=(p=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const y=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},g=zR(t.options,t.fetchOptions),b=async(v,N,w)=>{if(m)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const C={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};y(C);const E=await g(C),{maxPages:S}=t.options,k=w?Wz:Vz;return{pages:k(v.pages,E,S),pageParams:k(v.pageParams,N,S)}};if(s&&a.length){const v=s==="backward",N=v?tB:wE,w={pages:a,pageParams:o},C=N(r,w);l=await b(w,C,v)}else{const v=e??a.length;do{const N=c===0?o[0]??r.initialPageParam:wE(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function wE(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tB(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ln,Ca,Ea,_c,Pc,ka,Tc,Oc,lT,nB=(lT=class{constructor(e={}){Ze(this,ln);Ze(this,Ca);Ze(this,Ea);Ze(this,_c);Ze(this,Pc);Ze(this,ka);Ze(this,Tc);Ze(this,Oc);_e(this,ln,e.queryCache||new Zz),_e(this,Ca,e.mutationCache||new eB),_e(this,Ea,e.defaultOptions||{}),_e(this,_c,new Map),_e(this,Pc,new Map),_e(this,ka,0)}mount(){Qp(this,ka)._++,H(this,ka)===1&&(_e(this,Tc,KN.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,ln).onFocus())})),_e(this,Oc,zh.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,ln).onOnline())})))}unmount(){var e,t;Qp(this,ka)._--,H(this,ka)===0&&((e=H(this,Tc))==null||e.call(this),_e(this,Tc,void 0),(t=H(this,Oc))==null||t.call(this),_e(this,Oc,void 0))}isFetching(e){return H(this,ln).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Ca).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,ln).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=H(this,ln).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(pc(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return H(this,ln).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=H(this,ln).get(r.queryHash),a=s==null?void 0:s.state.data,o=Bz(t,a);if(o!==void 0)return H(this,ln).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Sn.batch(()=>H(this,ln).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=H(this,ln).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=H(this,ln);Sn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=H(this,ln),r={type:"active",...e};return Sn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Sn.batch(()=>H(this,ln).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ei).catch(ei)}invalidateQueries(e={},t={}){return Sn.batch(()=>{if(H(this,ln).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Sn.batch(()=>H(this,ln).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(ei)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ei)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=H(this,ln).build(this,t);return n.isStaleByTime(pc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ei).catch(ei)}fetchInfiniteQuery(e){return e.behavior=jE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ei).catch(ei)}ensureInfiniteQueryData(e){return e.behavior=jE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zh.isOnline()?H(this,Ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,ln)}getMutationCache(){return H(this,Ca)}getDefaultOptions(){return H(this,Ea)}setDefaultOptions(e){_e(this,Ea,e)}setQueryDefaults(e,t){H(this,_c).set(ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,_c).values()];let n={};return t.forEach(r=>{mf(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){H(this,Pc).set(ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,Pc).values()];let n={};return t.forEach(r=>{mf(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Ea).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=HN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===GN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Ea).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,ln).clear(),H(this,Ca).clear()}},ln=new WeakMap,Ca=new WeakMap,Ea=new WeakMap,_c=new WeakMap,Pc=new WeakMap,ka=new WeakMap,Tc=new WeakMap,Oc=new WeakMap,lT),gr,gt,gp,rr,Uo,Rc,Aa,Qi,yp,Ic,Mc,Vo,Wo,_a,$c,Et,Eu,_b,Pb,Tb,Ob,Rb,Ib,Mb,KR,cT,rB=(cT=class extends Pd{constructor(t,n){super();Ze(this,Et);Ze(this,gr);Ze(this,gt);Ze(this,gp);Ze(this,rr);Ze(this,Uo);Ze(this,Rc);Ze(this,Aa);Ze(this,Qi);Ze(this,yp);Ze(this,Ic);Ze(this,Mc);Ze(this,Vo);Ze(this,Wo);Ze(this,_a);Ze(this,$c,new Set);this.options=n,_e(this,gr,t),_e(this,Qi,null),_e(this,Aa,Ab()),this.options.experimental_prefetchInRender||H(this,Aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,gt).addObserver(this),NE(H(this,gt),this.options)?ct(this,Et,Eu).call(this):this.updateResult(),ct(this,Et,Ob).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $b(H(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $b(H(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ct(this,Et,Rb).call(this),ct(this,Et,Ib).call(this),H(this,gt).removeObserver(this)}setOptions(t,n){const r=this.options,s=H(this,gt);if(this.options=H(this,gr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,H(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ct(this,Et,Mb).call(this),H(this,gt).setOptions(this.options),r._defaulted&&!qh(this.options,r)&&H(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,gt),observer:this});const a=this.hasListeners();a&&SE(H(this,gt),s,this.options,r)&&ct(this,Et,Eu).call(this),this.updateResult(n),a&&(H(this,gt)!==s||Ni(this.options.enabled,H(this,gt))!==Ni(r.enabled,H(this,gt))||pc(this.options.staleTime,H(this,gt))!==pc(r.staleTime,H(this,gt)))&&ct(this,Et,_b).call(this);const o=ct(this,Et,Pb).call(this);a&&(H(this,gt)!==s||Ni(this.options.enabled,H(this,gt))!==Ni(r.enabled,H(this,gt))||o!==H(this,_a))&&ct(this,Et,Tb).call(this,o)}getOptimisticResult(t){const n=H(this,gr).getQueryCache().build(H(this,gr),t),r=this.createResult(n,t);return sB(this,r)&&(_e(this,rr,r),_e(this,Rc,this.options),_e(this,Uo,H(this,gt).state)),r}getCurrentResult(){return H(this,rr)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){H(this,$c).add(t)}getCurrentQuery(){return H(this,gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=H(this,gr).defaultQueryOptions(t),r=H(this,gr).getQueryCache().build(H(this,gr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ct(this,Et,Eu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,rr)))}createResult(t,n){var S;const r=H(this,gt),s=this.options,a=H(this,rr),o=H(this,Uo),l=H(this,Rc),d=t!==r?t.state:H(this,gp),{state:u}=t;let f={...u},p=!1,x;if(n._optimisticResults){const k=this.hasListeners(),I=!k&&NE(t,n),P=k&&SE(t,r,n,s);(I||P)&&(f={...f,...HR(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:y}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===H(this,yp))x=H(this,Ic);else try{_e(this,yp,n.select),x=n.select(f.data),x=kb(a==null?void 0:a.data,x,n),_e(this,Ic,x),_e(this,Qi,null)}catch(k){_e(this,Qi,k)}else x=f.data;if(n.placeholderData!==void 0&&x===void 0&&y==="pending"){let k;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))k=a.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((S=H(this,Mc))==null?void 0:S.state.data,H(this,Mc)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),_e(this,Qi,null)}catch(I){_e(this,Qi,I)}k!==void 0&&(y="success",x=kb(a==null?void 0:a.data,k,n),p=!0)}H(this,Qi)&&(h=H(this,Qi),x=H(this,Ic),m=Date.now(),y="error");const g=f.fetchStatus==="fetching",b=y==="pending",v=y==="error",N=b&&g,w=x!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:v,isInitialLoading:N,isLoading:N,data:x,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:v&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:v&&w,isStale:YN(t,n),refetch:this.refetch,promise:H(this,Aa)};if(this.options.experimental_prefetchInRender){const k=A=>{E.status==="error"?A.reject(E.error):E.data!==void 0&&A.resolve(E.data)},I=()=>{const A=_e(this,Aa,E.promise=Ab());k(A)},P=H(this,Aa);switch(P.status){case"pending":t.queryHash===r.queryHash&&k(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&I();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&I();break}}return E}updateResult(t){const n=H(this,rr),r=this.createResult(H(this,gt),this.options);if(_e(this,Uo,H(this,gt).state),_e(this,Rc,this.options),H(this,Uo).data!==void 0&&_e(this,Mc,H(this,gt)),qh(r,n))return;_e(this,rr,r);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!H(this,$c).size)return!0;const c=new Set(l??H(this,$c));return this.options.throwOnError&&c.add("error"),Object.keys(H(this,rr)).some(d=>{const u=d;return H(this,rr)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),ct(this,Et,KR).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ct(this,Et,Ob).call(this)}},gr=new WeakMap,gt=new WeakMap,gp=new WeakMap,rr=new WeakMap,Uo=new WeakMap,Rc=new WeakMap,Aa=new WeakMap,Qi=new WeakMap,yp=new WeakMap,Ic=new WeakMap,Mc=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,_a=new WeakMap,$c=new WeakMap,Et=new WeakSet,Eu=function(t){ct(this,Et,Mb).call(this);let n=H(this,gt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ei)),n},_b=function(){ct(this,Et,Rb).call(this);const t=pc(this.options.staleTime,H(this,gt));if(al||H(this,rr).isStale||!Cb(t))return;const r=LR(H(this,rr).dataUpdatedAt,t)+1;_e(this,Vo,setTimeout(()=>{H(this,rr).isStale||this.updateResult()},r))},Pb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,gt)):this.options.refetchInterval)??!1},Tb=function(t){ct(this,Et,Ib).call(this),_e(this,_a,t),!(al||Ni(this.options.enabled,H(this,gt))===!1||!Cb(H(this,_a))||H(this,_a)===0)&&_e(this,Wo,setInterval(()=>{(this.options.refetchIntervalInBackground||KN.isFocused())&&ct(this,Et,Eu).call(this)},H(this,_a)))},Ob=function(){ct(this,Et,_b).call(this),ct(this,Et,Tb).call(this,ct(this,Et,Pb).call(this))},Rb=function(){H(this,Vo)&&(clearTimeout(H(this,Vo)),_e(this,Vo,void 0))},Ib=function(){H(this,Wo)&&(clearInterval(H(this,Wo)),_e(this,Wo,void 0))},Mb=function(){const t=H(this,gr).getQueryCache().build(H(this,gr),this.options);if(t===H(this,gt))return;const n=H(this,gt);_e(this,gt,t),_e(this,gp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},KR=function(t){Sn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(H(this,rr))}),H(this,gr).getQueryCache().notify({query:H(this,gt),type:"observerResultsUpdated"})})},cT);function iB(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function NE(e,t){return iB(e,t)||e.state.data!==void 0&&$b(e,t,t.refetchOnMount)}function $b(e,t,n){if(Ni(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&YN(e,t)}return!1}function SE(e,t,n,r){return(e!==t||Ni(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&YN(e,n)}function YN(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(pc(t.staleTime,e))}function sB(e,t){return!qh(e.getCurrentResult(),t)}var Pa,Ta,yr,As,Us,ah,Db,dT,aB=(dT=class extends Pd{constructor(n,r){super();Ze(this,Us);Ze(this,Pa);Ze(this,Ta);Ze(this,yr);Ze(this,As);_e(this,Pa,n),this.setOptions(r),this.bindMethods(),ct(this,Us,ah).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=H(this,Pa).defaultMutationOptions(n),qh(this.options,r)||H(this,Pa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,yr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():((s=H(this,yr))==null?void 0:s.state.status)==="pending"&&H(this,yr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=H(this,yr))==null||n.removeObserver(this)}onMutationUpdate(n){ct(this,Us,ah).call(this),ct(this,Us,Db).call(this,n)}getCurrentResult(){return H(this,Ta)}reset(){var n;(n=H(this,yr))==null||n.removeObserver(this),_e(this,yr,void 0),ct(this,Us,ah).call(this),ct(this,Us,Db).call(this)}mutate(n,r){var s;return _e(this,As,r),(s=H(this,yr))==null||s.removeObserver(this),_e(this,yr,H(this,Pa).getMutationCache().build(H(this,Pa),this.options)),H(this,yr).addObserver(this),H(this,yr).execute(n)}},Pa=new WeakMap,Ta=new WeakMap,yr=new WeakMap,As=new WeakMap,Us=new WeakSet,ah=function(){var r;const n=((r=H(this,yr))==null?void 0:r.state)??GR();_e(this,Ta,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Db=function(n){Sn.batch(()=>{var r,s,a,o,l,c,d,u;if(H(this,As)&&this.hasListeners()){const f=H(this,Ta).variables,p=H(this,Ta).context;(n==null?void 0:n.type)==="success"?((s=(r=H(this,As)).onSuccess)==null||s.call(r,n.data,f,p),(o=(a=H(this,As)).onSettled)==null||o.call(a,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=H(this,As)).onError)==null||c.call(l,n.error,f,p),(u=(d=H(this,As)).onSettled)==null||u.call(d,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(H(this,Ta))})})},dT),YR=j.createContext(void 0),Ar=e=>{const t=j.useContext(YR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oB=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(YR.Provider,{value:e,children:t})),QR=j.createContext(!1),lB=()=>j.useContext(QR);QR.Provider;function cB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dB=j.createContext(cB()),uB=()=>j.useContext(dB);function XR(e,t){return typeof e=="function"?e(...t):!!e}function Fb(){}var fB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},pB=e=>{j.useEffect(()=>{e.clearReset()},[e])},mB=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&XR(n,[e.error,r]),hB=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},xB=(e,t)=>e.isLoading&&e.isFetching&&!t,vB=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,CE=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function gB(e,t,n){var u,f,p,x,h;const r=Ar(),s=lB(),a=uB(),o=r.defaultQueryOptions(e);(f=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",hB(o),fB(o,a),pB(a);const l=!r.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(m=>{const y=s?Fb:c.subscribe(Sn.batchCalls(m));return c.updateResult(),y},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),vB(o,d))throw CE(o,c,a);if(mB({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((x=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,d),o.experimental_prefetchInRender&&!al&&xB(d,s)){const m=l?CE(o,c,a):(h=r.getQueryCache().get(o.queryHash))==null?void 0:h.promise;m==null||m.catch(Fb).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ae(e,t){return gB(e,rB)}function lt(e,t){const n=Ar(),[r]=j.useState(()=>new aB(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const s=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(Sn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((o,l)=>{r.mutate(o,l).catch(Fb)},[r]);if(s.error&&XR(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function ZR(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function bt(e,t){const{method:n="GET",body:r,headers:s={}}=t||{};console.log(`[API Request] ${n} ${e}`);const o={Accept:"application/json",...r?{"Content-Type":"application/json","Cache-Control":"no-cache"}:{},...{},...s},l=await fetch(e,{method:n,headers:o,body:r,credentials:"include"});console.log(`[API Response] ${l.status} ${l.statusText}`);const c=l.headers.get("content-type");return c&&c.includes("text/html")&&l.status===200&&(console.warn(`[API Request] Detected Vite HTML interference for ${e}`),e.includes("/api/evidence-library/")&&n==="PUT")?(console.log("[API Request] Evidence Library update appears successful despite HTML response"),new Response(JSON.stringify({success:!0,message:"Update successful"}),{status:200,headers:{"Content-Type":"application/json"}})):(await ZR(l),l)}const yB=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await ZR(n),await n.json())},gn=new nB({defaultOptions:{queries:{queryFn:yB({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,gcTime:0,retry:!1},mutations:{retry:!1}}}),bB=1,jB=1e6;let Ry=0;function wB(){return Ry=(Ry+1)%Number.MAX_SAFE_INTEGER,Ry.toString()}const Iy=new Map,EE=e=>{if(Iy.has(e))return;const t=setTimeout(()=>{Iy.delete(e),qu({type:"REMOVE_TOAST",toastId:e})},jB);Iy.set(e,t)},NB=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bB)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?EE(n):e.toasts.forEach(r=>{EE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},oh=[];let lh={toasts:[]};function qu(e){lh=NB(lh,e),oh.forEach(t=>{t(lh)})}function JR({...e}){const t=wB(),n=s=>qu({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>qu({type:"DISMISS_TOAST",toastId:t});return qu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Ot(){const[e,t]=j.useState(lh);return j.useEffect(()=>(oh.push(t),()=>{const n=oh.indexOf(t);n>-1&&oh.splice(n,1)}),[e]),{...e,toast:JR,dismiss:n=>qu({type:"DISMISS_TOAST",toastId:n})}}function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function kE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _v(...e){return t=>{let n=!1;const r=e.map(s=>{const a=kE(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():kE(e[s],null)}}}}function pt(...e){return j.useCallback(_v(...e),e)}function SB(e,t){const n=j.createContext(t),r=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function xr(e,t=[]){let n=[];function r(a,o){const l=j.createContext(o),c=n.length;n=[...n,o];const d=f=>{var g;const{scope:p,children:x,...h}=f,m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,y=j.useMemo(()=>h,Object.values(h));return i.jsx(m.Provider,{value:y,children:x})};d.displayName=a+"Provider";function u(f,p){var m;const x=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,h=j.useContext(x);if(h)return h;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const s=()=>{const a=n.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,CB(s,...t)]}function CB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Vc(e){const t=EB(e),n=j.forwardRef((r,s)=>{const{children:a,...o}=r,l=j.Children.toArray(a),c=l.find(AB);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return i.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var eI=Vc("Slot");function EB(e){const t=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=PB(s),l=_B(a,s.props);return s.type!==j.Fragment&&(l.ref=r?_v(r,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tI=Symbol("radix.slottable");function kB(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=tI,t}function AB(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tI}function _B(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function PB(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function QN(e){const t=e+"CollectionProvider",[n,r]=xr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,b=F.useRef(null),v=F.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:v,collectionRef:b,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Vc(l),d=F.forwardRef((m,y)=>{const{scope:g,children:b}=m,v=a(l,g),N=pt(y,v.collectionRef);return i.jsx(c,{ref:N,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Vc(u),x=F.forwardRef((m,y)=>{const{scope:g,children:b,...v}=m,N=F.useRef(null),w=pt(y,N),C=a(u,g);return F.useEffect(()=>(C.itemMap.set(N,{ref:N,...v}),()=>void C.itemMap.delete(N))),i.jsx(p,{[f]:"",ref:w,children:b})});x.displayName=u;function h(m){const y=a(e+"CollectionConsumer",m);return F.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((C,E)=>v.indexOf(C.ref.current)-v.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},h,r]}var TB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=TB.reduce((e,t)=>{const n=Vc(`Primitive.${t}`),r=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nI(e,t){e&&jl.flushSync(()=>e.dispatchEvent(t))}function pn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function OB(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e);j.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var RB="DismissableLayer",Lb="dismissableLayer.update",IB="dismissableLayer.pointerDownOutside",MB="dismissableLayer.focusOutside",AE,rI=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(rI),[u,f]=j.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=j.useState({}),h=pt(t,E=>f(E)),m=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(y),b=u?m.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,N=b>=g,w=DB(E=>{const S=E.target,k=[...d.branches].some(I=>I.contains(S));!N||k||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),C=FB(E=>{const S=E.target;[...d.branches].some(I=>I.contains(S))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return OB(E=>{b===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),j.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(AE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),_E(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=AE)}},[u,p,n,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),_E())},[u,d]),j.useEffect(()=>{const E=()=>x({});return document.addEventListener(Lb,E),()=>document.removeEventListener(Lb,E)},[]),i.jsx(Xe.div,{...c,ref:h,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,C.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,w.onPointerDownCapture)})});kp.displayName=RB;var $B="DismissableLayerBranch",iI=j.forwardRef((e,t)=>{const n=j.useContext(rI),r=j.useRef(null),s=pt(t,r);return j.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Xe.div,{...e,ref:s})});iI.displayName=$B;function DB(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),r=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){sI(IB,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function FB(e,t=globalThis==null?void 0:globalThis.document){const n=pn(e),r=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!r.current&&sI(MB,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _E(){const e=new CustomEvent(Lb);document.dispatchEvent(e)}function sI(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nI(s,a):s.dispatchEvent(a)}var LB=kp,qB=iI,hn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},zB="Portal",Pv=j.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=j.useState(!1);hn(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?g8.createPortal(i.jsx(Xe.div,{...r,ref:t}),o):null});Pv.displayName=zB;function BB(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Yr=e=>{const{present:t,children:n}=e,r=UB(t),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=pt(r.ref,VB(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:a}):null};Yr.displayName="Presence";function UB(e){const[t,n]=j.useState(),r=j.useRef({}),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=BB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=vm(r.current);a.current=l==="mounted"?d:"none"},[l]),hn(()=>{const d=r.current,u=s.current;if(u!==e){const p=a.current,x=vm(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),hn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=x=>{const m=vm(r.current).includes(x.animationName);if(x.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=x=>{x.target===t&&(a.current=vm(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function vm(e){return(e==null?void 0:e.animationName)||"none"}function VB(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=WB({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=pn(n),c=j.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else s(d)},[a,e,s,l]);return[o,c]}function WB({defaultProp:e,onChange:t}){const n=j.useState(e),[r]=n,s=j.useRef(r),a=pn(t);return j.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var HB="VisuallyHidden",Ap=j.forwardRef((e,t)=>i.jsx(Xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ap.displayName=HB;var GB=Ap,XN="ToastProvider",[ZN,KB,YB]=QN("Toast"),[aI,$Se]=xr("Toast",[YB]),[QB,Tv]=aI(XN),oI=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[d,u]=j.useState(0),f=j.useRef(!1),p=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${XN}\`. Expected non-empty \`string\`.`),i.jsx(ZN.Provider,{scope:t,children:i.jsx(QB,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>u(x=>x+1),[]),onToastRemove:j.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};oI.displayName=XN;var lI="ToastViewport",XB=["F8"],qb="toast.viewportPause",zb="toast.viewportResume",cI=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=XB,label:s="Notifications ({hotkey})",...a}=e,o=Tv(lI,n),l=KB(n),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),f=j.useRef(null),p=pt(t,f,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=o.toastCount>0;j.useEffect(()=>{const y=g=>{var v;r.length!==0&&r.every(N=>g[N]||g.code===N)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),j.useEffect(()=>{const y=c.current,g=f.current;if(h&&y&&g){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(qb);g.dispatchEvent(C),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(zb);g.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!y.contains(C.relatedTarget)&&v()},w=()=>{y.contains(document.activeElement)||v()};return y.addEventListener("focusin",b),y.addEventListener("focusout",N),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",w),window.addEventListener("blur",b),window.addEventListener("focus",v),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",b),window.removeEventListener("focus",v)}}},[h,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:y})=>{const b=l().map(v=>{const N=v.ref.current,w=[N,...dU(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return j.useEffect(()=>{const y=f.current;if(y){const g=b=>{var w,C,E;const v=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!v){const S=document.activeElement,k=b.shiftKey;if(b.target===y&&k){(w=d.current)==null||w.focus();return}const A=m({tabbingDirection:k?"backwards":"forwards"}),_=A.findIndex(O=>O===S);My(A.slice(_+1))?b.preventDefault():k?(C=d.current)==null||C.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[l,m]),i.jsxs(qB,{ref:c,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&i.jsx(Bb,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});My(y)}}),i.jsx(ZN.Slot,{scope:n,children:i.jsx(Xe.ol,{tabIndex:-1,...a,ref:p})}),h&&i.jsx(Bb,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});My(y)}})]})});cI.displayName=lI;var dI="ToastFocusProxy",Bb=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Tv(dI,n);return i.jsx(Ap,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Bb.displayName=dI;var Ov="Toast",ZB="toast.swipeStart",JB="toast.swipeMove",eU="toast.swipeCancel",tU="toast.swipeEnd",uI=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=cs({prop:r,defaultProp:s,onChange:a});return i.jsx(Yr,{present:n||l,children:i.jsx(iU,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pn(e.onPause),onResume:pn(e.onResume),onSwipeStart:Le(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Le(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});uI.displayName=Ov;var[nU,rU]=aI(Ov,{onClose(){}}),iU=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:x,...h}=e,m=Tv(Ov,n),[y,g]=j.useState(null),b=pt(t,O=>g(O)),v=j.useRef(null),N=j.useRef(null),w=s||m.duration,C=j.useRef(0),E=j.useRef(w),S=j.useRef(0),{onToastAdd:k,onToastRemove:I}=m,P=pn(()=>{var D;(y==null?void 0:y.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),o()}),A=j.useCallback(O=>{!O||O===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(P,O))},[P]);j.useEffect(()=>{const O=m.viewport;if(O){const D=()=>{A(E.current),d==null||d()},M=()=>{const V=new Date().getTime()-C.current;E.current=E.current-V,window.clearTimeout(S.current),c==null||c()};return O.addEventListener(qb,M),O.addEventListener(zb,D),()=>{O.removeEventListener(qb,M),O.removeEventListener(zb,D)}}},[m.viewport,w,c,d,A]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&A(w)},[a,w,m.isClosePausedRef,A]),j.useEffect(()=>(k(),()=>I()),[k,I]);const _=j.useMemo(()=>y?gI(y):null,[y]);return m.viewport?i.jsxs(i.Fragment,{children:[_&&i.jsx(sU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:_}),i.jsx(nU,{scope:n,onClose:P,children:jl.createPortal(i.jsx(ZN.ItemSlot,{scope:n,children:i.jsx(LB,{asChild:!0,onEscapeKeyDown:Le(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||P(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...h,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Le(e.onPointerDown,O=>{O.button===0&&(v.current={x:O.clientX,y:O.clientY})}),onPointerMove:Le(e.onPointerMove,O=>{if(!v.current)return;const D=O.clientX-v.current.x,M=O.clientY-v.current.y,V=!!N.current,q=["left","right"].includes(m.swipeDirection),R=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=q?R(0,D):0,Y=q?0:R(0,M),$=O.pointerType==="touch"?10:2,re={x:B,y:Y},ee={originalEvent:O,delta:re};V?(N.current=re,gm(JB,f,ee,{discrete:!1})):PE(re,m.swipeDirection,$)?(N.current=re,gm(ZB,u,ee,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(D)>$||Math.abs(M)>$)&&(v.current=null)}),onPointerUp:Le(e.onPointerUp,O=>{const D=N.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),N.current=null,v.current=null,D){const V=O.currentTarget,q={originalEvent:O,delta:D};PE(D,m.swipeDirection,m.swipeThreshold)?gm(tU,x,q,{discrete:!0}):gm(eU,p,q,{discrete:!0}),V.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),sU=e=>{const{__scopeToast:t,children:n,...r}=e,s=Tv(Ov,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return lU(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(Pv,{asChild:!0,children:i.jsx(Ap,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},aU="ToastTitle",fI=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Xe.div,{...r,ref:t})});fI.displayName=aU;var oU="ToastDescription",pI=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Xe.div,{...r,ref:t})});pI.displayName=oU;var mI="ToastAction",hI=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(vI,{altText:n,asChild:!0,children:i.jsx(JN,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${mI}\`. Expected non-empty \`string\`.`),null)});hI.displayName=mI;var xI="ToastClose",JN=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=rU(xI,n);return i.jsx(vI,{asChild:!0,children:i.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,s.onClose)})})});JN.displayName=xI;var vI=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function gI(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),cU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...gI(r))}}),t}function gm(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nI(s,a):s.dispatchEvent(a)}var PE=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function lU(e=()=>{}){const t=pn(e);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function cU(e){return e.nodeType===e.ELEMENT_NODE}function dU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function My(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var uU=oI,yI=cI,bI=uI,jI=fI,wI=pI,NI=hI,SI=JN;function CI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=CI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=CI(e))&&(r&&(r+=" "),r+=t);return r}const TE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,OE=dt,_p=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return OE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],f=a==null?void 0:a[d];if(u===null)return null;const p=TE(u)||TE(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:f,className:p,...x}=u;return Object.entries(x).every(h=>{let[m,y]=h;return Array.isArray(y)?y.includes({...a,...l}[m]):{...a,...l}[m]===y})?[...d,f,p]:d},[]);return OE(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EI=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...pU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:EI("lucide",s),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(mU,{ref:a,iconNode:t,className:EI(`lucide-${fU(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=be("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=be("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=be("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=be("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=be("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=be("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=be("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=be("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),r1="-",FU=e=>{const t=qU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(r1);return l[0]===""&&l.length!==1&&l.shift(),qI(l,t)||LU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},qI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?qI(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(r1);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},LE=/^\[(.+)\]$/,LU=e=>{if(LE.test(e)){const t=LE.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},qU=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return BU(Object.entries(e.classGroups),n).forEach(([a,o])=>{Wb(o,r,a,t)}),r},Wb=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:qE(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(zU(s)){Wb(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{Wb(o,qE(t,a),n,r)})})},qE=(e,t)=>{let n=e;return t.split(r1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zU=e=>e.isThemeGetter,BU=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,UU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},zI="!",VU=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let g=l[y];if(d===0){if(g===s&&(r||l.slice(y,y+a)===t)){c.push(l.slice(u,y)),u=y+a;continue}if(g==="/"){f=y;continue}}g==="["?d++:g==="]"&&d--}const p=c.length===0?l:l.substring(u),x=p.startsWith(zI),h=x?p.substring(1):p,m=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},WU=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},HU=e=>({cache:UU(e.cacheSize),parseClassName:VU(e),...FU(e)}),GU=/\s+/,KU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(GU);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:x}=n(d);let h=!!x,m=r(h?p.substring(0,x):p);if(!m){if(!h){l=d+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=d+(l.length>0?" "+l:l);continue}h=!1}const y=WU(u).join(":"),g=f?y+zI:y,b=g+m;if(a.includes(b))continue;a.push(b);const v=s(m,h);for(let N=0;N<v.length;++N){const w=v[N];a.push(g+w)}l=d+(l.length>0?" "+l:l)}return l};function YU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=BI(t))&&(r&&(r+=" "),r+=n);return r}const BI=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=BI(e[r]))&&(n&&(n+=" "),n+=t);return n};function QU(e,...t){let n,r,s,a=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return n=HU(d),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=KU(c,n);return s(c,u),u}return function(){return a(YU.apply(null,arguments))}}const Vt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},UI=/^\[(?:([a-z-]+):)?(.+)\]$/i,XU=/^\d+\/\d+$/,ZU=new Set(["px","full","screen"]),JU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=e=>hc(e)||ZU.has(e)||XU.test(e),da=e=>Td(e,"length",uV),hc=e=>!!e&&!Number.isNaN(Number(e)),Dy=e=>Td(e,"number",hc),su=e=>!!e&&Number.isInteger(Number(e)),iV=e=>e.endsWith("%")&&hc(e.slice(0,-1)),ot=e=>UI.test(e),ua=e=>JU.test(e),sV=new Set(["length","size","percentage"]),aV=e=>Td(e,sV,VI),oV=e=>Td(e,"position",VI),lV=new Set(["image","url"]),cV=e=>Td(e,lV,pV),dV=e=>Td(e,"",fV),au=()=>!0,Td=(e,t,n)=>{const r=UI.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},uV=e=>eV.test(e)&&!tV.test(e),VI=()=>!1,fV=e=>nV.test(e),pV=e=>rV.test(e),mV=()=>{const e=Vt("colors"),t=Vt("spacing"),n=Vt("blur"),r=Vt("brightness"),s=Vt("borderColor"),a=Vt("borderRadius"),o=Vt("borderSpacing"),l=Vt("borderWidth"),c=Vt("contrast"),d=Vt("grayscale"),u=Vt("hueRotate"),f=Vt("invert"),p=Vt("gap"),x=Vt("gradientColorStops"),h=Vt("gradientColorStopPositions"),m=Vt("inset"),y=Vt("margin"),g=Vt("opacity"),b=Vt("padding"),v=Vt("saturate"),N=Vt("scale"),w=Vt("sepia"),C=Vt("skew"),E=Vt("space"),S=Vt("translate"),k=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ot,t],A=()=>[ot,t],_=()=>["",ys,da],O=()=>["auto",hc,ot],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ot],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[hc,ot];return{cacheSize:500,separator:":",theme:{colors:[au],spacing:[ys,da],blur:["none","",ua,ot],brightness:Y(),borderColor:[e],borderRadius:["none","","full",ua,ot],borderSpacing:A(),borderWidth:_(),contrast:Y(),grayscale:R(),hueRotate:Y(),invert:R(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[iV,da],inset:P(),margin:P(),opacity:Y(),padding:A(),saturate:Y(),scale:Y(),sepia:R(),skew:Y(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ot]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),ot]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",su,ot]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ot]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",su,ot]}],"grid-cols":[{"grid-cols":[au]}],"col-start-end":[{col:["auto",{span:["full",su,ot]},ot]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[au]}],"row-start-end":[{row:["auto",{span:[su,ot]},ot]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ot]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ot,t]}],"min-w":[{"min-w":[ot,t,"min","max","fit"]}],"max-w":[{"max-w":[ot,t,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[ot,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ot,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ot,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ot,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dy]}],"font-family":[{font:[au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ot]}],"line-clamp":[{"line-clamp":["none",hc,Dy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,ot]}],"list-image":[{"list-image":["none",ot]}],"list-style-type":[{list:["none","disc","decimal",ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,da]}],"underline-offset":[{"underline-offset":["auto",ys,ot]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),oV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[ys,ot]}],"outline-w":[{outline:[ys,da]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ys,da]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ua,dV]}],"shadow-color":[{shadow:[au]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ua,ot]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ot]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ot]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[su,ot]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ot]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ys,da,Dy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hV=QU(mV);function Ge(...e){return hV(dt(e))}const xV=uU,WI=j.forwardRef(({className:e,...t},n)=>i.jsx(yI,{ref:n,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));WI.displayName=yI.displayName;const vV=_p("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HI=j.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(bI,{ref:r,className:Ge(vV({variant:t}),e),...n}));HI.displayName=bI.displayName;const gV=j.forwardRef(({className:e,...t},n)=>i.jsx(NI,{ref:n,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gV.displayName=NI.displayName;const GI=j.forwardRef(({className:e,...t},n)=>i.jsx(SI,{ref:n,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ys,{className:"h-4 w-4"})}));GI.displayName=SI.displayName;const KI=j.forwardRef(({className:e,...t},n)=>i.jsx(jI,{ref:n,className:Ge("text-sm font-semibold",e),...t}));KI.displayName=jI.displayName;const YI=j.forwardRef(({className:e,...t},n)=>i.jsx(wI,{ref:n,className:Ge("text-sm opacity-90",e),...t}));YI.displayName=wI.displayName;function yV(){const{toasts:e}=Ot();return i.jsxs(xV,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(HI,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(KI,{children:n}),r&&i.jsx(YI,{children:r})]}),s,i.jsx(GI,{})]},t)}),i.jsx(WI,{})]})}var bV=jT[" useId ".trim().toString()]||(()=>{}),jV=0;function is(e){const[t,n]=j.useState(bV());return hn(()=>{e||n(r=>r??String(jV++))},[e]),e||(t?`radix-${t}`:"")}const wV=["top","right","bottom","left"],Za=Math.min,Mr=Math.max,Bh=Math.round,ym=Math.floor,ss=e=>({x:e,y:e}),NV={left:"right",right:"left",bottom:"top",top:"bottom"},SV={start:"end",end:"start"};function Hb(e,t,n){return Mr(e,Za(t,n))}function Qs(e,t){return typeof e=="function"?e(t):e}function Xs(e){return e.split("-")[0]}function Od(e){return e.split("-")[1]}function i1(e){return e==="x"?"y":"x"}function s1(e){return e==="y"?"height":"width"}function Ja(e){return["top","bottom"].includes(Xs(e))?"y":"x"}function a1(e){return i1(Ja(e))}function CV(e,t,n){n===void 0&&(n=!1);const r=Od(e),s=a1(e),a=s1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Uh(o)),[o,Uh(o)]}function EV(e){const t=Uh(e);return[Gb(e),t,Gb(t)]}function Gb(e){return e.replace(/start|end/g,t=>SV[t])}function kV(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function AV(e,t,n,r){const s=Od(e);let a=kV(Xs(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Gb)))),a}function Uh(e){return e.replace(/left|right|bottom|top/g,t=>NV[t])}function _V(e){return{top:0,right:0,bottom:0,left:0,...e}}function QI(e){return typeof e!="number"?_V(e):{top:e,right:e,bottom:e,left:e}}function Vh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function zE(e,t,n){let{reference:r,floating:s}=e;const a=Ja(t),o=a1(t),l=s1(o),c=Xs(t),d=a==="y",u=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-s.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Od(t)){case"start":x[o]-=p*(n&&d?-1:1);break;case"end":x[o]+=p*(n&&d?-1:1);break}return x}const PV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=zE(d,r,c),p=r,x={},h=0;for(let m=0;m<l.length;m++){const{name:y,fn:g}=l[m],{x:b,y:v,data:N,reset:w}=await g({x:u,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,f=v??f,x={...x,[y]:{...x[y],...N}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:f}=zE(d,p,c)),m=-1)}return{x:u,y:f,placement:p,strategy:s,middlewareData:x}};async function vf(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:x=0}=Qs(t,e),h=QI(x),y=l[p?f==="floating"?"reference":"floating":f],g=Vh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},w=Vh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:v,strategy:c}):b);return{top:(g.top-w.top+h.top)/N.y,bottom:(w.bottom-g.bottom+h.bottom)/N.y,left:(g.left-w.left+h.left)/N.x,right:(w.right-g.right+h.right)/N.x}}const TV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Qs(e,t)||{};if(d==null)return{};const f=QI(u),p={x:n,y:r},x=a1(s),h=s1(x),m=await o.getDimensions(d),y=x==="y",g=y?"top":"left",b=y?"bottom":"right",v=y?"clientHeight":"clientWidth",N=a.reference[h]+a.reference[x]-p[x]-a.floating[h],w=p[x]-a.reference[x],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=C?C[v]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=l.floating[v]||a.floating[h]);const S=N/2-w/2,k=E/2-m[h]/2-1,I=Za(f[g],k),P=Za(f[b],k),A=I,_=E-m[h]-P,O=E/2-m[h]/2+S,D=Hb(A,O,_),M=!c.arrow&&Od(s)!=null&&O!==D&&a.reference[h]/2-(O<A?I:P)-m[h]/2<0,V=M?O<A?O-A:O-_:0;return{[x]:p[x]+V,data:{[x]:D,centerOffset:O-D-V,...M&&{alignmentOffset:V}},reset:M}}}),OV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=Qs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const g=Xs(s),b=Ja(l),v=Xs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=p||(v||!m?[Uh(l)]:EV(l)),C=h!=="none";!p&&C&&w.push(...AV(l,m,h,N));const E=[l,...w],S=await vf(t,y),k=[];let I=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&k.push(S[g]),f){const O=CV(s,o,N);k.push(S[O[0]],S[O[1]])}if(I=[...I,{placement:s,overflows:k}],!k.every(O=>O<=0)){var P,A;const O=(((P=a.flip)==null?void 0:P.index)||0)+1,D=E[O];if(D)return{data:{index:O,overflows:I},reset:{placement:D}};let M=(A=I.filter(V=>V.overflows[0]<=0).sort((V,q)=>V.overflows[1]-q.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(x){case"bestFit":{var _;const V=(_=I.filter(q=>{if(C){const R=Ja(q.placement);return R===b||R==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((q,R)=>q[1]-R[1])[0])==null?void 0:_[0];V&&(M=V);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function BE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UE(e){return wV.some(t=>e[t]>=0)}const RV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Qs(e,t);switch(r){case"referenceHidden":{const a=await vf(t,{...s,elementContext:"reference"}),o=BE(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UE(o)}}}case"escaped":{const a=await vf(t,{...s,altBoundary:!0}),o=BE(a,n.floating);return{data:{escapedOffsets:o,escaped:UE(o)}}}default:return{}}}}};async function IV(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Xs(n),l=Od(n),c=Ja(n)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,f=Qs(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof h=="number"&&(x=l==="end"?h*-1:h),c?{x:x*u,y:p*d}:{x:p*d,y:x*u}}const MV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await IV(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},$V=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:g,y:b}=y;return{x:g,y:b}}},...c}=Qs(e,t),d={x:n,y:r},u=await vf(t,c),f=Ja(Xs(s)),p=i1(f);let x=d[p],h=d[f];if(a){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",b=x+u[y],v=x-u[g];x=Hb(b,x,v)}if(o){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",b=h+u[y],v=h-u[g];h=Hb(b,h,v)}const m=l.fn({...t,[p]:x,[f]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:a,[f]:o}}}}}},DV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Qs(e,t),u={x:n,y:r},f=Ja(s),p=i1(f);let x=u[p],h=u[f];const m=Qs(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const v=p==="y"?"height":"width",N=a.reference[p]-a.floating[v]+y.mainAxis,w=a.reference[p]+a.reference[v]-y.mainAxis;x<N?x=N:x>w&&(x=w)}if(d){var g,b;const v=p==="y"?"width":"height",N=["top","left"].includes(Xs(s)),w=a.reference[f]-a.floating[v]+(N&&((g=o.offset)==null?void 0:g[f])||0)+(N?0:y.crossAxis),C=a.reference[f]+a.reference[v]+(N?0:((b=o.offset)==null?void 0:b[f])||0)-(N?y.crossAxis:0);h<w?h=w:h>C&&(h=C)}return{[p]:x,[f]:h}}}},FV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Qs(e,t),u=await vf(t,d),f=Xs(s),p=Od(s),x=Ja(s)==="y",{width:h,height:m}=a.floating;let y,g;f==="top"||f==="bottom"?(y=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,y=p==="end"?"top":"bottom");const b=m-u.top-u.bottom,v=h-u.left-u.right,N=Za(m-u[y],b),w=Za(h-u[g],v),C=!t.middlewareData.shift;let E=N,S=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=b),C&&!p){const I=Mr(u.left,0),P=Mr(u.right,0),A=Mr(u.top,0),_=Mr(u.bottom,0);x?S=h-2*(I!==0||P!==0?I+P:Mr(u.left,u.right)):E=m-2*(A!==0||_!==0?A+_:Mr(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:E});const k=await o.getDimensions(l.floating);return h!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function Dv(){return typeof window<"u"}function Rd(e){return XI(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(XI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XI(e){return Dv()?e instanceof Node||e instanceof Br(e).Node:!1}function Di(e){return Dv()?e instanceof Element||e instanceof Br(e).Element:!1}function us(e){return Dv()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function VE(e){return!Dv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}function Op(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Fi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function LV(e){return["table","td","th"].includes(Rd(e))}function Fv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function o1(e){const t=l1(),n=Di(e)?Fi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qV(e){let t=eo(e);for(;us(t)&&!Gc(t);){if(o1(t))return t;if(Fv(t))return null;t=eo(t)}return null}function l1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gc(e){return["html","body","#document"].includes(Rd(e))}function Fi(e){return Br(e).getComputedStyle(e)}function Lv(e){return Di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(Rd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VE(e)&&e.host||hs(e);return VE(t)?t.host:t}function ZI(e){const t=eo(e);return Gc(t)?e.ownerDocument?e.ownerDocument.body:e.body:us(t)&&Op(t)?t:ZI(t)}function gf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=ZI(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Br(s);if(a){const l=Kb(o);return t.concat(o,o.visualViewport||[],Op(s)?s:[],l&&n?gf(l):[])}return t.concat(s,gf(s,[],n))}function Kb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function JI(e){const t=Fi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=us(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Bh(n)!==a||Bh(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function c1(e){return Di(e)?e:e.contextElement}function xc(e){const t=c1(e);if(!us(t))return ss(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=JI(t);let o=(a?Bh(n.width):n.width)/r,l=(a?Bh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zV=ss(0);function eM(e){const t=Br(e);return!l1()||!t.visualViewport?zV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Br(e)?!1:t}function ll(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=c1(e);let o=ss(1);t&&(r?Di(r)&&(o=xc(r)):o=xc(e));const l=BV(a,n,r)?eM(a):ss(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(a){const p=Br(a),x=r&&Di(r)?Br(r):r;let h=p,m=Kb(h);for(;m&&r&&x!==h;){const y=xc(m),g=m.getBoundingClientRect(),b=Fi(m),v=g.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,N=g.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=v,d+=N,h=Br(m),m=Kb(h)}}return Vh({width:u,height:f,x:c,y:d})}function d1(e,t){const n=Lv(e).scrollLeft;return t?t.left+n:ll(hs(e)).left+n}function tM(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:d1(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function UV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=hs(r),l=t?Fv(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=ss(1);const u=ss(0),f=us(r);if((f||!f&&!a)&&((Rd(r)!=="body"||Op(o))&&(c=Lv(r)),us(r))){const x=ll(r);d=xc(r),u.x=x.x+r.clientLeft,u.y=x.y+r.clientTop}const p=o&&!f&&!a?tM(o,c,!0):ss(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-c.scrollTop*d.y+u.y+p.y}}function VV(e){return Array.from(e.getClientRects())}function WV(e){const t=hs(e),n=Lv(e),r=e.ownerDocument.body,s=Mr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Mr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+d1(e);const l=-n.scrollTop;return Fi(r).direction==="rtl"&&(o+=Mr(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function HV(e,t){const n=Br(e),r=hs(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=l1();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function GV(e,t){const n=ll(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=us(e)?xc(e):ss(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function WE(e,t,n){let r;if(t==="viewport")r=HV(e,n);else if(t==="document")r=WV(hs(e));else if(Di(t))r=GV(t,n);else{const s=eM(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Vh(r)}function nM(e,t){const n=eo(e);return n===t||!Di(n)||Gc(n)?!1:Fi(n).position==="fixed"||nM(n,t)}function KV(e,t){const n=t.get(e);if(n)return n;let r=gf(e,[],!1).filter(l=>Di(l)&&Rd(l)!=="body"),s=null;const a=Fi(e).position==="fixed";let o=a?eo(e):e;for(;Di(o)&&!Gc(o);){const l=Fi(o),c=o1(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Op(o)&&!c&&nM(e,o))?r=r.filter(u=>u!==o):s=l,o=eo(o)}return t.set(e,r),r}function YV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Fv(t)?[]:KV(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const f=WE(t,u,s);return d.top=Mr(f.top,d.top),d.right=Za(f.right,d.right),d.bottom=Za(f.bottom,d.bottom),d.left=Mr(f.left,d.left),d},WE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QV(e){const{width:t,height:n}=JI(e);return{width:t,height:n}}function XV(e,t,n){const r=us(t),s=hs(t),a=n==="fixed",o=ll(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ss(0);if(r||!r&&!a)if((Rd(t)!=="body"||Op(s))&&(l=Lv(t)),r){const p=ll(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=d1(s));const d=s&&!r&&!a?tM(s,l):ss(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function Fy(e){return Fi(e).position==="static"}function HE(e,t){if(!us(e)||Fi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hs(e)===n&&(n=n.ownerDocument.body),n}function rM(e,t){const n=Br(e);if(Fv(e))return n;if(!us(e)){let s=eo(e);for(;s&&!Gc(s);){if(Di(s)&&!Fy(s))return s;s=eo(s)}return n}let r=HE(e,t);for(;r&&LV(r)&&Fy(r);)r=HE(r,t);return r&&Gc(r)&&Fy(r)&&!o1(r)?n:r||qV(e)||n}const ZV=async function(e){const t=this.getOffsetParent||rM,n=this.getDimensions,r=await n(e.floating);return{reference:XV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JV(e){return Fi(e).direction==="rtl"}const eW={convertOffsetParentRelativeRectToViewportRelativeRect:UV,getDocumentElement:hs,getClippingRect:YV,getOffsetParent:rM,getElementRects:ZV,getClientRects:VV,getDimensions:QV,getScale:xc,isElement:Di,isRTL:JV};function iM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tW(e,t){let n=null,r;const s=hs(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:x}=d;if(l||t(),!p||!x)return;const h=ym(f),m=ym(s.clientWidth-(u+p)),y=ym(s.clientHeight-(f+x)),g=ym(u),v={rootMargin:-h+"px "+-m+"px "+-y+"px "+-g+"px",threshold:Mr(0,Za(1,c))||1};let N=!0;function w(C){const E=C[0].intersectionRatio;if(E!==c){if(!N)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!iM(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),a}function nW(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=c1(e),u=s||a?[...d?gf(d):[],...gf(t)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),a&&g.addEventListener("resize",n)});const f=d&&l?tW(d,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(g=>{let[b]=g;b&&b.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=x)==null||v.observe(t)})),n()}),d&&!c&&x.observe(d),x.observe(t));let h,m=c?ll(e):null;c&&y();function y(){const g=ll(e);m&&!iM(m,g)&&n(),m=g,h=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(b=>{s&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(g=x)==null||g.disconnect(),x=null,c&&cancelAnimationFrame(h)}}const rW=MV,iW=$V,sW=OV,aW=FV,oW=RV,GE=TV,lW=DV,cW=(e,t,n)=>{const r=new Map,s={platform:eW,...n},a={...s.platform,_c:r};return PV(e,t,{...s,platform:a})};var ch=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Wh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Wh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Wh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function sM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KE(e,t){const n=sM(e);return Math.round(t*n)/n}function Ly(e){const t=j.useRef(e);return ch(()=>{t.current=e}),t}function dW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=j.useState(r);Wh(p,r)||x(r);const[h,m]=j.useState(null),[y,g]=j.useState(null),b=j.useCallback(q=>{q!==C.current&&(C.current=q,m(q))},[]),v=j.useCallback(q=>{q!==E.current&&(E.current=q,g(q))},[]),N=a||h,w=o||y,C=j.useRef(null),E=j.useRef(null),S=j.useRef(u),k=c!=null,I=Ly(c),P=Ly(s),A=Ly(d),_=j.useCallback(()=>{if(!C.current||!E.current)return;const q={placement:t,strategy:n,middleware:p};P.current&&(q.platform=P.current),cW(C.current,E.current,q).then(R=>{const B={...R,isPositioned:A.current!==!1};O.current&&!Wh(S.current,B)&&(S.current=B,jl.flushSync(()=>{f(B)}))})},[p,t,n,P,A]);ch(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[d]);const O=j.useRef(!1);ch(()=>(O.current=!0,()=>{O.current=!1}),[]),ch(()=>{if(N&&(C.current=N),w&&(E.current=w),N&&w){if(I.current)return I.current(N,w,_);_()}},[N,w,_,I,k]);const D=j.useMemo(()=>({reference:C,floating:E,setReference:b,setFloating:v}),[b,v]),M=j.useMemo(()=>({reference:N,floating:w}),[N,w]),V=j.useMemo(()=>{const q={position:n,left:0,top:0};if(!M.floating)return q;const R=KE(M.floating,u.x),B=KE(M.floating,u.y);return l?{...q,transform:"translate("+R+"px, "+B+"px)",...sM(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:B}},[n,l,M.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:_,refs:D,elements:M,floatingStyles:V}),[u,_,D,M,V])}const uW=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?GE({element:r.current,padding:s}).fn(n):{}:r?GE({element:r,padding:s}).fn(n):{}}}},fW=(e,t)=>({...rW(e),options:[e,t]}),pW=(e,t)=>({...iW(e),options:[e,t]}),mW=(e,t)=>({...lW(e),options:[e,t]}),hW=(e,t)=>({...sW(e),options:[e,t]}),xW=(e,t)=>({...aW(e),options:[e,t]}),vW=(e,t)=>({...oW(e),options:[e,t]}),gW=(e,t)=>({...uW(e),options:[e,t]});var yW="Arrow",aM=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Xe.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});aM.displayName=yW;var bW=aM;function qv(e){const[t,n]=j.useState(void 0);return hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var u1="Popper",[oM,zv]=xr(u1),[jW,lM]=oM(u1),cM=e=>{const{__scopePopper:t,children:n}=e,[r,s]=j.useState(null);return i.jsx(jW,{scope:t,anchor:r,onAnchorChange:s,children:n})};cM.displayName=u1;var dM="PopperAnchor",uM=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=lM(dM,n),o=j.useRef(null),l=pt(t,o);return j.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(Xe.div,{...s,ref:l})});uM.displayName=dM;var f1="PopperContent",[wW,NW]=oM(f1),fM=j.forwardRef((e,t)=>{var de,Ce,le,xe,pe,z;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:h,...m}=e,y=lM(f1,n),[g,b]=j.useState(null),v=pt(t,ue=>b(ue)),[N,w]=j.useState(null),C=qv(N),E=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,k=r+(a!=="center"?"-"+a:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],A=P.length>0,_={padding:I,boundary:P.filter(CW),altBoundary:A},{refs:O,floatingStyles:D,placement:M,isPositioned:V,middlewareData:q}=dW({strategy:"fixed",placement:k,whileElementsMounted:(...ue)=>nW(...ue,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[fW({mainAxis:s+S,alignmentAxis:o}),c&&pW({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mW():void 0,..._}),c&&hW({..._}),xW({..._,apply:({elements:ue,rects:fe,availableWidth:Te,availableHeight:we})=>{const{width:Ye,height:st}=fe.reference,Nt=ue.floating.style;Nt.setProperty("--radix-popper-available-width",`${Te}px`),Nt.setProperty("--radix-popper-available-height",`${we}px`),Nt.setProperty("--radix-popper-anchor-width",`${Ye}px`),Nt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),N&&gW({element:N,padding:l}),EW({arrowWidth:E,arrowHeight:S}),p&&vW({strategy:"referenceHidden",..._})]}),[R,B]=hM(M),Y=pn(h);hn(()=>{V&&(Y==null||Y())},[V,Y]);const $=(de=q.arrow)==null?void 0:de.x,re=(Ce=q.arrow)==null?void 0:Ce.y,ee=((le=q.arrow)==null?void 0:le.centerOffset)!==0,[Q,ie]=j.useState();return hn(()=>{g&&ie(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(xe=q.transformOrigin)==null?void 0:xe.x,(pe=q.transformOrigin)==null?void 0:pe.y].join(" "),...((z=q.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(wW,{scope:n,placedSide:R,onArrowChange:w,arrowX:$,arrowY:re,shouldHideArrow:ee,children:i.jsx(Xe.div,{"data-side":R,"data-align":B,...m,ref:v,style:{...m.style,animation:V?void 0:"none"}})})})});fM.displayName=f1;var pM="PopperArrow",SW={top:"bottom",right:"left",bottom:"top",left:"right"},mM=j.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=NW(pM,r),o=SW[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(bW,{...s,ref:n,style:{...s.style,display:"block"}})})});mM.displayName=pM;function CW(e){return e!==null}var EW=e=>({name:"transformOrigin",options:e,fn(t){var y,g,b;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=hM(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,x=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let h="",m="";return d==="bottom"?(h=o?f:`${p}px`,m=`${-c}px`):d==="top"?(h=o?f:`${p}px`,m=`${r.floating.height+c}px`):d==="right"?(h=`${-c}px`,m=o?f:`${x}px`):d==="left"&&(h=`${r.floating.width+c}px`,m=o?f:`${x}px`),{data:{x:h,y:m}}}});function hM(e){const[t,n="center"]=e.split("-");return[t,n]}var xM=cM,vM=uM,gM=fM,yM=mM,[Bv,DSe]=xr("Tooltip",[zv]),Uv=zv(),bM="TooltipProvider",kW=700,Yb="tooltip.open",[AW,p1]=Bv(bM),jM=e=>{const{__scopeTooltip:t,delayDuration:n=kW,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(AW,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};jM.displayName=bM;var Vv="Tooltip",[_W,Wv]=Bv(Vv),wM=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=p1(Vv,e.__scopeTooltip),d=Uv(t),[u,f]=j.useState(null),p=is(),x=j.useRef(0),h=o??c.disableHoverableContent,m=l??c.delayDuration,y=j.useRef(!1),[g=!1,b]=cs({prop:r,defaultProp:s,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(Yb))):c.onClose(),a==null||a(E)}}),v=j.useMemo(()=>g?y.current?"delayed-open":"instant-open":"closed",[g]),N=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,y.current=!1,b(!0)},[b]),w=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,b(!1)},[b]),C=j.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{y.current=!0,b(!0),x.current=0},m)},[m,b]);return j.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),i.jsx(xM,{...d,children:i.jsx(_W,{scope:t,contentId:p,open:g,stateAttribute:v,trigger:u,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?C():N()},[c.isOpenDelayedRef,C,N]),onTriggerLeave:j.useCallback(()=>{h?w():(window.clearTimeout(x.current),x.current=0)},[w,h]),onOpen:N,onClose:w,disableHoverableContent:h,children:n})})};wM.displayName=Vv;var Qb="TooltipTrigger",NM=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Wv(Qb,n),a=p1(Qb,n),o=Uv(n),l=j.useRef(null),c=pt(t,l,s.onTriggerChange),d=j.useRef(!1),u=j.useRef(!1),f=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(vM,{asChild:!0,...o,children:i.jsx(Xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Le(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Le(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Le(e.onBlur,s.onClose),onClick:Le(e.onClick,s.onClose)})})});NM.displayName=Qb;var PW="TooltipPortal",[FSe,TW]=Bv(PW,{forceMount:void 0}),Kc="TooltipContent",SM=j.forwardRef((e,t)=>{const n=TW(Kc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=Wv(Kc,e.__scopeTooltip);return i.jsx(Yr,{present:r||o.open,children:o.disableHoverableContent?i.jsx(CM,{side:s,...a,ref:t}):i.jsx(OW,{side:s,...a,ref:t})})}),OW=j.forwardRef((e,t)=>{const n=Wv(Kc,e.__scopeTooltip),r=p1(Kc,e.__scopeTooltip),s=j.useRef(null),a=pt(t,s),[o,l]=j.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:f}=r,p=j.useCallback(()=>{l(null),f(!1)},[f]),x=j.useCallback((h,m)=>{const y=h.currentTarget,g={x:h.clientX,y:h.clientY},b=DW(g,y.getBoundingClientRect()),v=FW(g,b),N=LW(m.getBoundingClientRect()),w=zW([...v,...N]);l(w),f(!0)},[f]);return j.useEffect(()=>()=>p(),[p]),j.useEffect(()=>{if(c&&u){const h=y=>x(y,u),m=y=>x(y,c);return c.addEventListener("pointerleave",h),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",h),u.removeEventListener("pointerleave",m)}}},[c,u,x,p]),j.useEffect(()=>{if(o){const h=m=>{const y=m.target,g={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),v=!qW(g,o);b?p():v&&(p(),d())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[c,u,o,d,p]),i.jsx(CM,{...e,ref:a})}),[RW,IW]=Bv(Vv,{isInside:!1}),MW=kB("TooltipContent"),CM=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Wv(Kc,n),d=Uv(n),{onClose:u}=c;return j.useEffect(()=>(document.addEventListener(Yb,u),()=>document.removeEventListener(Yb,u)),[u]),j.useEffect(()=>{if(c.trigger){const f=p=>{const x=p.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),i.jsx(kp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:i.jsxs(gM,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(MW,{children:r}),i.jsx(RW,{scope:n,isInside:!0,children:i.jsx(GB,{id:c.contentId,role:"tooltip",children:s||r})})]})})});SM.displayName=Kc;var EM="TooltipArrow",$W=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Uv(n);return IW(EM,n).isInside?null:i.jsx(yM,{...s,...r,ref:t})});$W.displayName=EM;function DW(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FW(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function LW(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qW(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function zW(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BW(t)}function BW(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var UW=jM,VW=wM,WW=NM,kM=SM;const AM=UW,HW=VW,GW=WW,_M=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(kM,{ref:r,sideOffset:t,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));_M.displayName=kM.displayName;const KW=_p("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yt=j.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:Ge(KW({variant:t}),e),...n}));Yt.displayName="Alert";const YW=j.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:Ge("mb-1 font-medium leading-none tracking-tight",e),...t}));YW.displayName="AlertTitle";const Qt=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("text-sm [&_p]:leading-relaxed",e),...t}));Qt.displayName="AlertDescription";const QW=_p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?eI:"button";return i.jsx(o,{className:Ge(QW({variant:t,size:n,className:e})),ref:a,...s})});K.displayName="Button";const W=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const X=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const Z=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));Z.displayName="CardTitle";const ge=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const G=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("p-6 pt-0",e),...t}));G.displayName="CardContent";const XW=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",e),...t}));XW.displayName="CardFooter";class ZW extends j.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.assign("/")},this.handleReportError=()=>{var n,r,s;const t={message:(n=this.state.error)==null?void 0:n.message,stack:(r=this.state.error)==null?void 0:r.stack,componentStack:(s=this.state.errorInfo)==null?void 0:s.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",t),alert("Error details have been logged. Please contact support if the problem persists.")}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("🚨 CRITICAL ERROR BOUNDARY TRIGGERED:",t),console.error("🚨 ERROR MESSAGE:",t.message),console.error("🚨 ERROR STACK:",t.stack),console.error("🚨 COMPONENT STACK:",n.componentStack),this.setState({error:t,errorInfo:n}),alert(`CRITICAL ERROR: ${t.message}

Check console for full details.`)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(W,{className:"w-full max-w-2xl",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(vt,{className:"h-6 w-6"}),"Something went wrong"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs(Yt,{className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsx(Qt,{children:"The application encountered an unexpected error. This has been logged for our development team."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:i.jsx("strong",{children:"What you can do:"})}),i.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Try refreshing the page or going back to retry the action"}),i.jsx("li",{children:"Return to the home page to start over"}),i.jsx("li",{children:"Contact support if the problem continues"})]})]}),!1,i.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[i.jsxs(K,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[i.jsx(Fn,{className:"h-4 w-4"}),"Try Again"]}),i.jsxs(K,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[i.jsx(Rv,{className:"h-4 w-4"}),"Go Home"]}),i.jsxs(K,{variant:"outline",onClick:this.handleReportError,className:"flex items-center gap-2",children:[i.jsx(vU,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}):this.props.children}}let bm=null,qy=null;const JW=async()=>{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();if(await Promise.all(e.map(t=>t.unregister())),window.caches&&caches.keys){const t=await caches.keys();await Promise.all(t.map(n=>caches.delete(n)))}console.log("✅ Service Workers and caches cleared")}},PM=async()=>{try{const t=await(await fetch("/version.json",{cache:"no-store",headers:{"Cache-Control":"no-cache"}})).json();return bm===null?(bm=t.version,!1):bm!==t.version?(console.log(`🔄 Version changed: ${bm} → ${t.version}`),!0):!1}catch(e){return console.error("Version check failed:",e),!1}},eH=async()=>{console.log("🔄 Reloading for new version..."),gn.clear(),window.location.reload()},tH=(e=3e4)=>{qy&&clearInterval(qy),qy=setInterval(async()=>{await PM()&&await eH()},e)},nH=async()=>{await JW(),await PM(),tH()},rH=_p("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:e,variant:t,...n}){return i.jsx("div",{className:Ge(rH({variant:t}),e),...n})}var iH=j.createContext(void 0);function Rp(e){const t=j.useContext(iH);return e||t||"ltr"}var zy="rovingFocusGroup.onEntryFocus",sH={bubbles:!1,cancelable:!0},Hv="RovingFocusGroup",[Xb,TM,aH]=QN(Hv),[oH,Gv]=xr(Hv,[aH]),[lH,cH]=oH(Hv),OM=j.forwardRef((e,t)=>i.jsx(Xb.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Xb.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(dH,{...e,ref:t})})}));OM.displayName=Hv;var dH=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=j.useRef(null),x=pt(t,p),h=Rp(a),[m=null,y]=cs({prop:o,defaultProp:l,onChange:c}),[g,b]=j.useState(!1),v=pn(d),N=TM(n),w=j.useRef(!1),[C,E]=j.useState(0);return j.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(zy,v),()=>S.removeEventListener(zy,v)},[v]),i.jsx(lH,{scope:n,orientation:r,dir:h,loop:s,currentTabStopId:m,onItemFocus:j.useCallback(S=>y(S),[y]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:j.useCallback(()=>E(S=>S-1),[]),children:i.jsx(Xe.div,{tabIndex:g||C===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{w.current=!0}),onFocus:Le(e.onFocus,S=>{const k=!w.current;if(S.target===S.currentTarget&&k&&!g){const I=new CustomEvent(zy,sH);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const P=N().filter(M=>M.focusable),A=P.find(M=>M.active),_=P.find(M=>M.id===m),D=[A,_,...P].filter(Boolean).map(M=>M.ref.current);MM(D,u)}}w.current=!1}),onBlur:Le(e.onBlur,()=>b(!1))})})}),RM="RovingFocusGroupItem",IM=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=is(),c=a||l,d=cH(RM,n),u=d.currentTabStopId===c,f=TM(n),{onFocusableItemAdd:p,onFocusableItemRemove:x}=d;return j.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),i.jsx(Xb.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(Xe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Le(e.onMouseDown,h=>{r?d.onItemFocus(c):h.preventDefault()}),onFocus:Le(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Le(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){d.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const m=pH(h,d.orientation,d.dir);if(m!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let g=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const b=g.indexOf(h.currentTarget);g=d.loop?mH(g,b+1):g.slice(b+1)}setTimeout(()=>MM(g))}})})})});IM.displayName=RM;var uH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pH(e,t,n){const r=fH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uH[r]}function MM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function mH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $M=OM,DM=IM,m1="Tabs",[hH,LSe]=xr(m1,[Gv]),FM=Gv(),[xH,h1]=hH(m1),LM=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Rp(l),[f,p]=cs({prop:r,onChange:s,defaultProp:a});return i.jsx(xH,{scope:n,baseId:is(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:i.jsx(Xe.div,{dir:u,"data-orientation":o,...d,ref:t})})});LM.displayName=m1;var qM="TabsList",zM=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=h1(qM,n),o=FM(n);return i.jsx($M,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});zM.displayName=qM;var BM="TabsTrigger",UM=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=h1(BM,n),l=FM(n),c=HM(o.baseId,r),d=GM(o.baseId,r),u=r===o.value;return i.jsx(DM,{asChild:!0,...l,focusable:!s,active:u,children:i.jsx(Xe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Le(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Le(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!s&&f&&o.onValueChange(r)})})})});UM.displayName=BM;var VM="TabsContent",WM=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=h1(VM,n),c=HM(l.baseId,r),d=GM(l.baseId,r),u=r===l.value,f=j.useRef(u);return j.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Yr,{present:s||u,children:({present:p})=>i.jsx(Xe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});WM.displayName=VM;function HM(e,t){return`${e}-trigger-${t}`}function GM(e,t){return`${e}-content-${t}`}var vH=LM,KM=zM,YM=UM,QM=WM;const vr=vH,er=j.forwardRef(({className:e,...t},n)=>i.jsx(KM,{ref:n,className:Ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));er.displayName=KM.displayName;const Oe=j.forwardRef(({className:e,...t},n)=>i.jsx(YM,{ref:n,className:Ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oe.displayName=YM.displayName;const ke=j.forwardRef(({className:e,...t},n)=>i.jsx(QM,{ref:n,className:Ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ke.displayName=QM.displayName;var gH=Array.isArray,_r=gH,yH=typeof Xp=="object"&&Xp&&Xp.Object===Object&&Xp,XM=yH,bH=XM,jH=typeof self=="object"&&self&&self.Object===Object&&self,wH=bH||jH||Function("return this")(),xs=wH,NH=xs,SH=NH.Symbol,Ip=SH,YE=Ip,ZM=Object.prototype,CH=ZM.hasOwnProperty,EH=ZM.toString,ou=YE?YE.toStringTag:void 0;function kH(e){var t=CH.call(e,ou),n=e[ou];try{e[ou]=void 0;var r=!0}catch{}var s=EH.call(e);return r&&(t?e[ou]=n:delete e[ou]),s}var AH=kH,_H=Object.prototype,PH=_H.toString;function TH(e){return PH.call(e)}var OH=TH,QE=Ip,RH=AH,IH=OH,MH="[object Null]",$H="[object Undefined]",XE=QE?QE.toStringTag:void 0;function DH(e){return e==null?e===void 0?$H:MH:XE&&XE in Object(e)?RH(e):IH(e)}var ia=DH;function FH(e){return e!=null&&typeof e=="object"}var sa=FH,LH=ia,qH=sa,zH="[object Symbol]";function BH(e){return typeof e=="symbol"||qH(e)&&LH(e)==zH}var Id=BH,UH=_r,VH=Id,WH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,HH=/^\w*$/;function GH(e,t){if(UH(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||VH(e)?!0:HH.test(e)||!WH.test(e)||t!=null&&e in Object(t)}var x1=GH;function KH(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var co=KH;const Md=kt(co);var YH=ia,QH=co,XH="[object AsyncFunction]",ZH="[object Function]",JH="[object GeneratorFunction]",e9="[object Proxy]";function t9(e){if(!QH(e))return!1;var t=YH(e);return t==ZH||t==JH||t==XH||t==e9}var v1=t9;const it=kt(v1);var n9=xs,r9=n9["__core-js_shared__"],i9=r9,By=i9,ZE=function(){var e=/[^.]+$/.exec(By&&By.keys&&By.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function s9(e){return!!ZE&&ZE in e}var a9=s9,o9=Function.prototype,l9=o9.toString;function c9(e){if(e!=null){try{return l9.call(e)}catch{}try{return e+""}catch{}}return""}var JM=c9,d9=v1,u9=a9,f9=co,p9=JM,m9=/[\\^$.*+?()[\]{}|]/g,h9=/^\[object .+?Constructor\]$/,x9=Function.prototype,v9=Object.prototype,g9=x9.toString,y9=v9.hasOwnProperty,b9=RegExp("^"+g9.call(y9).replace(m9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j9(e){if(!f9(e)||u9(e))return!1;var t=d9(e)?b9:h9;return t.test(p9(e))}var w9=j9;function N9(e,t){return e==null?void 0:e[t]}var S9=N9,C9=w9,E9=S9;function k9(e,t){var n=E9(e,t);return C9(n)?n:void 0}var Nl=k9,A9=Nl,_9=A9(Object,"create"),Kv=_9,JE=Kv;function P9(){this.__data__=JE?JE(null):{},this.size=0}var T9=P9;function O9(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var R9=O9,I9=Kv,M9="__lodash_hash_undefined__",$9=Object.prototype,D9=$9.hasOwnProperty;function F9(e){var t=this.__data__;if(I9){var n=t[e];return n===M9?void 0:n}return D9.call(t,e)?t[e]:void 0}var L9=F9,q9=Kv,z9=Object.prototype,B9=z9.hasOwnProperty;function U9(e){var t=this.__data__;return q9?t[e]!==void 0:B9.call(t,e)}var V9=U9,W9=Kv,H9="__lodash_hash_undefined__";function G9(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=W9&&t===void 0?H9:t,this}var K9=G9,Y9=T9,Q9=R9,X9=L9,Z9=V9,J9=K9;function $d(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}$d.prototype.clear=Y9;$d.prototype.delete=Q9;$d.prototype.get=X9;$d.prototype.has=Z9;$d.prototype.set=J9;var e7=$d;function t7(){this.__data__=[],this.size=0}var n7=t7;function r7(e,t){return e===t||e!==e&&t!==t}var g1=r7,i7=g1;function s7(e,t){for(var n=e.length;n--;)if(i7(e[n][0],t))return n;return-1}var Yv=s7,a7=Yv,o7=Array.prototype,l7=o7.splice;function c7(e){var t=this.__data__,n=a7(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():l7.call(t,n,1),--this.size,!0}var d7=c7,u7=Yv;function f7(e){var t=this.__data__,n=u7(t,e);return n<0?void 0:t[n][1]}var p7=f7,m7=Yv;function h7(e){return m7(this.__data__,e)>-1}var x7=h7,v7=Yv;function g7(e,t){var n=this.__data__,r=v7(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var y7=g7,b7=n7,j7=d7,w7=p7,N7=x7,S7=y7;function Dd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dd.prototype.clear=b7;Dd.prototype.delete=j7;Dd.prototype.get=w7;Dd.prototype.has=N7;Dd.prototype.set=S7;var Qv=Dd,C7=Nl,E7=xs,k7=C7(E7,"Map"),y1=k7,ek=e7,A7=Qv,_7=y1;function P7(){this.size=0,this.__data__={hash:new ek,map:new(_7||A7),string:new ek}}var T7=P7;function O7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var R7=O7,I7=R7;function M7(e,t){var n=e.__data__;return I7(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Xv=M7,$7=Xv;function D7(e){var t=$7(this,e).delete(e);return this.size-=t?1:0,t}var F7=D7,L7=Xv;function q7(e){return L7(this,e).get(e)}var z7=q7,B7=Xv;function U7(e){return B7(this,e).has(e)}var V7=U7,W7=Xv;function H7(e,t){var n=W7(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var G7=H7,K7=T7,Y7=F7,Q7=z7,X7=V7,Z7=G7;function Fd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fd.prototype.clear=K7;Fd.prototype.delete=Y7;Fd.prototype.get=Q7;Fd.prototype.has=X7;Fd.prototype.set=Z7;var b1=Fd,e4=b1,J7="Expected a function";function j1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(J7);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,r);return n.cache=a.set(s,o)||a,o};return n.cache=new(j1.Cache||e4),n}j1.Cache=e4;var t4=j1;const eG=kt(t4);var tG=t4,nG=500;function rG(e){var t=tG(e,function(r){return n.size===nG&&n.clear(),r}),n=t.cache;return t}var iG=rG,sG=iG,aG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oG=/\\(\\)?/g,lG=sG(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(aG,function(n,r,s,a){t.push(s?a.replace(oG,"$1"):r||n)}),t}),cG=lG;function dG(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var w1=dG,tk=Ip,uG=w1,fG=_r,pG=Id,mG=1/0,nk=tk?tk.prototype:void 0,rk=nk?nk.toString:void 0;function n4(e){if(typeof e=="string")return e;if(fG(e))return uG(e,n4)+"";if(pG(e))return rk?rk.call(e):"";var t=e+"";return t=="0"&&1/e==-mG?"-0":t}var hG=n4,xG=hG;function vG(e){return e==null?"":xG(e)}var r4=vG,gG=_r,yG=x1,bG=cG,jG=r4;function wG(e,t){return gG(e)?e:yG(e,t)?[e]:bG(jG(e))}var i4=wG,NG=Id,SG=1/0;function CG(e){if(typeof e=="string"||NG(e))return e;var t=e+"";return t=="0"&&1/e==-SG?"-0":t}var Zv=CG,EG=i4,kG=Zv;function AG(e,t){t=EG(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[kG(t[n++])];return n&&n==r?e:void 0}var N1=AG,_G=N1;function PG(e,t,n){var r=e==null?void 0:_G(e,t);return r===void 0?n:r}var s4=PG;const Ur=kt(s4);function TG(e){return e==null}var OG=TG;const ht=kt(OG);var RG=ia,IG=_r,MG=sa,$G="[object String]";function DG(e){return typeof e=="string"||!IG(e)&&MG(e)&&RG(e)==$G}var FG=DG;const Mp=kt(FG);var a4={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=Symbol.for("react.element"),C1=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),LG=Symbol.for("react.server_context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),ag=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),qG=Symbol.for("react.offscreen"),o4;o4=Symbol.for("react.module.reference");function ui(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case S1:switch(e=e.type,e){case Jv:case tg:case eg:case sg:case ag:return e;default:switch(e=e&&e.$$typeof,e){case LG:case rg:case ig:case lg:case og:case ng:return e;default:return t}}case C1:return t}}}Rt.ContextConsumer=rg;Rt.ContextProvider=ng;Rt.Element=S1;Rt.ForwardRef=ig;Rt.Fragment=Jv;Rt.Lazy=lg;Rt.Memo=og;Rt.Portal=C1;Rt.Profiler=tg;Rt.StrictMode=eg;Rt.Suspense=sg;Rt.SuspenseList=ag;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(e){return ui(e)===rg};Rt.isContextProvider=function(e){return ui(e)===ng};Rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===S1};Rt.isForwardRef=function(e){return ui(e)===ig};Rt.isFragment=function(e){return ui(e)===Jv};Rt.isLazy=function(e){return ui(e)===lg};Rt.isMemo=function(e){return ui(e)===og};Rt.isPortal=function(e){return ui(e)===C1};Rt.isProfiler=function(e){return ui(e)===tg};Rt.isStrictMode=function(e){return ui(e)===eg};Rt.isSuspense=function(e){return ui(e)===sg};Rt.isSuspenseList=function(e){return ui(e)===ag};Rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jv||e===tg||e===eg||e===sg||e===ag||e===qG||typeof e=="object"&&e!==null&&(e.$$typeof===lg||e.$$typeof===og||e.$$typeof===ng||e.$$typeof===rg||e.$$typeof===ig||e.$$typeof===o4||e.getModuleId!==void 0)};Rt.typeOf=ui;a4.exports=Rt;var zG=a4.exports,BG=ia,UG=sa,VG="[object Number]";function WG(e){return typeof e=="number"||UG(e)&&BG(e)==VG}var l4=WG;const HG=kt(l4);var GG=l4;function KG(e){return GG(e)&&e!=+e}var YG=KG;const $p=kt(YG);var or=function(t){return t===0?0:t>0?1:-1},Io=function(t){return Mp(t)&&t.indexOf("%")===t.length-1},ye=function(t){return HG(t)&&!$p(t)},En=function(t){return ye(t)||Mp(t)},QG=0,Dp=function(t){var n=++QG;return"".concat(t||"").concat(n)},lr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&!Mp(t))return r;var a;if(Io(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return $p(a)&&(a=r),s&&a>n&&(a=n),a},ja=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},XG=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},va=function(t,n){return ye(t)&&ye(n)?function(r){return t+r*(n-t)}:function(){return n}};function Zb(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ur(r,t))===n})}function vc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Jb(e){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(e)}var ZG=["viewBox","children"],JG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],Uy={svg:ZG,polygon:ik,polyline:ik},E1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hh=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!Md(r))return null;var s={};return Object.keys(r).forEach(function(a){E1.includes(a)&&(s[a]=n||function(o){return r[a](r,o)})}),s},eK=function(t,n,r){return function(s){return t(n,r,s),null}},cl=function(t,n,r){if(!Md(t)||Jb(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];E1.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=eK(o,n,r))}),s},tK=["children"],nK=["children"];function sk(e,t){if(e==null)return{};var n=rK(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ak={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ls=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},ok=null,Vy=null,k1=function e(t){if(t===ok&&Array.isArray(Vy))return Vy;var n=[];return j.Children.forEach(t,function(r){ht(r)||(zG.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Vy=n,ok=t,n};function oi(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return Ls(s)}):r=[Ls(t)],k1(e).forEach(function(s){var a=Ur(s,"type.displayName")||Ur(s,"type.name");r.indexOf(a)!==-1&&n.push(s)}),n}function Rr(e,t){var n=oi(e,t);return n&&n[0]}var lk=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!ye(r)||r<=0||!ye(s)||s<=0)},iK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sK=function(t){return t&&t.type&&Mp(t.type)&&iK.indexOf(t.type)>=0},aK=function(t,n,r,s){var a,o=(a=Uy==null?void 0:Uy[s])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!it(t)&&(s&&o.includes(n)||JG.includes(n))||r&&E1.includes(n)},nt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Md(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;aK((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=s[o])}),a},ej=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ck(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var a=t[s],o=n[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!ck(a,o))return!1}return!0},ck=function(t,n){if(ht(t)&&ht(n))return!0;if(!ht(t)&&!ht(n)){var r=t.props||{},s=r.children,a=sk(r,tK),o=n.props||{},l=o.children,c=sk(o,nK);return s&&l?vc(a,c)&&ej(s,l):!s&&!l?vc(a,c):!1}return!1},dk=function(t,n){var r=[],s={};return k1(t).forEach(function(a,o){if(sK(a))r.push(a);else if(a){var l=Ls(a.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(a,l,o);r.push(f),s[l]=!0}}}),r},oK=function(t){var n=t&&t.type;return n&&ak[n]?ak[n]:null},lK=function(t,n){return k1(n).indexOf(t)},cK=["children","width","height","viewBox","className","style","title","desc"];function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tj.apply(this,arguments)}function dK(e,t){if(e==null)return{};var n=uK(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nj(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=dK(e,cK),u=s||{width:n,height:r,x:0,y:0},f=dt("recharts-surface",a);return F.createElement("svg",tj({},nt(d,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var fK=["children","className"];function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rj.apply(this,arguments)}function pK(e,t){if(e==null)return{};var n=mK(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mK(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Pt=F.forwardRef(function(e,t){var n=e.children,r=e.className,s=pK(e,fK),a=dt("recharts-layer",r);return F.createElement("g",rj({className:a},nt(s,!0),{ref:t}),n)}),Ti=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a]};function hK(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}var xK=hK,vK=xK;function gK(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:vK(e,t,n)}var yK=gK,bK="\\ud800-\\udfff",jK="\\u0300-\\u036f",wK="\\ufe20-\\ufe2f",NK="\\u20d0-\\u20ff",SK=jK+wK+NK,CK="\\ufe0e\\ufe0f",EK="\\u200d",kK=RegExp("["+EK+bK+SK+CK+"]");function AK(e){return kK.test(e)}var c4=AK;function _K(e){return e.split("")}var PK=_K,d4="\\ud800-\\udfff",TK="\\u0300-\\u036f",OK="\\ufe20-\\ufe2f",RK="\\u20d0-\\u20ff",IK=TK+OK+RK,MK="\\ufe0e\\ufe0f",$K="["+d4+"]",ij="["+IK+"]",sj="\\ud83c[\\udffb-\\udfff]",DK="(?:"+ij+"|"+sj+")",u4="[^"+d4+"]",f4="(?:\\ud83c[\\udde6-\\uddff]){2}",p4="[\\ud800-\\udbff][\\udc00-\\udfff]",FK="\\u200d",m4=DK+"?",h4="["+MK+"]?",LK="(?:"+FK+"(?:"+[u4,f4,p4].join("|")+")"+h4+m4+")*",qK=h4+m4+LK,zK="(?:"+[u4+ij+"?",ij,f4,p4,$K].join("|")+")",BK=RegExp(sj+"(?="+sj+")|"+zK+qK,"g");function UK(e){return e.match(BK)||[]}var VK=UK,WK=PK,HK=c4,GK=VK;function KK(e){return HK(e)?GK(e):WK(e)}var YK=KK,QK=yK,XK=c4,ZK=YK,JK=r4;function eY(e){return function(t){t=JK(t);var n=XK(t)?ZK(t):void 0,r=n?n[0]:t.charAt(0),s=n?QK(n,1).join(""):t.slice(1);return r[e]()+s}}var tY=eY,nY=tY,rY=nY("toUpperCase"),iY=rY;const cg=kt(iY);function zt(e){return function(){return e}}const x4=Math.cos,Gh=Math.sin,Bi=Math.sqrt,Kh=Math.PI,dg=2*Kh,aj=Math.PI,oj=2*aj,So=1e-6,sY=oj-So;function v4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v4;const n=10**t;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class oY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v4:aY(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,a,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,s,a){if(t=+t,n=+n,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,d=s-n,u=o-t,f=l-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>So)if(!(Math.abs(f*c-d*u)>So)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,h=s-l,m=c*c+d*d,y=x*x+h*h,g=Math.sqrt(m),b=Math.sqrt(p),v=a*Math.tan((aj-Math.acos((m+p-y)/(2*g*b)))/2),N=v/b,w=v/g;Math.abs(N-1)>So&&this._append`L${t+N*u},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*x>u*h)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,r,s,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),d=t+l,u=n+c,f=1^o,p=o?s-a:a-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>So||Math.abs(this._y1-u)>So)&&this._append`L${d},${u}`,r&&(p<0&&(p=p%oj+oj),p>sY?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=u}`:p>So&&this._append`A${r},${r},0,${+(p>=aj)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function A1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new oY(t)}function _1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g4(e){this._context=e}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ug(e){return new g4(e)}function y4(e){return e[0]}function b4(e){return e[1]}function j4(e,t){var n=zt(!0),r=null,s=ug,a=null,o=A1(l);e=typeof e=="function"?e:e===void 0?y4:zt(e),t=typeof t=="function"?t:t===void 0?b4:zt(t);function l(c){var d,u=(c=_1(c)).length,f,p=!1,x;for(r==null&&(a=s(x=o())),d=0;d<=u;++d)!(d<u&&n(f=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,d,c),+t(f,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:zt(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(a=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=a=null:a=s(r=c),l):r},l}function jm(e,t,n){var r=null,s=zt(!0),a=null,o=ug,l=null,c=A1(d);e=typeof e=="function"?e:e===void 0?y4:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?b4:zt(+n);function d(f){var p,x,h,m=(f=_1(f)).length,y,g=!1,b,v=new Array(m),N=new Array(m);for(a==null&&(l=o(b=c())),p=0;p<=m;++p){if(!(p<m&&s(y=f[p],p,f))===g)if(g=!g)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=p-1;h>=x;--h)l.point(v[h],N[h]);l.lineEnd(),l.areaEnd()}g&&(v[p]=+e(y,p,f),N[p]=+t(y,p,f),l.point(r?+r(y,p,f):v[p],n?+n(y,p,f):N[p]))}if(b)return l=null,b+""||null}function u(){return j4().defined(s).curve(o).context(a)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),r=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),d):e},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),d):r},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),n=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),d):t},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:zt(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),d):o},d.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),d):a},d}class w4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function lY(e){return new w4(e,!0)}function cY(e){return new w4(e,!1)}const P1={draw(e,t){const n=Bi(t/Kh);e.moveTo(n,0),e.arc(0,0,n,0,dg)}},dY={draw(e,t){const n=Bi(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},N4=Bi(1/3),uY=N4*2,fY={draw(e,t){const n=Bi(t/uY),r=n*N4;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},pY={draw(e,t){const n=Bi(t),r=-n/2;e.rect(r,r,n,n)}},mY=.8908130915292852,S4=Gh(Kh/10)/Gh(7*Kh/10),hY=Gh(dg/10)*S4,xY=-x4(dg/10)*S4,vY={draw(e,t){const n=Bi(t*mY),r=hY*n,s=xY*n;e.moveTo(0,-n),e.lineTo(r,s);for(let a=1;a<5;++a){const o=dg*a/5,l=x4(o),c=Gh(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},Wy=Bi(3),gY={draw(e,t){const n=-Bi(t/(Wy*3));e.moveTo(0,n*2),e.lineTo(-Wy*n,-n),e.lineTo(Wy*n,-n),e.closePath()}},Qr=-.5,Xr=Bi(3)/2,lj=1/Bi(12),yY=(lj/2+1)*3,bY={draw(e,t){const n=Bi(t/yY),r=n/2,s=n*lj,a=r,o=n*lj+n,l=-a,c=o;e.moveTo(r,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Qr*r-Xr*s,Xr*r+Qr*s),e.lineTo(Qr*a-Xr*o,Xr*a+Qr*o),e.lineTo(Qr*l-Xr*c,Xr*l+Qr*c),e.lineTo(Qr*r+Xr*s,Qr*s-Xr*r),e.lineTo(Qr*a+Xr*o,Qr*o-Xr*a),e.lineTo(Qr*l+Xr*c,Qr*c-Xr*l),e.closePath()}};function jY(e,t){let n=null,r=A1(s);e=typeof e=="function"?e:zt(e||P1),t=typeof t=="function"?t:zt(t===void 0?64:+t);function s(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:zt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:zt(+a),s):t},s.context=function(a){return arguments.length?(n=a??null,s):n},s}function Yh(){}function Qh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function C4(e){this._context=e}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wY(e){return new C4(e)}function E4(e){this._context=e}E4.prototype={areaStart:Yh,areaEnd:Yh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NY(e){return new E4(e)}function k4(e){this._context=e}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SY(e){return new k4(e)}function A4(e){this._context=e}A4.prototype={areaStart:Yh,areaEnd:Yh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function CY(e){return new A4(e)}function uk(e){return e<0?-1:1}function fk(e,t,n){var r=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(uk(a)+uk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function pk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hy(e,t,n){var r=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,s+l*t,a-l,o-l*n,a,o)}function Xh(e){this._context=e}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hy(this,this._t0,pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hy(this,pk(this,n=fk(this,e,t)),n);break;default:Hy(this,this._t0,n=fk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _4(e){this._context=new P4(e)}(_4.prototype=Object.create(Xh.prototype)).point=function(e,t){Xh.prototype.point.call(this,t,e)};function P4(e){this._context=e}P4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,a){this._context.bezierCurveTo(t,e,r,n,a,s)}};function EY(e){return new Xh(e)}function kY(e){return new _4(e)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=mk(e),s=mk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mk(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),o=new Array(n);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function AY(e){return new T4(e)}function fg(e,t){this._context=e,this._t=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function _Y(e){return new fg(e,.5)}function PY(e){return new fg(e,0)}function TY(e){return new fg(e,1)}function Yc(e,t){if((o=e.length)>1)for(var n=1,r,s,a=e[t[0]],o,l=a.length;n<o;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function cj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function OY(e,t){return e[t]}function RY(e){const t=[];return t.key=e,t}function IY(){var e=zt([]),t=cj,n=Yc,r=OY;function s(a){var o=Array.from(e.apply(this,arguments),RY),l,c=o.length,d=-1,u;for(const f of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(f,o[l].key,d,a)]).data=f;for(l=0,u=_1(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:zt(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?cj:typeof a=="function"?a:zt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(n=a??Yc,s):n},s}function MY(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,o;s<a;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Yc(e,t)}}function $Y(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Yc(e,t)}}function DY(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,o;r<a;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[r][1]||0,p=u[r-1][1]||0,x=(f-p)/2,h=0;h<l;++h){var m=e[t[h]],y=m[r][1]||0,g=m[r-1][1]||0;x+=y-g}c+=f,d+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=d/c)}s[r-1][1]+=s[r-1][0]=n,Yc(e,t)}}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var FY=["type","size","sizeType"];function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dj.apply(this,arguments)}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(r){LY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LY(e,t,n){return t=qY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=zY(e,"string");return yf(t)=="symbol"?t:t+""}function zY(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BY(e,t){if(e==null)return{};var n=UY(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UY(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var O4={symbolCircle:P1,symbolCross:dY,symbolDiamond:fY,symbolSquare:pY,symbolStar:vY,symbolTriangle:gY,symbolWye:bY},VY=Math.PI/180,WY=function(t){var n="symbol".concat(cg(t));return O4[n]||P1},HY=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*VY;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GY=function(t,n){O4["symbol".concat(cg(t))]=n},T1=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=BY(t,FY),d=xk(xk({},c),{},{type:r,size:a,sizeType:l}),u=function(){var y=WY(r),g=jY().type(y).size(HY(a,l,r));return g()},f=d.className,p=d.cx,x=d.cy,h=nt(d,!0);return p===+p&&x===+x&&a===+a?F.createElement("path",dj({},h,{className:dt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(x,")"),d:u()})):null};T1.registerSymbol=GY;function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uj.apply(this,arguments)}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function KY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(r){bf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I4(r.key),r)}}function XY(e,t,n){return t&&QY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZY(e,t,n){return t=Zh(t),JY(e,R4()?Reflect.construct(t,n||[],Zh(e).constructor):t.apply(e,n))}function JY(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQ(e)}function eQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!e})()}function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(e)}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fj(e,t)}function bf(e,t,n){return t=I4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I4(e){var t=nQ(e,"string");return Qc(t)=="symbol"?t:t+""}function nQ(e,t){if(Qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zr=32,O1=function(e){function t(){return YY(this,t),ZY(this,t,arguments)}return tQ(t,e),XY(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,a=Zr/2,o=Zr/6,l=Zr/3,c=r.inactive?s:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Zr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Zr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var d=KY({},r);return delete d.legendIcon,F.cloneElement(r.legendIcon,d)}return F.createElement(T1,{fill:c,cx:a,cy:a,size:Zr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Zr,height:Zr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,h){var m=x.formatter||c,y=dt(bf(bf({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",x.inactive));if(x.type==="none")return null;var g=it(x.value)?null:x.value;Ti(!it(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=x.inactive?d:x.color;return F.createElement("li",uj({className:y,style:f,key:"legend-item-".concat(h)},cl(r.props,x,h)),F.createElement(nj,{width:o,height:o,viewBox:u,style:p},r.renderIcon(x)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(g,x,h):g))})}},{key:"render",value:function(){var r=this.props,s=r.payload,a=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);bf(O1,"displayName","Legend");bf(O1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rQ=Qv;function iQ(){this.__data__=new rQ,this.size=0}var sQ=iQ;function aQ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var oQ=aQ;function lQ(e){return this.__data__.get(e)}var cQ=lQ;function dQ(e){return this.__data__.has(e)}var uQ=dQ,fQ=Qv,pQ=y1,mQ=b1,hQ=200;function xQ(e,t){var n=this.__data__;if(n instanceof fQ){var r=n.__data__;if(!pQ||r.length<hQ-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new mQ(r)}return n.set(e,t),this.size=n.size,this}var vQ=xQ,gQ=Qv,yQ=sQ,bQ=oQ,jQ=cQ,wQ=uQ,NQ=vQ;function Ld(e){var t=this.__data__=new gQ(e);this.size=t.size}Ld.prototype.clear=yQ;Ld.prototype.delete=bQ;Ld.prototype.get=jQ;Ld.prototype.has=wQ;Ld.prototype.set=NQ;var M4=Ld,SQ="__lodash_hash_undefined__";function CQ(e){return this.__data__.set(e,SQ),this}var EQ=CQ;function kQ(e){return this.__data__.has(e)}var AQ=kQ,_Q=b1,PQ=EQ,TQ=AQ;function Jh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _Q;++t<n;)this.add(e[t])}Jh.prototype.add=Jh.prototype.push=PQ;Jh.prototype.has=TQ;var $4=Jh;function OQ(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var D4=OQ;function RQ(e,t){return e.has(t)}var F4=RQ,IQ=$4,MQ=D4,$Q=F4,DQ=1,FQ=2;function LQ(e,t,n,r,s,a){var o=n&DQ,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var f=-1,p=!0,x=n&FQ?new IQ:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var h=e[f],m=t[f];if(r)var y=o?r(m,h,f,t,e,a):r(h,m,f,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(x){if(!MQ(t,function(g,b){if(!$Q(x,b)&&(h===g||s(h,g,n,r,a)))return x.push(b)})){p=!1;break}}else if(!(h===m||s(h,m,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var L4=LQ,qQ=xs,zQ=qQ.Uint8Array,BQ=zQ;function UQ(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var VQ=UQ;function WQ(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var R1=WQ,gk=Ip,yk=BQ,HQ=g1,GQ=L4,KQ=VQ,YQ=R1,QQ=1,XQ=2,ZQ="[object Boolean]",JQ="[object Date]",eX="[object Error]",tX="[object Map]",nX="[object Number]",rX="[object RegExp]",iX="[object Set]",sX="[object String]",aX="[object Symbol]",oX="[object ArrayBuffer]",lX="[object DataView]",bk=gk?gk.prototype:void 0,Gy=bk?bk.valueOf:void 0;function cX(e,t,n,r,s,a,o){switch(n){case lX:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oX:return!(e.byteLength!=t.byteLength||!a(new yk(e),new yk(t)));case ZQ:case JQ:case nX:return HQ(+e,+t);case eX:return e.name==t.name&&e.message==t.message;case rX:case sX:return e==t+"";case tX:var l=KQ;case iX:var c=r&QQ;if(l||(l=YQ),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=XQ,o.set(e,t);var u=GQ(l(e),l(t),r,s,a,o);return o.delete(e),u;case aX:if(Gy)return Gy.call(e)==Gy.call(t)}return!1}var dX=cX;function uX(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var q4=uX,fX=q4,pX=_r;function mX(e,t,n){var r=t(e);return pX(e)?r:fX(r,n(e))}var hX=mX;function xX(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}var vX=xX;function gX(){return[]}var yX=gX,bX=vX,jX=yX,wX=Object.prototype,NX=wX.propertyIsEnumerable,jk=Object.getOwnPropertySymbols,SX=jk?function(e){return e==null?[]:(e=Object(e),bX(jk(e),function(t){return NX.call(e,t)}))}:jX,CX=SX;function EX(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var kX=EX,AX=ia,_X=sa,PX="[object Arguments]";function TX(e){return _X(e)&&AX(e)==PX}var OX=TX,wk=OX,RX=sa,z4=Object.prototype,IX=z4.hasOwnProperty,MX=z4.propertyIsEnumerable,$X=wk(function(){return arguments}())?wk:function(e){return RX(e)&&IX.call(e,"callee")&&!MX.call(e,"callee")},I1=$X,ex={exports:{}};function DX(){return!1}var FX=DX;ex.exports;(function(e,t){var n=xs,r=FX,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;e.exports=d})(ex,ex.exports);var B4=ex.exports,LX=9007199254740991,qX=/^(?:0|[1-9]\d*)$/;function zX(e,t){var n=typeof e;return t=t??LX,!!t&&(n=="number"||n!="symbol"&&qX.test(e))&&e>-1&&e%1==0&&e<t}var M1=zX,BX=9007199254740991;function UX(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=BX}var $1=UX,VX=ia,WX=$1,HX=sa,GX="[object Arguments]",KX="[object Array]",YX="[object Boolean]",QX="[object Date]",XX="[object Error]",ZX="[object Function]",JX="[object Map]",eZ="[object Number]",tZ="[object Object]",nZ="[object RegExp]",rZ="[object Set]",iZ="[object String]",sZ="[object WeakMap]",aZ="[object ArrayBuffer]",oZ="[object DataView]",lZ="[object Float32Array]",cZ="[object Float64Array]",dZ="[object Int8Array]",uZ="[object Int16Array]",fZ="[object Int32Array]",pZ="[object Uint8Array]",mZ="[object Uint8ClampedArray]",hZ="[object Uint16Array]",xZ="[object Uint32Array]",Ht={};Ht[lZ]=Ht[cZ]=Ht[dZ]=Ht[uZ]=Ht[fZ]=Ht[pZ]=Ht[mZ]=Ht[hZ]=Ht[xZ]=!0;Ht[GX]=Ht[KX]=Ht[aZ]=Ht[YX]=Ht[oZ]=Ht[QX]=Ht[XX]=Ht[ZX]=Ht[JX]=Ht[eZ]=Ht[tZ]=Ht[nZ]=Ht[rZ]=Ht[iZ]=Ht[sZ]=!1;function vZ(e){return HX(e)&&WX(e.length)&&!!Ht[VX(e)]}var gZ=vZ;function yZ(e){return function(t){return e(t)}}var U4=yZ,tx={exports:{}};tx.exports;(function(e,t){var n=XM,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,o=a&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(tx,tx.exports);var bZ=tx.exports,jZ=gZ,wZ=U4,Nk=bZ,Sk=Nk&&Nk.isTypedArray,NZ=Sk?wZ(Sk):jZ,V4=NZ,SZ=kX,CZ=I1,EZ=_r,kZ=B4,AZ=M1,_Z=V4,PZ=Object.prototype,TZ=PZ.hasOwnProperty;function OZ(e,t){var n=EZ(e),r=!n&&CZ(e),s=!n&&!r&&kZ(e),a=!n&&!r&&!s&&_Z(e),o=n||r||s||a,l=o?SZ(e.length,String):[],c=l.length;for(var d in e)(t||TZ.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||AZ(d,c)))&&l.push(d);return l}var RZ=OZ,IZ=Object.prototype;function MZ(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||IZ;return e===n}var $Z=MZ;function DZ(e,t){return function(n){return e(t(n))}}var W4=DZ,FZ=W4,LZ=FZ(Object.keys,Object),qZ=LZ,zZ=$Z,BZ=qZ,UZ=Object.prototype,VZ=UZ.hasOwnProperty;function WZ(e){if(!zZ(e))return BZ(e);var t=[];for(var n in Object(e))VZ.call(e,n)&&n!="constructor"&&t.push(n);return t}var HZ=WZ,GZ=v1,KZ=$1;function YZ(e){return e!=null&&KZ(e.length)&&!GZ(e)}var Fp=YZ,QZ=RZ,XZ=HZ,ZZ=Fp;function JZ(e){return ZZ(e)?QZ(e):XZ(e)}var pg=JZ,eJ=hX,tJ=CX,nJ=pg;function rJ(e){return eJ(e,nJ,tJ)}var iJ=rJ,Ck=iJ,sJ=1,aJ=Object.prototype,oJ=aJ.hasOwnProperty;function lJ(e,t,n,r,s,a){var o=n&sJ,l=Ck(e),c=l.length,d=Ck(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:oJ.call(t,p)))return!1}var x=a.get(e),h=a.get(t);if(x&&h)return x==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){p=l[f];var g=e[p],b=t[p];if(r)var v=o?r(b,g,p,t,e,a):r(g,b,p,e,t,a);if(!(v===void 0?g===b||s(g,b,n,r,a):v)){m=!1;break}y||(y=p=="constructor")}if(m&&!y){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var cJ=lJ,dJ=Nl,uJ=xs,fJ=dJ(uJ,"DataView"),pJ=fJ,mJ=Nl,hJ=xs,xJ=mJ(hJ,"Promise"),vJ=xJ,gJ=Nl,yJ=xs,bJ=gJ(yJ,"Set"),H4=bJ,jJ=Nl,wJ=xs,NJ=jJ(wJ,"WeakMap"),SJ=NJ,pj=pJ,mj=y1,hj=vJ,xj=H4,vj=SJ,G4=ia,qd=JM,Ek="[object Map]",CJ="[object Object]",kk="[object Promise]",Ak="[object Set]",_k="[object WeakMap]",Pk="[object DataView]",EJ=qd(pj),kJ=qd(mj),AJ=qd(hj),_J=qd(xj),PJ=qd(vj),Co=G4;(pj&&Co(new pj(new ArrayBuffer(1)))!=Pk||mj&&Co(new mj)!=Ek||hj&&Co(hj.resolve())!=kk||xj&&Co(new xj)!=Ak||vj&&Co(new vj)!=_k)&&(Co=function(e){var t=G4(e),n=t==CJ?e.constructor:void 0,r=n?qd(n):"";if(r)switch(r){case EJ:return Pk;case kJ:return Ek;case AJ:return kk;case _J:return Ak;case PJ:return _k}return t});var TJ=Co,Ky=M4,OJ=L4,RJ=dX,IJ=cJ,Tk=TJ,Ok=_r,Rk=B4,MJ=V4,$J=1,Ik="[object Arguments]",Mk="[object Array]",wm="[object Object]",DJ=Object.prototype,$k=DJ.hasOwnProperty;function FJ(e,t,n,r,s,a){var o=Ok(e),l=Ok(t),c=o?Mk:Tk(e),d=l?Mk:Tk(t);c=c==Ik?wm:c,d=d==Ik?wm:d;var u=c==wm,f=d==wm,p=c==d;if(p&&Rk(e)){if(!Rk(t))return!1;o=!0,u=!1}if(p&&!u)return a||(a=new Ky),o||MJ(e)?OJ(e,t,n,r,s,a):RJ(e,t,c,n,r,s,a);if(!(n&$J)){var x=u&&$k.call(e,"__wrapped__"),h=f&&$k.call(t,"__wrapped__");if(x||h){var m=x?e.value():e,y=h?t.value():t;return a||(a=new Ky),s(m,y,n,r,a)}}return p?(a||(a=new Ky),IJ(e,t,n,r,s,a)):!1}var LJ=FJ,qJ=LJ,Dk=sa;function K4(e,t,n,r,s){return e===t?!0:e==null||t==null||!Dk(e)&&!Dk(t)?e!==e&&t!==t:qJ(e,t,n,r,K4,s)}var D1=K4,zJ=M4,BJ=D1,UJ=1,VJ=2;function WJ(e,t,n,r){var s=n.length,a=s,o=!r;if(e==null)return!a;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new zJ;if(r)var p=r(d,u,c,e,t,f);if(!(p===void 0?BJ(u,d,UJ|VJ,r,f):p))return!1}}return!0}var HJ=WJ,GJ=co;function KJ(e){return e===e&&!GJ(e)}var Y4=KJ,YJ=Y4,QJ=pg;function XJ(e){for(var t=QJ(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,YJ(s)]}return t}var ZJ=XJ;function JJ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Q4=JJ,eee=HJ,tee=ZJ,nee=Q4;function ree(e){var t=tee(e);return t.length==1&&t[0][2]?nee(t[0][0],t[0][1]):function(n){return n===e||eee(n,e,t)}}var iee=ree;function see(e,t){return e!=null&&t in Object(e)}var aee=see,oee=i4,lee=I1,cee=_r,dee=M1,uee=$1,fee=Zv;function pee(e,t,n){t=oee(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var o=fee(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&uee(s)&&dee(o,s)&&(cee(e)||lee(e)))}var mee=pee,hee=aee,xee=mee;function vee(e,t){return e!=null&&xee(e,t,hee)}var gee=vee,yee=D1,bee=s4,jee=gee,wee=x1,Nee=Y4,See=Q4,Cee=Zv,Eee=1,kee=2;function Aee(e,t){return wee(e)&&Nee(t)?See(Cee(e),t):function(n){var r=bee(n,e);return r===void 0&&r===t?jee(n,e):yee(t,r,Eee|kee)}}var _ee=Aee;function Pee(e){return e}var zd=Pee;function Tee(e){return function(t){return t==null?void 0:t[e]}}var Oee=Tee,Ree=N1;function Iee(e){return function(t){return Ree(t,e)}}var Mee=Iee,$ee=Oee,Dee=Mee,Fee=x1,Lee=Zv;function qee(e){return Fee(e)?$ee(Lee(e)):Dee(e)}var zee=qee,Bee=iee,Uee=_ee,Vee=zd,Wee=_r,Hee=zee;function Gee(e){return typeof e=="function"?e:e==null?Vee:typeof e=="object"?Wee(e)?Uee(e[0],e[1]):Bee(e):Hee(e)}var vs=Gee;function Kee(e,t,n,r){for(var s=e.length,a=n+(r?1:-1);r?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var X4=Kee;function Yee(e){return e!==e}var Qee=Yee;function Xee(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var Zee=Xee,Jee=X4,ete=Qee,tte=Zee;function nte(e,t,n){return t===t?tte(e,t,n):Jee(e,ete,n)}var rte=nte,ite=rte;function ste(e,t){var n=e==null?0:e.length;return!!n&&ite(e,t,0)>-1}var ate=ste;function ote(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var lte=ote;function cte(){}var dte=cte,Yy=H4,ute=dte,fte=R1,pte=1/0,mte=Yy&&1/fte(new Yy([,-0]))[1]==pte?function(e){return new Yy(e)}:ute,hte=mte,xte=$4,vte=ate,gte=lte,yte=F4,bte=hte,jte=R1,wte=200;function Nte(e,t,n){var r=-1,s=vte,a=e.length,o=!0,l=[],c=l;if(n)o=!1,s=gte;else if(a>=wte){var d=t?null:bte(e);if(d)return jte(d);o=!1,s=yte,c=new xte}else c=t?[]:l;e:for(;++r<a;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,n)||(c!==l&&c.push(f),l.push(u))}return l}var Ste=Nte,Cte=vs,Ete=Ste;function kte(e,t){return e&&e.length?Ete(e,Cte(t)):[]}var Ate=kte;const Fk=kt(Ate);function Z4(e,t,n){return t===!0?Fk(e,n):it(t)?Fk(e,t):e}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}var _te=["ref"];function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(r){mg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e$(r.key),r)}}function Tte(e,t,n){return t&&qk(e.prototype,t),n&&qk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ote(e,t,n){return t=nx(t),Rte(e,J4()?Reflect.construct(t,n||[],nx(e).constructor):t.apply(e,n))}function Rte(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(e)}function Ite(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(e)}function Mte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gj(e,t)}function mg(e,t,n){return t=e$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e$(e){var t=$te(e,"string");return Xc(t)=="symbol"?t:t+""}function $te(e,t){if(Xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t){if(e==null)return{};var n=Fte(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lte(e){return e.value}function qte(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var n=Dte(t,_te);return F.createElement(O1,n)}var zk=1,gc=function(e){function t(){var n;Pte(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=Ote(this,t,[].concat(s)),mg(n,"lastBoundingBox",{width:-1,height:-1}),n}return Mte(t,e),Tte(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>zk||Math.abs(s.height-this.lastBoundingBox.height)>zk)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();f={left:((d||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();p={top:((u||0)-h.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bs(bs({},f),p)}},{key:"render",value:function(){var r=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=bs(bs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},qte(a,bs(bs({},this.props),{},{payload:Z4(u,d,Lte)})))}}],[{key:"getWithHeight",value:function(r,s){var a=bs(bs({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(j.PureComponent);mg(gc,"displayName","Legend");mg(gc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bk=Ip,zte=I1,Bte=_r,Uk=Bk?Bk.isConcatSpreadable:void 0;function Ute(e){return Bte(e)||zte(e)||!!(Uk&&e&&e[Uk])}var Vte=Ute,Wte=q4,Hte=Vte;function t$(e,t,n,r,s){var a=-1,o=e.length;for(n||(n=Hte),s||(s=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?t$(l,t-1,n,r,s):Wte(s,l):r||(s[s.length]=l)}return s}var n$=t$;function Gte(e){return function(t,n,r){for(var s=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(a[c],c,a)===!1)break}return t}}var Kte=Gte,Yte=Kte,Qte=Yte(),Xte=Qte,Zte=Xte,Jte=pg;function ene(e,t){return e&&Zte(e,t,Jte)}var r$=ene,tne=Fp;function nne(e,t){return function(n,r){if(n==null)return n;if(!tne(n))return e(n,r);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&r(o[a],a,o)!==!1;);return n}}var rne=nne,ine=r$,sne=rne,ane=sne(ine),F1=ane,one=F1,lne=Fp;function cne(e,t){var n=-1,r=lne(e)?Array(e.length):[];return one(e,function(s,a,o){r[++n]=t(s,a,o)}),r}var i$=cne;function dne(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var une=dne,Vk=Id;function fne(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,a=Vk(e),o=t!==void 0,l=t===null,c=t===t,d=Vk(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!s)return 1;if(!r&&!a&&!d&&e<t||d&&n&&s&&!r&&!a||l&&n&&s||!o&&s||!c)return-1}return 0}var pne=fne,mne=pne;function hne(e,t,n){for(var r=-1,s=e.criteria,a=t.criteria,o=s.length,l=n.length;++r<o;){var c=mne(s[r],a[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var xne=hne,Qy=w1,vne=N1,gne=vs,yne=i$,bne=une,jne=U4,wne=xne,Nne=zd,Sne=_r;function Cne(e,t,n){t.length?t=Qy(t,function(a){return Sne(a)?function(o){return vne(o,a.length===1?a[0]:a)}:a}):t=[Nne];var r=-1;t=Qy(t,jne(gne));var s=yne(e,function(a,o,l){var c=Qy(t,function(d){return d(a)});return{criteria:c,index:++r,value:a}});return bne(s,function(a,o){return wne(a,o,n)})}var Ene=Cne;function kne(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ane=kne,_ne=Ane,Wk=Math.max;function Pne(e,t,n){return t=Wk(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=Wk(r.length-t,0),o=Array(a);++s<a;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),_ne(e,this,l)}}var Tne=Pne;function One(e){return function(){return e}}var Rne=One,Ine=Nl,Mne=function(){try{var e=Ine(Object,"defineProperty");return e({},"",{}),e}catch{}}(),s$=Mne,$ne=Rne,Hk=s$,Dne=zd,Fne=Hk?function(e,t){return Hk(e,"toString",{configurable:!0,enumerable:!1,value:$ne(t),writable:!0})}:Dne,Lne=Fne,qne=800,zne=16,Bne=Date.now;function Une(e){var t=0,n=0;return function(){var r=Bne(),s=zne-(r-n);if(n=r,s>0){if(++t>=qne)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Vne=Une,Wne=Lne,Hne=Vne,Gne=Hne(Wne),Kne=Gne,Yne=zd,Qne=Tne,Xne=Kne;function Zne(e,t){return Xne(Qne(e,t,Yne),e+"")}var Jne=Zne,ere=g1,tre=Fp,nre=M1,rre=co;function ire(e,t,n){if(!rre(n))return!1;var r=typeof t;return(r=="number"?tre(n)&&nre(t,n.length):r=="string"&&t in n)?ere(n[t],e):!1}var hg=ire,sre=n$,are=Ene,ore=Jne,Gk=hg,lre=ore(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Gk(e,t[0],t[1])?t=[]:n>2&&Gk(t[0],t[1],t[2])&&(t=[t[0]]),are(e,sre(t,1),[])}),cre=lre;const L1=kt(cre);function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yj.apply(this,arguments)}function dre(e,t){return mre(e)||pre(e,t)||fre(e,t)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(e,t){if(e){if(typeof e=="string")return Kk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(e,t)}}function Kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mre(e){if(Array.isArray(e))return e}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return t=xre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=vre(e,"string");return jf(t)=="symbol"?t:t+""}function vre(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e){return Array.isArray(e)&&En(e[0])&&En(e[1])?e.join(" ~ "):e}var yre=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,p=t.itemSorter,x=t.wrapperClassName,h=t.labelClassName,m=t.label,y=t.labelFormatter,g=t.accessibilityLayer,b=g===void 0?!1:g,v=function(){if(u&&u.length){var A={padding:0,margin:0},_=(p?L1(u,p):u).map(function(O,D){if(O.type==="none")return null;var M=Xy({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},l),V=O.formatter||f||gre,q=O.value,R=O.name,B=q,Y=R;if(V&&B!=null&&Y!=null){var $=V(q,R,O,D,u);if(Array.isArray($)){var re=dre($,2);B=re[0],Y=re[1]}else B=$}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:M},En(Y)?F.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,En(Y)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},B),F.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:A},_)}return null},N=Xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Xy({margin:0},d),C=!ht(m),E=C?m:"",S=dt("recharts-default-tooltip",x),k=dt("recharts-tooltip-label",h);C&&y&&u!==void 0&&u!==null&&(E=y(m,u));var I=b?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",yj({className:S,style:N},I),F.createElement("p",{className:k,style:w},F.isValidElement(E)?E:"".concat(E)),v())};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Nm(e,t,n){return t=bre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bre(e){var t=jre(e,"string");return wf(t)=="symbol"?t:t+""}function jre(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu="recharts-tooltip-wrapper",wre={visibility:"hidden"};function Nre(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return dt(lu,Nm(Nm(Nm(Nm({},"".concat(lu,"-right"),ye(n)&&t&&ye(t.x)&&n>=t.x),"".concat(lu,"-left"),ye(n)&&t&&ye(t.x)&&n<t.x),"".concat(lu,"-bottom"),ye(r)&&t&&ye(t.y)&&r>=t.y),"".concat(lu,"-top"),ye(r)&&t&&ye(t.y)&&r<t.y))}function Qk(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&ye(a[r]))return a[r];var u=n[r]-l-s,f=n[r]+s;if(t[r])return o[r]?u:f;if(o[r]){var p=u,x=c[r];return p<x?Math.max(f,c[r]):Math.max(u,c[r])}var h=f+l,m=c[r]+d;return h>m?Math.max(u,c[r]):Math.max(f,c[r])}function Sre(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Cre(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&n?(u=Qk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Qk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Sre({translateX:u,translateY:f,useTranslate3d:l})):d=wre,{cssProperties:d,cssClasses:Nre({translateX:u,translateY:f,coordinate:n})}}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){jj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o$(r.key),r)}}function Are(e,t,n){return t&&kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _re(e,t,n){return t=rx(t),Pre(e,a$()?Reflect.construct(t,n||[],rx(e).constructor):t.apply(e,n))}function Pre(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tre(e)}function Tre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rx(e)}function Ore(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bj(e,t)}function bj(e,t){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},bj(e,t)}function jj(e,t,n){return t=o$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=Rre(e,"string");return Zc(t)=="symbol"?t:t+""}function Rre(e,t){if(Zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jk=1,Ire=function(e){function t(){var n;Ere(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=_re(this,t,[].concat(s)),jj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),jj(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return Ore(t,e),Are(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Jk||Math.abs(r.height-this.state.lastBoundingBox.height)>Jk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,x=s.offset,h=s.position,m=s.reverseDirection,y=s.useTranslate3d,g=s.viewBox,b=s.wrapperStyle,v=Cre({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:x,position:h,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),N=v.cssClasses,w=v.cssProperties,C=Zk(Zk({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return F.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(S){r.wrapperNode=S}},d)}}])}(j.PureComponent),Mre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qs={isSsr:Mre(),get:function(t){return qs[t]},set:function(t,n){if(typeof t=="string")qs[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(s){qs[s]=t[s]})}}};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){q1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dre(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c$(r.key),r)}}function Fre(e,t,n){return t&&Dre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lre(e,t,n){return t=ix(t),qre(e,l$()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function qre(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zre(e)}function zre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function Bre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wj(e,t)}function q1(e,t,n){return t=c$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$(e){var t=Ure(e,"string");return Jc(t)=="symbol"?t:t+""}function Ure(e,t){if(Jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e){return e.dataKey}function Wre(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(yre,t)}var bi=function(e){function t(){return $re(this,t),Lre(this,t,arguments)}return Bre(t,e),Fre(t,[{key:"render",value:function(){var r=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,p=s.isAnimationActive,x=s.offset,h=s.payload,m=s.payloadUniqBy,y=s.position,g=s.reverseDirection,b=s.useTranslate3d,v=s.viewBox,N=s.wrapperStyle,w=h??[];f&&w.length&&(w=Z4(h.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),m,Vre));var C=w.length>0;return F.createElement(Ire,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:u,hasPayload:C,offset:x,position:y,reverseDirection:g,useTranslate3d:b,viewBox:v,wrapperStyle:N},Wre(d,tA(tA({},this.props),{},{payload:w})))}}])}(j.PureComponent);q1(bi,"displayName","Tooltip");q1(bi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Hre=xs,Gre=function(){return Hre.Date.now()},Kre=Gre,Yre=/\s/;function Qre(e){for(var t=e.length;t--&&Yre.test(e.charAt(t)););return t}var Xre=Qre,Zre=Xre,Jre=/^\s+/;function eie(e){return e&&e.slice(0,Zre(e)+1).replace(Jre,"")}var tie=eie,nie=tie,nA=co,rie=Id,rA=NaN,iie=/^[-+]0x[0-9a-f]+$/i,sie=/^0b[01]+$/i,aie=/^0o[0-7]+$/i,oie=parseInt;function lie(e){if(typeof e=="number")return e;if(rie(e))return rA;if(nA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nie(e);var n=sie.test(e);return n||aie.test(e)?oie(e.slice(2),n?2:8):iie.test(e)?rA:+e}var d$=lie,cie=co,Zy=Kre,iA=d$,die="Expected a function",uie=Math.max,fie=Math.min;function pie(e,t,n){var r,s,a,o,l,c,d=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(die);t=iA(t)||0,cie(n)&&(u=!!n.leading,f="maxWait"in n,a=f?uie(iA(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function x(C){var E=r,S=s;return r=s=void 0,d=C,o=e.apply(S,E),o}function h(C){return d=C,l=setTimeout(g,t),u?x(C):o}function m(C){var E=C-c,S=C-d,k=t-E;return f?fie(k,a-S):k}function y(C){var E=C-c,S=C-d;return c===void 0||E>=t||E<0||f&&S>=a}function g(){var C=Zy();if(y(C))return b(C);l=setTimeout(g,m(C))}function b(C){return l=void 0,p&&r?x(C):(r=s=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,r=c=s=l=void 0}function N(){return l===void 0?o:b(Zy())}function w(){var C=Zy(),E=y(C);if(r=arguments,s=this,c=C,E){if(l===void 0)return h(c);if(f)return clearTimeout(l),l=setTimeout(g,t),x(c)}return l===void 0&&(l=setTimeout(g,t)),o}return w.cancel=v,w.flush=N,w}var mie=pie,hie=mie,xie=co,vie="Expected a function";function gie(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(vie);return xie(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),hie(e,t,{leading:r,maxWait:t,trailing:s})}var yie=gie;const u$=kt(yie);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){bie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bie(e,t,n){return t=jie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=wie(e,"string");return Nf(t)=="symbol"?t:t+""}function wie(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nie(e,t){return kie(e)||Eie(e,t)||Cie(e,t)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cie(e,t){if(e){if(typeof e=="string")return aA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aA(e,t)}}function aA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function kie(e){if(Array.isArray(e))return e}var oA=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,p=e.maxHeight,x=e.children,h=e.debounce,m=h===void 0?0:h,y=e.id,g=e.className,b=e.onResize,v=e.style,N=v===void 0?{}:v,w=j.useRef(null),C=j.useRef();C.current=b,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var E=j.useState({containerWidth:s.width,containerHeight:s.height}),S=Nie(E,2),k=S[0],I=S[1],P=j.useCallback(function(_,O){I(function(D){var M=Math.round(_),V=Math.round(O);return D.containerWidth===M&&D.containerHeight===V?D:{containerWidth:M,containerHeight:V}})},[]);j.useEffect(function(){var _=function(R){var B,Y=R[0].contentRect,$=Y.width,re=Y.height;P($,re),(B=C.current)===null||B===void 0||B.call(C,$,re)};m>0&&(_=u$(_,m,{trailing:!0,leading:!1}));var O=new ResizeObserver(_),D=w.current.getBoundingClientRect(),M=D.width,V=D.height;return P(M,V),O.observe(w.current),function(){O.disconnect()}},[P,m]);var A=j.useMemo(function(){var _=k.containerWidth,O=k.containerHeight;if(_<0||O<0)return null;Ti(Io(o)||Io(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ti(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Io(o)?_:o,M=Io(c)?O:c;n&&n>0&&(D?M=D/n:M&&(D=M*n),p&&M>p&&(M=p)),Ti(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,o,c,u,f,n);var V=!Array.isArray(x)&&Ls(x.type).endsWith("Chart");return F.Children.map(x,function(q){return F.isValidElement(q)?j.cloneElement(q,Sm({width:D,height:M},V?{style:Sm({height:"100%",width:"100%",maxHeight:M,maxWidth:D},q.props.style)}:{})):q})},[n,x,c,p,f,u,k,o]);return F.createElement("div",{id:y?"".concat(y):void 0,className:dt("recharts-responsive-container",g),style:Sm(Sm({},N),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:p}),ref:w},A)}),xg=function(t){return null};xg.displayName="Cell";function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){Aie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aie(e,t,n){return t=_ie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ie(e){var t=Pie(e,"string");return Sf(t)=="symbol"?t:t+""}function Pie(e,t){if(Sf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol={widthCache:{},cacheCount:0},Tie=2e3,Oie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cA="recharts_measurement_span";function Rie(e){var t=Nj({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var zu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qs.isSsr)return{width:0,height:0};var r=Rie(n),s=JSON.stringify({text:t,copyStyle:r});if(Ol.widthCache[s])return Ol.widthCache[s];try{var a=document.getElementById(cA);a||(a=document.createElement("span"),a.setAttribute("id",cA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Nj(Nj({},Oie),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Ol.widthCache[s]=c,++Ol.cacheCount>Tie&&(Ol.cacheCount=0,Ol.widthCache={}),c}catch{return{width:0,height:0}}},Iie=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function sx(e,t){return Fie(e)||Die(e,t)||$ie(e,t)||Mie()}function Mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ie(e,t){if(e){if(typeof e=="string")return dA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(e,t)}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Die(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Fie(e){if(Array.isArray(e))return e}function Lie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zie(r.key),r)}}function qie(e,t,n){return t&&uA(e.prototype,t),n&&uA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zie(e){var t=Bie(e,"string");return Cf(t)=="symbol"?t:t+""}function Bie(e,t){if(Cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wie=Object.keys(f$),tc="NaN";function Hie(e,t){return e*f$[t]}var Cm=function(){function e(t,n){Lie(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Uie.test(n)&&(this.num=NaN,this.unit=""),Wie.includes(n)&&(this.num=Hie(t,n),this.unit="px")}return qie(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=Vie.exec(n))!==null&&r!==void 0?r:[],a=sx(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function p$(e){if(e.includes(tc))return tc;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=fA.exec(t))!==null&&n!==void 0?n:[],s=sx(r,4),a=s[1],o=s[2],l=s[3],c=Cm.parse(a??""),d=Cm.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return tc;t=t.replace(fA,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=pA.exec(t))!==null&&f!==void 0?f:[],x=sx(p,4),h=x[1],m=x[2],y=x[3],g=Cm.parse(h??""),b=Cm.parse(y??""),v=m==="+"?g.add(b):g.subtract(b);if(v.isNaN())return tc;t=t.replace(pA,v.toString())}return t}var mA=/\(([^()]*)\)/;function Gie(e){for(var t=e;t.includes("(");){var n=mA.exec(t),r=sx(n,2),s=r[1];t=t.replace(mA,p$(s))}return t}function Kie(e){var t=e.replace(/\s+/g,"");return t=Gie(t),t=p$(t),t}function Yie(e){try{return Kie(e)}catch{return tc}}function Jy(e){var t=Yie(e.slice(5,-1));return t===tc?"":t}var Qie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xie=["dx","dy","angle","className","breakAll"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sj.apply(this,arguments)}function hA(e,t){if(e==null)return{};var n=Zie(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xA(e,t){return nse(e)||tse(e,t)||ese(e,t)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(e,t){if(e){if(typeof e=="string")return vA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(e,t)}}function vA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tse(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function nse(e){if(Array.isArray(e))return e}var m$=/[ \f\n\r\t\v\u2028\u2029]+/,h$=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var a=[];ht(n)||(r?a=n.toString().split(""):a=n.toString().split(m$));var o=a.map(function(c){return{word:c,width:zu(c,s).width}}),l=r?0:zu(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rse=function(t,n,r,s,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=ye(o),f=l,p=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(M,V){var q=V.word,R=V.width,B=M[M.length-1];if(B&&(s==null||a||B.width+R+r<Number(s)))B.words.push(q),B.width+=R+r;else{var Y={words:[q],width:R};M.push(Y)}return M},[])},x=p(n),h=function(D){return D.reduce(function(M,V){return M.width>V.width?M:V})};if(!u)return x;for(var m="…",y=function(D){var M=f.slice(0,D),V=h$({breakAll:d,style:c,children:M+m}).wordsWithComputedWidth,q=p(V),R=q.length>o||h(q).width>Number(s);return[R,q]},g=0,b=f.length-1,v=0,N;g<=b&&v<=f.length-1;){var w=Math.floor((g+b)/2),C=w-1,E=y(C),S=xA(E,2),k=S[0],I=S[1],P=y(w),A=xA(P,1),_=A[0];if(!k&&!_&&(g=w+1),k&&_&&(b=w-1),!k&&_){N=I;break}v++}return N||x},gA=function(t){var n=ht(t)?[]:t.toString().split(m$);return[{words:n}]},ise=function(t){var n=t.width,r=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!qs.isSsr){var c,d,u=h$({breakAll:o,children:s,style:a});if(u){var f=u.wordsWithComputedWidth,p=u.spaceWidth;c=f,d=p}else return gA(s);return rse({breakAll:o,children:s,maxLines:l,style:a},c,d,n,r)}return gA(s)},yA="#808080",dl=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,p=t.textAnchor,x=p===void 0?"start":p,h=t.verticalAnchor,m=h===void 0?"end":h,y=t.fill,g=y===void 0?yA:y,b=hA(t,Qie),v=j.useMemo(function(){return ise({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),N=b.dx,w=b.dy,C=b.angle,E=b.className,S=b.breakAll,k=hA(b,Xie);if(!En(r)||!En(a))return null;var I=r+(ye(N)?N:0),P=a+(ye(w)?w:0),A;switch(m){case"start":A=Jy("calc(".concat(d,")"));break;case"middle":A=Jy("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=Jy("calc(".concat(v.length-1," * -").concat(l,")"));break}var _=[];if(f){var O=v[0].width,D=b.width;_.push("scale(".concat((ye(D)?D/O:1)/O,")"))}return C&&_.push("rotate(".concat(C,", ").concat(I,", ").concat(P,")")),_.length&&(k.transform=_.join(" ")),F.createElement("text",Sj({},nt(k,!0),{x:I,y:P,className:dt("recharts-text",E),textAnchor:x,fill:g.includes("url")?yA:g}),v.map(function(M,V){var q=M.words.join(S?"":" ");return F.createElement("tspan",{x:I,dy:V===0?A:l,key:"".concat(q,"-").concat(V)},q)}))};function Va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sse(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function z1(e){let t,n,r;e.length!==2?(t=Va,n=(l,c)=>Va(e(l),c),r=(l,c)=>e(l)-c):(t=e===Va||e===sse?e:ase,n=e,r=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;n(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function ase(){return 0}function x$(e){return e===null?NaN:+e}function*ose(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lse=z1(Va),Lp=lse.right;z1(x$).center;class bA extends Map{constructor(t,n=use){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(jA(this,t))}has(t){return super.has(jA(this,t))}set(t,n){return super.set(cse(this,t),n)}delete(t){return super.delete(dse(this,t))}}function jA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function cse({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dse({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function use(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fse(e=Va){if(e===Va)return v$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function v$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pse=Math.sqrt(50),mse=Math.sqrt(10),hse=Math.sqrt(2);function ax(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),a=r/Math.pow(10,s),o=a>=pse?10:a>=mse?5:a>=hse?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?ax(e,t,n*2):[l,c,d]}function Cj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,a,o]=r?ax(t,e,n):ax(e,t,n);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function Ej(e,t,n){return t=+t,e=+e,n=+n,ax(e,t,n)[2]}function kj(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?Ej(t,e,n):Ej(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function wA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g$(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?v$:fse(s);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),x=Math.max(n,Math.floor(t-d*f/c+p)),h=Math.min(r,Math.floor(t+(c-d)*f/c+p));g$(e,t,x,h,s)}const a=e[t];let o=n,l=r;for(cu(e,n,t),s(e[r],a)>0&&cu(e,n,r);o<l;){for(cu(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[n],a)===0?cu(e,n,l):(++l,cu(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function cu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xse(e,t,n){if(e=Float64Array.from(ose(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NA(e);if(t>=1)return wA(e);var r,s=(r-1)*t,a=Math.floor(s),o=wA(g$(e,a).subarray(0,a+1)),l=NA(e.subarray(a+1));return o+(l-o)*(s-a)}}function vse(e,t,n=x$){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function gse(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function fi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Aj=Symbol("implicit");function B1(){var e=new bA,t=[],n=[],r=Aj;function s(a){let o=e.get(a);if(o===void 0){if(r!==Aj)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new bA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return B1(t,n).unknown(r)},fi.apply(s,arguments),s}function Ef(){var e=B1().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var p=t().length,x=s<r,h=x?s:r,m=x?r:s;a=(m-h)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),h+=(m-h-a*(p-c))*u,o=a*(1-c),l&&(h=Math.round(h),o=Math.round(o));var y=gse(p).map(function(g){return h+a*g});return n(x?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,s]=p,r=+r,s=+s,f()):[r,s]},e.rangeRound=function(p){return[r,s]=p,r=+r,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},e.copy=function(){return Ef(t(),[r,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},fi.apply(f(),arguments)}function y$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return y$(t())},e}function Bu(){return y$(Ef.apply(null,arguments).paddingInner(1))}function U1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function b$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qp(){}var kf=.7,ox=1/kf,yc="\\s*([+-]?\\d+)\\s*",Af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yse=/^#([0-9a-f]{3,8})$/,bse=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),jse=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),wse=new RegExp(`^rgba\\(${yc},${yc},${yc},${Af}\\)$`),Nse=new RegExp(`^rgba\\(${as},${as},${as},${Af}\\)$`),Sse=new RegExp(`^hsl\\(${Af},${as},${as}\\)$`),Cse=new RegExp(`^hsla\\(${Af},${as},${as},${Af}\\)$`),SA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U1(qp,_f,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CA,formatHex:CA,formatHex8:Ese,formatHsl:kse,formatRgb:EA,toString:EA});function CA(){return this.rgb().formatHex()}function Ese(){return this.rgb().formatHex8()}function kse(){return j$(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function _f(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yse.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kA(t):n===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Em(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Em(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bse.exec(e))?new Sr(t[1],t[2],t[3],1):(t=jse.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wse.exec(e))?Em(t[1],t[2],t[3],t[4]):(t=Nse.exec(e))?Em(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sse.exec(e))?PA(t[1],t[2]/100,t[3]/100,1):(t=Cse.exec(e))?PA(t[1],t[2]/100,t[3]/100,t[4]):SA.hasOwnProperty(e)?kA(SA[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function kA(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function Em(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sr(e,t,n,r)}function Ase(e){return e instanceof qp||(e=_f(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function _j(e,t,n,r){return arguments.length===1?Ase(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}U1(Sr,_j,b$(qp,{brighter(e){return e=e==null?ox:Math.pow(ox,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Yo(this.r),Yo(this.g),Yo(this.b),lx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AA,formatHex:AA,formatHex8:_se,formatRgb:_A,toString:_A}));function AA(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function _se(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function _A(){const e=lx(this.opacity);return`${e===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${e===1?")":`, ${e})`}`}function lx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mo(e){return e=Yo(e),(e<16?"0":"")+e.toString(16)}function PA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Si(e,t,n,r)}function j$(e){if(e instanceof Si)return new Si(e.h,e.s,e.l,e.opacity);if(e instanceof qp||(e=_f(e)),!e)return new Si;if(e instanceof Si)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new Si(o,l,c,e.opacity)}function Pse(e,t,n,r){return arguments.length===1?j$(e):new Si(e,t,n,r??1)}function Si(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U1(Si,Pse,b$(qp,{brighter(e){return e=e==null?ox:Math.pow(ox,e),new Si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kf:Math.pow(kf,e),new Si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Sr(e0(e>=240?e-240:e+120,s,r),e0(e,s,r),e0(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Si(TA(this.h),km(this.s),km(this.l),lx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lx(this.opacity);return`${e===1?"hsl(":"hsla("}${TA(this.h)}, ${km(this.s)*100}%, ${km(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TA(e){return e=(e||0)%360,e<0?e+360:e}function km(e){return Math.max(0,Math.min(1,e||0))}function e0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const V1=e=>()=>e;function Tse(e,t){return function(n){return e+n*t}}function Ose(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Rse(e){return(e=+e)==1?w$:function(t,n){return n-t?Ose(t,n,e):V1(isNaN(t)?n:t)}}function w$(e,t){var n=t-e;return n?Tse(e,n):V1(isNaN(e)?t:e)}const OA=function e(t){var n=Rse(t);function r(s,a){var o=n((s=_j(s)).r,(a=_j(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),d=w$(s.opacity,a.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return r.gamma=e,r}(1);function Ise(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function Mse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $se(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)s[o]=Bd(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=s[o](l);return a}}function Dse(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fse(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Bd(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var Pj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t0=new RegExp(Pj.source,"g");function Lse(e){return function(){return e}}function qse(e){return function(t){return e(t)+""}}function zse(e,t){var n=Pj.lastIndex=t0.lastIndex=0,r,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Pj.exec(e))&&(s=t0.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:cx(r,s)})),n=t0.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?qse(c[0].x):Lse(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Bd(e,t){var n=typeof t,r;return t==null||n==="boolean"?V1(t):(n==="number"?cx:n==="string"?(r=_f(t))?(t=r,OA):zse:t instanceof _f?OA:t instanceof Date?Dse:Mse(t)?Ise:Array.isArray(t)?$se:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fse:cx)(e,t)}function W1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Bse(e,t){t===void 0&&(t=e,e=Bd);for(var n=0,r=t.length-1,s=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Use(e){return function(){return e}}function dx(e){return+e}var RA=[0,1];function cr(e){return e}function Tj(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Use(isNaN(t)?NaN:.5)}function Vse(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wse(e,t,n){var r=e[0],s=e[1],a=t[0],o=t[1];return s<r?(r=Tj(s,r),a=n(o,a)):(r=Tj(r,s),a=n(a,o)),function(l){return a(r(l))}}function Hse(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=Tj(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Lp(e,l,1,r)-1;return a[c](s[c](l))}}function zp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vg(){var e=RA,t=RA,n=Bd,r,s,a,o=cr,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==cr&&(o=Vse(e[0],e[p-1])),l=p>2?Hse:Wse,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(s((d||(d=l(t,e.map(r),cx)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,dx),u()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=W1,u()},f.clamp=function(p){return arguments.length?(o=p?!0:cr,u()):o!==cr},f.interpolate=function(p){return arguments.length?(n=p,u()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,x){return r=p,s=x,u()}}function H1(){return vg()(cr,cr)}function Gse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ux(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ed(e){return e=ux(Math.abs(e)),e?e[1]:NaN}function Kse(e,t){return function(n,r){for(var s=n.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Yse(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pf(e){if(!(t=Qse.exec(e)))throw new Error("invalid format: "+e);var t;return new G1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pf.prototype=G1.prototype;function G1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}G1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xse(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var N$;function Zse(e,t){var n=ux(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(N$=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ux(e,Math.max(0,t+a-1))[0]}function IA(e,t){var n=ux(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const MA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Gse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IA(e*100,t),r:IA,s:Zse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $A(e){return e}var DA=Array.prototype.map,FA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jse(e){var t=e.grouping===void 0||e.thousands===void 0?$A:Kse(DA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?$A:Yse(DA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Pf(f);var p=f.fill,x=f.align,h=f.sign,m=f.symbol,y=f.zero,g=f.width,b=f.comma,v=f.precision,N=f.trim,w=f.type;w==="n"?(b=!0,w="g"):MA[w]||(v===void 0&&(v=12),N=!0,w="g"),(y||p==="0"&&x==="=")&&(y=!0,p="0",x="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?r:/[%p]/.test(w)?o:"",S=MA[w],k=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function I(P){var A=C,_=E,O,D,M;if(w==="c")_=S(P)+_,P="";else{P=+P;var V=P<0||1/P<0;if(P=isNaN(P)?c:S(Math.abs(P),v),N&&(P=Xse(P)),V&&+P==0&&h!=="+"&&(V=!1),A=(V?h==="("?h:l:h==="-"||h==="("?"":h)+A,_=(w==="s"?FA[8+N$/3]:"")+_+(V&&h==="("?")":""),k){for(O=-1,D=P.length;++O<D;)if(M=P.charCodeAt(O),48>M||M>57){_=(M===46?s+P.slice(O+1):P.slice(O))+_,P=P.slice(0,O);break}}}b&&!y&&(P=t(P,1/0));var q=A.length+P.length+_.length,R=q<g?new Array(g-q+1).join(p):"";switch(b&&y&&(P=t(R+P,R.length?g-_.length:1/0),R=""),x){case"<":P=A+P+_+R;break;case"=":P=A+R+P+_;break;case"^":P=R.slice(0,q=R.length>>1)+A+P+_+R.slice(q);break;default:P=R+A+P+_;break}return a(P)}return I.toString=function(){return f+""},I}function u(f,p){var x=d((f=Pf(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(ed(p)/3)))*3,m=Math.pow(10,-h),y=FA[8+h/3];return function(g){return x(m*g)+y}}return{format:d,formatPrefix:u}}var Am,K1,S$;eae({thousands:",",grouping:[3],currency:["$",""]});function eae(e){return Am=Jse(e),K1=Am.format,S$=Am.formatPrefix,Am}function tae(e){return Math.max(0,-ed(Math.abs(e)))}function nae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ed(t)/3)))*3-ed(Math.abs(e)))}function rae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ed(t)-ed(e))+1}function C$(e,t,n,r){var s=kj(e,t,n),a;switch(r=Pf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=nae(s,o))&&(r.precision=a),S$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rae(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=tae(s))&&(r.precision=a-(r.type==="%")*2);break}}return K1(r)}function uo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Cj(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return C$(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,o=r[s],l=r[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=a,a=d);u-- >0;){if(d=Ej(o,l,n),d===c)return r[s]=o,r[a]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function fx(){var e=H1();return e.copy=function(){return zp(e,fx())},fi.apply(e,arguments),uo(e)}function E$(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,dx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return E$(e).unknown(t)},e=arguments.length?Array.from(e,dx):[0,1],uo(n)}function k$(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],o;return a<s&&(o=n,n=r,r=o,o=s,s=a,a=o),e[n]=t.floor(s),e[r]=t.ceil(a),e}function LA(e){return Math.log(e)}function qA(e){return Math.exp(e)}function iae(e){return-Math.log(-e)}function sae(e){return-Math.exp(-e)}function aae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oae(e){return e===10?aae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zA(e){return(t,n)=>-e(-t,n)}function Y1(e){const t=e(LA,qA),n=t.domain;let r=10,s,a;function o(){return s=lae(r),a=oae(r),n()[0]<0?(s=zA(s),a=zA(a),e(iae,sae)):e(LA,qA),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=s(d),x=s(u),h,m;const y=l==null?10:+l;let g=[];if(!(r%1)&&x-p<y){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(h=1;h<r;++h)if(m=p<0?h/a(-p):h*a(p),!(m<d)){if(m>u)break;g.push(m)}}else for(;p<=x;++p)for(h=r-1;h>=1;--h)if(m=p>0?h/a(-p):h*a(p),!(m<d)){if(m>u)break;g.push(m)}g.length*2<y&&(g=Cj(d,u,y))}else g=Cj(p,x,Math.min(x-p,y)).map(a);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Pf(c)).precision==null&&(c.trim=!0),c=K1(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return u=>{let f=u/a(Math.round(s(u)));return f*r<r-.5&&(f*=r),f<=d?c(u):""}},t.nice=()=>n(k$(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function A$(){const e=Y1(vg()).domain([1,10]);return e.copy=()=>zp(e,A$()).base(e.base()),fi.apply(e,arguments),e}function BA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q1(e){var t=1,n=e(BA(t),UA(t));return n.constant=function(r){return arguments.length?e(BA(t=+r),UA(t)):t},uo(n)}function _$(){var e=Q1(vg());return e.copy=function(){return zp(e,_$()).constant(e.constant())},fi.apply(e,arguments)}function VA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dae(e){return e<0?-e*e:e*e}function X1(e){var t=e(cr,cr),n=1;function r(){return n===1?e(cr,cr):n===.5?e(cae,dae):e(VA(n),VA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},uo(t)}function Z1(){var e=X1(vg());return e.copy=function(){return zp(e,Z1()).exponent(e.exponent())},fi.apply(e,arguments),e}function uae(){return Z1.apply(null,arguments).exponent(.5)}function WA(e){return Math.sign(e)*e*e}function fae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function P$(){var e=H1(),t=[0,1],n=!1,r;function s(a){var o=fae(e(a));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(a){return e.invert(WA(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,dx)).map(WA)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return P$(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},fi.apply(s,arguments),uo(s)}function T$(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=vse(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Lp(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Va),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return T$().domain(e).range(t).unknown(r)},fi.apply(a,arguments)}function O$(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Lp(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return O$().domain([e,t]).range(s).unknown(a)},fi.apply(uo(o),arguments)}function R$(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[Lp(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return R$().domain(e).range(t).unknown(n)},fi.apply(s,arguments)}const n0=new Date,r0=new Date;function kn(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},s.filter=a=>kn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(s.count=(a,o)=>(n0.setTime(+a),r0.setTime(+o),e(n0),e(r0),Math.floor(n(n0,r0))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?o=>r(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const px=kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):px);px.range;const Rs=1e3,si=Rs*60,Is=si*60,Zs=Is*24,J1=Zs*7,HA=Zs*30,i0=Zs*365,$o=kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCSeconds());$o.range;const eS=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getMinutes());eS.range;const tS=kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCMinutes());tS.range;const nS=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rs-e.getMinutes()*si)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getHours());nS.range;const rS=kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCHours());rS.range;const Bp=kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*si)/Zs,e=>e.getDate()-1);Bp.range;const gg=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zs,e=>e.getUTCDate()-1);gg.range;const I$=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zs,e=>Math.floor(e/Zs));I$.range;function Sl(e){return kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*si)/J1)}const yg=Sl(0),mx=Sl(1),pae=Sl(2),mae=Sl(3),td=Sl(4),hae=Sl(5),xae=Sl(6);yg.range;mx.range;pae.range;mae.range;td.range;hae.range;xae.range;function Cl(e){return kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/J1)}const bg=Cl(0),hx=Cl(1),vae=Cl(2),gae=Cl(3),nd=Cl(4),yae=Cl(5),bae=Cl(6);bg.range;hx.range;vae.range;gae.range;nd.range;yae.range;bae.range;const iS=kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());iS.range;const sS=kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sS.range;const Js=kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Js.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Js.range;const ea=kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ea.range;function M$(e,t,n,r,s,a){const o=[[$o,1,Rs],[$o,5,5*Rs],[$o,15,15*Rs],[$o,30,30*Rs],[a,1,si],[a,5,5*si],[a,15,15*si],[a,30,30*si],[s,1,Is],[s,3,3*Is],[s,6,6*Is],[s,12,12*Is],[r,1,Zs],[r,2,2*Zs],[n,1,J1],[t,1,HA],[t,3,3*HA],[e,1,i0]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const x=f&&typeof f.range=="function"?f:c(d,u,f),h=x?x.range(d,+u+1):[];return p?h.reverse():h}function c(d,u,f){const p=Math.abs(u-d)/f,x=z1(([,,y])=>y).right(o,p);if(x===o.length)return e.every(kj(d/i0,u/i0,f));if(x===0)return px.every(Math.max(kj(d,u,f),1));const[h,m]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return h.every(m)}return[l,c]}const[jae,wae]=M$(ea,sS,bg,I$,rS,tS),[Nae,Sae]=M$(Js,iS,yg,Bp,nS,eS);function s0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function du(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Cae(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=uu(s),u=fu(s),f=uu(a),p=fu(a),x=uu(o),h=fu(o),m=uu(l),y=fu(l),g=uu(c),b=fu(c),v={a:V,A:q,b:R,B,c:null,d:ZA,e:ZA,f:Kae,g:ioe,G:aoe,H:Wae,I:Hae,j:Gae,L:$$,m:Yae,M:Qae,p:Y,q:$,Q:t_,s:n_,S:Xae,u:Zae,U:Jae,V:eoe,w:toe,W:noe,x:null,X:null,y:roe,Y:soe,Z:ooe,"%":e_},N={a:re,A:ee,b:Q,B:ie,c:null,d:JA,e:JA,f:uoe,g:joe,G:Noe,H:loe,I:coe,j:doe,L:F$,m:foe,M:poe,p:de,q:Ce,Q:t_,s:n_,S:moe,u:hoe,U:xoe,V:voe,w:goe,W:yoe,x:null,X:null,y:boe,Y:woe,Z:Soe,"%":e_},w={a:I,A:P,b:A,B:_,c:O,d:QA,e:QA,f:zae,g:YA,G:KA,H:XA,I:XA,j:Dae,L:qae,m:$ae,M:Fae,p:k,q:Mae,Q:Uae,s:Vae,S:Lae,u:Pae,U:Tae,V:Oae,w:_ae,W:Rae,x:D,X:M,y:YA,Y:KA,Z:Iae,"%":Bae};v.x=C(n,v),v.X=C(r,v),v.c=C(t,v),N.x=C(n,N),N.X=C(r,N),N.c=C(t,N);function C(le,xe){return function(pe){var z=[],ue=-1,fe=0,Te=le.length,we,Ye,st;for(pe instanceof Date||(pe=new Date(+pe));++ue<Te;)le.charCodeAt(ue)===37&&(z.push(le.slice(fe,ue)),(Ye=GA[we=le.charAt(++ue)])!=null?we=le.charAt(++ue):Ye=we==="e"?" ":"0",(st=xe[we])&&(we=st(pe,Ye)),z.push(we),fe=ue+1);return z.push(le.slice(fe,ue)),z.join("")}}function E(le,xe){return function(pe){var z=du(1900,void 0,1),ue=S(z,le,pe+="",0),fe,Te;if(ue!=pe.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(xe&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(fe=a0(du(z.y,0,1)),Te=fe.getUTCDay(),fe=Te>4||Te===0?hx.ceil(fe):hx(fe),fe=gg.offset(fe,(z.V-1)*7),z.y=fe.getUTCFullYear(),z.m=fe.getUTCMonth(),z.d=fe.getUTCDate()+(z.w+6)%7):(fe=s0(du(z.y,0,1)),Te=fe.getDay(),fe=Te>4||Te===0?mx.ceil(fe):mx(fe),fe=Bp.offset(fe,(z.V-1)*7),z.y=fe.getFullYear(),z.m=fe.getMonth(),z.d=fe.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Te="Z"in z?a0(du(z.y,0,1)).getUTCDay():s0(du(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Te+5)%7:z.w+z.U*7-(Te+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,a0(z)):s0(z)}}function S(le,xe,pe,z){for(var ue=0,fe=xe.length,Te=pe.length,we,Ye;ue<fe;){if(z>=Te)return-1;if(we=xe.charCodeAt(ue++),we===37){if(we=xe.charAt(ue++),Ye=w[we in GA?xe.charAt(ue++):we],!Ye||(z=Ye(le,pe,z))<0)return-1}else if(we!=pe.charCodeAt(z++))return-1}return z}function k(le,xe,pe){var z=d.exec(xe.slice(pe));return z?(le.p=u.get(z[0].toLowerCase()),pe+z[0].length):-1}function I(le,xe,pe){var z=x.exec(xe.slice(pe));return z?(le.w=h.get(z[0].toLowerCase()),pe+z[0].length):-1}function P(le,xe,pe){var z=f.exec(xe.slice(pe));return z?(le.w=p.get(z[0].toLowerCase()),pe+z[0].length):-1}function A(le,xe,pe){var z=g.exec(xe.slice(pe));return z?(le.m=b.get(z[0].toLowerCase()),pe+z[0].length):-1}function _(le,xe,pe){var z=m.exec(xe.slice(pe));return z?(le.m=y.get(z[0].toLowerCase()),pe+z[0].length):-1}function O(le,xe,pe){return S(le,t,xe,pe)}function D(le,xe,pe){return S(le,n,xe,pe)}function M(le,xe,pe){return S(le,r,xe,pe)}function V(le){return o[le.getDay()]}function q(le){return a[le.getDay()]}function R(le){return c[le.getMonth()]}function B(le){return l[le.getMonth()]}function Y(le){return s[+(le.getHours()>=12)]}function $(le){return 1+~~(le.getMonth()/3)}function re(le){return o[le.getUTCDay()]}function ee(le){return a[le.getUTCDay()]}function Q(le){return c[le.getUTCMonth()]}function ie(le){return l[le.getUTCMonth()]}function de(le){return s[+(le.getUTCHours()>=12)]}function Ce(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var xe=C(le+="",v);return xe.toString=function(){return le},xe},parse:function(le){var xe=E(le+="",!1);return xe.toString=function(){return le},xe},utcFormat:function(le){var xe=C(le+="",N);return xe.toString=function(){return le},xe},utcParse:function(le){var xe=E(le+="",!0);return xe.toString=function(){return le},xe}}}var GA={"-":"",_:" ",0:"0"},In=/^\s*\d+/,Eae=/^%/,kae=/[\\^$*+?|[\]().{}]/g;function St(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function Aae(e){return e.replace(kae,"\\$&")}function uu(e){return new RegExp("^(?:"+e.map(Aae).join("|")+")","i")}function fu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _ae(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pae(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Tae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Oae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Rae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function KA(e,t,n){var r=In.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function YA(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iae(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mae(e,t,n){var r=In.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function $ae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QA(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Dae(e,t,n){var r=In.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XA(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Lae(e,t,n){var r=In.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qae(e,t,n){var r=In.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function zae(e,t,n){var r=In.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bae(e,t,n){var r=Eae.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Uae(e,t,n){var r=In.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vae(e,t,n){var r=In.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZA(e,t){return St(e.getDate(),t,2)}function Wae(e,t){return St(e.getHours(),t,2)}function Hae(e,t){return St(e.getHours()%12||12,t,2)}function Gae(e,t){return St(1+Bp.count(Js(e),e),t,3)}function $$(e,t){return St(e.getMilliseconds(),t,3)}function Kae(e,t){return $$(e,t)+"000"}function Yae(e,t){return St(e.getMonth()+1,t,2)}function Qae(e,t){return St(e.getMinutes(),t,2)}function Xae(e,t){return St(e.getSeconds(),t,2)}function Zae(e){var t=e.getDay();return t===0?7:t}function Jae(e,t){return St(yg.count(Js(e)-1,e),t,2)}function D$(e){var t=e.getDay();return t>=4||t===0?td(e):td.ceil(e)}function eoe(e,t){return e=D$(e),St(td.count(Js(e),e)+(Js(e).getDay()===4),t,2)}function toe(e){return e.getDay()}function noe(e,t){return St(mx.count(Js(e)-1,e),t,2)}function roe(e,t){return St(e.getFullYear()%100,t,2)}function ioe(e,t){return e=D$(e),St(e.getFullYear()%100,t,2)}function soe(e,t){return St(e.getFullYear()%1e4,t,4)}function aoe(e,t){var n=e.getDay();return e=n>=4||n===0?td(e):td.ceil(e),St(e.getFullYear()%1e4,t,4)}function ooe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+St(t/60|0,"0",2)+St(t%60,"0",2)}function JA(e,t){return St(e.getUTCDate(),t,2)}function loe(e,t){return St(e.getUTCHours(),t,2)}function coe(e,t){return St(e.getUTCHours()%12||12,t,2)}function doe(e,t){return St(1+gg.count(ea(e),e),t,3)}function F$(e,t){return St(e.getUTCMilliseconds(),t,3)}function uoe(e,t){return F$(e,t)+"000"}function foe(e,t){return St(e.getUTCMonth()+1,t,2)}function poe(e,t){return St(e.getUTCMinutes(),t,2)}function moe(e,t){return St(e.getUTCSeconds(),t,2)}function hoe(e){var t=e.getUTCDay();return t===0?7:t}function xoe(e,t){return St(bg.count(ea(e)-1,e),t,2)}function L$(e){var t=e.getUTCDay();return t>=4||t===0?nd(e):nd.ceil(e)}function voe(e,t){return e=L$(e),St(nd.count(ea(e),e)+(ea(e).getUTCDay()===4),t,2)}function goe(e){return e.getUTCDay()}function yoe(e,t){return St(hx.count(ea(e)-1,e),t,2)}function boe(e,t){return St(e.getUTCFullYear()%100,t,2)}function joe(e,t){return e=L$(e),St(e.getUTCFullYear()%100,t,2)}function woe(e,t){return St(e.getUTCFullYear()%1e4,t,4)}function Noe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nd(e):nd.ceil(e),St(e.getUTCFullYear()%1e4,t,4)}function Soe(){return"+0000"}function e_(){return"%"}function t_(e){return+e}function n_(e){return Math.floor(+e/1e3)}var Rl,q$,z$;Coe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Coe(e){return Rl=Cae(e),q$=Rl.format,Rl.parse,z$=Rl.utcFormat,Rl.utcParse,Rl}function Eoe(e){return new Date(e)}function koe(e){return e instanceof Date?+e:+new Date(+e)}function aS(e,t,n,r,s,a,o,l,c,d){var u=H1(),f=u.invert,p=u.domain,x=d(".%L"),h=d(":%S"),m=d("%I:%M"),y=d("%I %p"),g=d("%a %d"),b=d("%b %d"),v=d("%B"),N=d("%Y");function w(C){return(c(C)<C?x:l(C)<C?h:o(C)<C?m:a(C)<C?y:r(C)<C?s(C)<C?g:b:n(C)<C?v:N)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?p(Array.from(C,koe)):p().map(Eoe)},u.ticks=function(C){var E=p();return e(E[0],E[E.length-1],C??10)},u.tickFormat=function(C,E){return E==null?w:d(E)},u.nice=function(C){var E=p();return(!C||typeof C.range!="function")&&(C=t(E[0],E[E.length-1],C??10)),C?p(k$(E,C)):u},u.copy=function(){return zp(u,aS(e,t,n,r,s,a,o,l,c,d))},u}function Aoe(){return fi.apply(aS(Nae,Sae,Js,iS,yg,Bp,nS,eS,$o,q$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _oe(){return fi.apply(aS(jae,wae,ea,sS,bg,gg,rS,tS,$o,z$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jg(){var e=0,t=1,n,r,s,a,o=cr,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),s=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(p){var x,h;return arguments.length?([x,h]=p,o=f(x,h),d):[o(0),o(1)]}}return d.range=u(Bd),d.rangeRound=u(W1),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return a=f,n=f(e),r=f(t),s=n===r?0:1/(r-n),d}}function fo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B$(){var e=uo(jg()(cr));return e.copy=function(){return fo(e,B$())},aa.apply(e,arguments)}function U$(){var e=Y1(jg()).domain([1,10]);return e.copy=function(){return fo(e,U$()).base(e.base())},aa.apply(e,arguments)}function V$(){var e=Q1(jg());return e.copy=function(){return fo(e,V$()).constant(e.constant())},aa.apply(e,arguments)}function oS(){var e=X1(jg());return e.copy=function(){return fo(e,oS()).exponent(e.exponent())},aa.apply(e,arguments)}function Poe(){return oS.apply(null,arguments).exponent(.5)}function W$(){var e=[],t=cr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Lp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Va),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,a)=>xse(e,a/r))},n.copy=function(){return W$(t).domain(e)},aa.apply(n,arguments)}function wg(){var e=0,t=.5,n=1,r=1,s,a,o,l,c,d=cr,u,f=!1,p;function x(m){return isNaN(m=+m)?p:(m=.5+((m=+u(m))-a)*(r*m<r*a?l:c),d(f?Math.max(0,Math.min(1,m)):m))}x.domain=function(m){return arguments.length?([e,t,n]=m,s=u(e=+e),a=u(t=+t),o=u(n=+n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,x):[e,t,n]},x.clamp=function(m){return arguments.length?(f=!!m,x):f},x.interpolator=function(m){return arguments.length?(d=m,x):d};function h(m){return function(y){var g,b,v;return arguments.length?([g,b,v]=y,d=Bse(m,[g,b,v]),x):[d(0),d(.5),d(1)]}}return x.range=h(Bd),x.rangeRound=h(W1),x.unknown=function(m){return arguments.length?(p=m,x):p},function(m){return u=m,s=m(e),a=m(t),o=m(n),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),r=a<s?-1:1,x}}function H$(){var e=uo(wg()(cr));return e.copy=function(){return fo(e,H$())},aa.apply(e,arguments)}function G$(){var e=Y1(wg()).domain([.1,1,10]);return e.copy=function(){return fo(e,G$()).base(e.base())},aa.apply(e,arguments)}function K$(){var e=Q1(wg());return e.copy=function(){return fo(e,K$()).constant(e.constant())},aa.apply(e,arguments)}function lS(){var e=X1(wg());return e.copy=function(){return fo(e,lS()).exponent(e.exponent())},aa.apply(e,arguments)}function Toe(){return lS.apply(null,arguments).exponent(.5)}const r_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ef,scaleDiverging:H$,scaleDivergingLog:G$,scaleDivergingPow:lS,scaleDivergingSqrt:Toe,scaleDivergingSymlog:K$,scaleIdentity:E$,scaleImplicit:Aj,scaleLinear:fx,scaleLog:A$,scaleOrdinal:B1,scalePoint:Bu,scalePow:Z1,scaleQuantile:T$,scaleQuantize:O$,scaleRadial:P$,scaleSequential:B$,scaleSequentialLog:U$,scaleSequentialPow:oS,scaleSequentialQuantile:W$,scaleSequentialSqrt:Poe,scaleSequentialSymlog:V$,scaleSqrt:uae,scaleSymlog:_$,scaleThreshold:R$,scaleTime:Aoe,scaleUtc:_oe,tickFormat:C$},Symbol.toStringTag,{value:"Module"}));var Ooe=Id;function Roe(e,t,n){for(var r=-1,s=e.length;++r<s;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!Ooe(o):n(o,l)))var l=o,c=a}return c}var Ng=Roe;function Ioe(e,t){return e>t}var Y$=Ioe,Moe=Ng,$oe=Y$,Doe=zd;function Foe(e){return e&&e.length?Moe(e,Doe,$oe):void 0}var Loe=Foe;const Sg=kt(Loe);function qoe(e,t){return e<t}var Q$=qoe,zoe=Ng,Boe=Q$,Uoe=zd;function Voe(e){return e&&e.length?zoe(e,Uoe,Boe):void 0}var Woe=Voe;const Cg=kt(Woe);var Hoe=w1,Goe=vs,Koe=i$,Yoe=_r;function Qoe(e,t){var n=Yoe(e)?Hoe:Koe;return n(e,Goe(t))}var Xoe=Qoe,Zoe=n$,Joe=Xoe;function ele(e,t){return Zoe(Joe(e,t),1)}var tle=ele;const nle=kt(tle);var rle=D1;function ile(e,t){return rle(e,t)}var sle=ile;const Eg=kt(sle);var Ud=1e9,ale={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dS,Jt=!0,di="[DecimalError] ",Qo=di+"Invalid argument: ",cS=di+"Exponent out of range: ",Vd=Math.floor,Eo=Math.pow,ole=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,_n=1e7,Gt=7,X$=9007199254740991,xx=Vd(X$/Gt),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,n,r,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===s?0:r>s^a.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(e){return zs(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,n=t.constructor;return Ft(zs(t,new n(e),0,1),n.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return bn(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,n=this,r=n.constructor,s=r.precision,a=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq($r))throw Error(di+"NaN");if(n.s<1)throw Error(di+(n.s?"NaN":"-Infinity"));return n.eq($r)?new r(0):(Jt=!1,t=zs(Tf(n,a),Tf(e,a),a),Jt=!0,Ft(t,s))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eD(t,e):Z$(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(di+"NaN");return n.s?(Jt=!1,t=zs(n,e,0,1).times(e),Jt=!0,n.minus(t)):Ft(new r(n),s)};Fe.naturalExponential=Fe.exp=function(){return J$(this)};Fe.naturalLogarithm=Fe.ln=function(){return Tf(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z$(t,e):eD(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qo+e);if(t=bn(s)+1,r=s.d.length-1,n=r*Gt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Fe.squareRoot=Fe.sqrt=function(){var e,t,n,r,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(di+"NaN")}for(e=bn(l),Jt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=es(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Vd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(a=r,r=a.plus(zs(l,a,o+2)).times(.5),es(a.d).slice(0,o)===(t=es(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ft(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Jt=!0,Ft(r,n)};Fe.times=Fe.mul=function(e){var t,n,r,s,a,o,l,c,d,u=this,f=u.constructor,p=u.d,x=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,c=p.length,d=x.length,c<d&&(a=p,p=x,x=a,o=c,c=d,d=o),a=[],o=c+d,r=o;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)l=a[s]+x[r]*p[s-r-1]+t,a[s--]=l%_n|0,t=l/_n|0;a[s]=(a[s]+t)%_n|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Jt?Ft(e,f.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fs(e,0,Ud),t===void 0?t=r.rounding:fs(t,0,8),Ft(n,e+bn(n)+1,t))};Fe.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=ul(r,!0):(fs(e,0,Ud),t===void 0?t=s.rounding:fs(t,0,8),r=Ft(new s(r),e+1,t),n=ul(r,!0,e+1)),n};Fe.toFixed=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?ul(s):(fs(e,0,Ud),t===void 0?t=a.rounding:fs(t,0,8),r=Ft(new a(s),e+bn(s)+1,t),n=ul(r.abs(),!1,e+bn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return Ft(new t(e),bn(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,n,r,s,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c($r);if(l=new c(l),!l.s){if(e.s<1)throw Error(di+"Infinity");return l}if(l.eq($r))return l;if(r=c.precision,e.eq($r))return Ft(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=u<0?-u:u)<=X$){for(s=new c($r),t=Math.ceil(r/Gt+4),Jt=!1;n%2&&(s=s.times(l),s_(s.d,t)),n=Vd(n/2),n!==0;)l=l.times(l),s_(l.d,t);return Jt=!0,e.s<0?new c($r).div(s):Ft(s,r)}}else if(a<0)throw Error(di+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Jt=!1,s=e.times(Tf(l,r+d)),Jt=!0,s=J$(s),s.s=a,s};Fe.toPrecision=function(e,t){var n,r,s=this,a=s.constructor;return e===void 0?(n=bn(s),r=ul(s,n<=a.toExpNeg||n>=a.toExpPos)):(fs(e,1,Ud),t===void 0?t=a.rounding:fs(t,0,8),s=Ft(new a(s),e,t),n=bn(s),r=ul(s,e<=n||n<=a.toExpNeg,e)),r};Fe.toSignificantDigits=Fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fs(e,1,Ud),t===void 0?t=r.rounding:fs(t,0,8)),Ft(new r(n),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),n=e.constructor;return ul(e,t<=n.toExpNeg||t>=n.toExpPos)};function Z$(e,t){var n,r,s,a,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Jt?Ft(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(r=c,a=-a,l=d.length):(r=d,s=o,l=c.length),o=Math.ceil(f/Gt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/_n|0,c[a]%=_n;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Jt?Ft(t,f):t}function fs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Qo+e)}function es(e){var t,n,r,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)r=e[t]+"",n=Gt-r.length,n&&(a+=ga(n)),a+=r;o=e[t],r=o+"",n=Gt-r.length,n&&(a+=ga(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var zs=function(){function e(r,s){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*s+o,r[l]=a%_n|0,o=a/_n|0;return o&&r.unshift(o),r}function t(r,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,a){for(var o=0;a--;)r[a]-=o,o=r[a]<s[a]?1:0,r[a]=o*_n+r[a]-s[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,a,o){var l,c,d,u,f,p,x,h,m,y,g,b,v,N,w,C,E,S,k=r.constructor,I=r.s==s.s?1:-1,P=r.d,A=s.d;if(!r.s)return new k(r);if(!s.s)throw Error(di+"Division by zero");for(c=r.e-s.e,E=A.length,w=P.length,x=new k(I),h=x.d=[],d=0;A[d]==(P[d]||0);)++d;if(A[d]>(P[d]||0)&&--c,a==null?b=a=k.precision:o?b=a+(bn(r)-bn(s))+1:b=a,b<0)return new k(0);if(b=b/Gt+2|0,d=0,E==1)for(u=0,A=A[0],b++;(d<w||u)&&b--;d++)v=u*_n+(P[d]||0),h[d]=v/A|0,u=v%A|0;else{for(u=_n/(A[0]+1)|0,u>1&&(A=e(A,u),P=e(P,u),E=A.length,w=P.length),N=E,m=P.slice(0,E),y=m.length;y<E;)m[y++]=0;S=A.slice(),S.unshift(0),C=A[0],A[1]>=_n/2&&++C;do u=0,l=t(A,m,E,y),l<0?(g=m[0],E!=y&&(g=g*_n+(m[1]||0)),u=g/C|0,u>1?(u>=_n&&(u=_n-1),f=e(A,u),p=f.length,y=m.length,l=t(f,m,p,y),l==1&&(u--,n(f,E<p?S:A,p))):(u==0&&(l=u=1),f=A.slice()),p=f.length,p<y&&f.unshift(0),n(m,f,y),l==-1&&(y=m.length,l=t(A,m,E,y),l<1&&(u++,n(m,E<y?S:A,y))),y=m.length):l===0&&(u++,m=[0]),h[d++]=u,l&&m[0]?m[y++]=P[N]||0:(m=[P[N]],y=1);while((N++<w||m[0]!==void 0)&&b--)}return h[0]||h.shift(),x.e=c,Ft(x,o?a+bn(x)+1:a)}}();function J$(e,t){var n,r,s,a,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(bn(e)>16)throw Error(cS+bn(e));if(!e.s)return new u($r);for(t==null?(Jt=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Eo(2,d))/Math.LN10*2+5|0,l+=r,n=s=a=new u($r),u.precision=l;;){if(s=Ft(s.times(e),l),n=n.times(++c),o=a.plus(zs(s,n,l)),es(o.d).slice(0,l)===es(a.d).slice(0,l)){for(;d--;)a=Ft(a.times(a),l);return u.precision=f,t==null?(Jt=!0,Ft(a,f)):a}a=o}}function bn(e){for(var t=e.e*Gt,n=e.d[0];n>=10;n/=10)t++;return t}function o0(e,t,n){if(t>e.LN10.sd())throw Jt=!0,n&&(e.precision=n),Error(di+"LN10 precision limit exceeded");return Ft(new e(e.LN10),t)}function ga(e){for(var t="";e--;)t+="0";return t}function Tf(e,t){var n,r,s,a,o,l,c,d,u,f=1,p=10,x=e,h=x.d,m=x.constructor,y=m.precision;if(x.s<1)throw Error(di+(x.s?"NaN":"-Infinity"));if(x.eq($r))return new m(0);if(t==null?(Jt=!1,d=y):d=t,x.eq(10))return t==null&&(Jt=!0),o0(m,d);if(d+=p,m.precision=d,n=es(h),r=n.charAt(0),a=bn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=es(x.d),r=n.charAt(0),f++;a=bn(x),r>1?(x=new m("0."+n),a++):x=new m(r+"."+n.slice(1))}else return c=o0(m,d+2,y).times(a+""),x=Tf(new m(r+"."+n.slice(1)),d-p).plus(c),m.precision=y,t==null?(Jt=!0,Ft(x,y)):x;for(l=o=x=zs(x.minus($r),x.plus($r),d),u=Ft(x.times(x),d),s=3;;){if(o=Ft(o.times(u),d),c=l.plus(zs(o,new m(s),d)),es(c.d).slice(0,d)===es(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(o0(m,d+2,y).times(a+""))),l=zs(l,new m(f),d),m.precision=y,t==null?(Jt=!0,Ft(l,y)):l;l=c,s+=2}}function i_(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Vd(n/Gt),e.d=[],r=(n+1)%Gt,n<0&&(r+=Gt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Gt;r<s;)e.d.push(+t.slice(r,r+=Gt));t=t.slice(r),r=Gt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),Jt&&(e.e>xx||e.e<-xx))throw Error(cS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ft(e,t,n){var r,s,a,o,l,c,d,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Gt,s=t,d=f[u=0];else{if(u=Math.ceil((r+1)/Gt),a=f.length,u>=a)return e;for(d=a=f[u],o=1;a>=10;a/=10)o++;r%=Gt,s=r-Gt+o}if(n!==void 0&&(a=Eo(10,o-s-1),l=d/a%10|0,c=t<0||f[u+1]!==void 0||d%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?d/Eo(10,o-s):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=bn(e),f.length=1,t=t-a-1,f[0]=Eo(10,(Gt-t%Gt)%Gt),e.e=Vd(-t/Gt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Eo(10,Gt-r),f[u]=s>0?(d/Eo(10,o-s)%Eo(10,s)|0)*a:0),c)for(;;)if(u==0){(f[0]+=a)==_n&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=_n)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Jt&&(e.e>xx||e.e<-xx))throw Error(cS+bn(e));return e}function eD(e,t){var n,r,s,a,o,l,c,d,u,f,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Jt?Ft(t,x):t;if(c=e.d,f=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(n=c,o=-o,l=f.length):(n=f,r=d,l=c.length),s=Math.max(Math.ceil(x/Gt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=_n-1;--c[a],c[s]+=_n}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Jt?Ft(t,x):t):new p(0)}function ul(e,t,n){var r,s=bn(e),a=es(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ga(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+ga(-s-1)+a,n&&(r=n-o)>0&&(a+=ga(r))):s>=o?(a+=ga(s+1-o),n&&(r=n-s-1)>0&&(a=a+"."+ga(r))):((r=s+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(a+="."),a+=ga(r))),e.s<0?"-"+a:a}function s_(e,t){if(e.length>t)return e.length=t,!0}function tD(e){var t,n,r;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return i_(o,a.toString())}else if(typeof a!="string")throw Error(Qo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ole.test(a))i_(o,a);else throw Error(Qo+a)}if(s.prototype=Fe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=tD,s.config=s.set=lle,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function lle(e){if(!e||typeof e!="object")throw Error(di+"Object expected");var t,n,r,s=["precision",1,Ud,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Vd(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Qo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qo+n+": "+r);return this}var dS=tD(ale);$r=new dS(1);const It=dS;function cle(e){return ple(e)||fle(e)||ule(e)||dle()}function dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ule(e,t){if(e){if(typeof e=="string")return Oj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oj(e,t)}}function fle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ple(e){if(Array.isArray(e))return Oj(e)}function Oj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mle=function(t){return t},nD={"@@functional/placeholder":!0},rD=function(t){return t===nD},a_=function(t){return function n(){return arguments.length===0||arguments.length===1&&rD(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},hle=function e(t,n){return t===1?n:a_(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==nD}).length;return o>=t?n.apply(void 0,s):e(t-o,a_(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return rD(f)?c.shift():f});return n.apply(void 0,cle(u).concat(c))}))})},kg=function(t){return hle(t.length,t)},Rj=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},xle=kg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),vle=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mle;var s=n.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Ij=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},iD=function(t){var n=null,r=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function gle(e){var t;return e===0?t=1:t=Math.floor(new It(e).abs().log(10).toNumber())+1,t}function yle(e,t,n){for(var r=new It(e),s=0,a=[];r.lt(t)&&s<1e5;)a.push(r.toNumber()),r=r.add(n),s++;return a}var ble=kg(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),jle=kg(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),wle=kg(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ag={rangeStep:yle,getDigitCount:gle,interpolateNumber:ble,uninterpolateNumber:jle,uninterpolateTruncation:wle};function Mj(e){return Cle(e)||Sle(e)||sD(e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Cle(e){if(Array.isArray(e))return $j(e)}function Of(e,t){return Ale(e)||kle(e,t)||sD(e,t)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sD(e,t){if(e){if(typeof e=="string")return $j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(e,t)}}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kle(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw a}}return n}}function Ale(e){if(Array.isArray(e))return e}function aD(e){var t=Of(e,2),n=t[0],r=t[1],s=n,a=r;return n>r&&(s=r,a=n),[s,a]}function oD(e,t,n){if(e.lte(0))return new It(0);var r=Ag.getDigitCount(e.toNumber()),s=new It(10).pow(r),a=e.div(s),o=r!==1?.05:.1,l=new It(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new It(Math.ceil(c))}function _le(e,t,n){var r=1,s=new It(e);if(!s.isint()&&n){var a=Math.abs(e);a<1?(r=new It(10).pow(Ag.getDigitCount(e)-1),s=new It(Math.floor(s.div(r).toNumber())).mul(r)):a>1&&(s=new It(Math.floor(e)))}else e===0?s=new It(Math.floor((t-1)/2)):n||(s=new It(Math.floor(e)));var o=Math.floor((t-1)/2),l=vle(xle(function(c){return s.add(new It(c-o).mul(r)).toNumber()}),Rj);return l(0,t)}function lD(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var a=oD(new It(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new It(0):(o=new It(e).add(t).div(2),o=o.sub(new It(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new It(t).sub(o).div(a).toNumber()),d=l+c+1;return d>n?lD(e,t,n,r,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:a,tickMin:o.sub(new It(l).mul(a)),tickMax:o.add(new It(c).mul(a))})}function Ple(e){var t=Of(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=aD([n,r]),c=Of(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Mj(Rj(0,s-1).map(function(){return 1/0}))):[].concat(Mj(Rj(0,s-1).map(function(){return-1/0})),[u]);return n>r?Ij(f):f}if(d===u)return _le(d,s,a);var p=lD(d,u,o,a),x=p.step,h=p.tickMin,m=p.tickMax,y=Ag.rangeStep(h,m.add(new It(.1).mul(x)),x);return n>r?Ij(y):y}function Tle(e,t){var n=Of(e,2),r=n[0],s=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=aD([r,s]),l=Of(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var u=Math.max(t,2),f=oD(new It(d).sub(c).div(u-1),a,0),p=[].concat(Mj(Ag.rangeStep(new It(c),new It(d).sub(new It(.99).mul(f)),f)),[d]);return r>s?Ij(p):p}var Ole=iD(Ple),Rle=iD(Tle),Ile="Invariant failed";function fl(e,t){throw new Error(Ile)}var Mle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vx.apply(this,arguments)}function $le(e,t){return qle(e)||Lle(e,t)||Fle(e,t)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fle(e,t){if(e){if(typeof e=="string")return o_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(e,t)}}function o_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function qle(e){if(Array.isArray(e))return e}function zle(e,t){if(e==null)return{};var n=Ble(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ble(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ule(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uD(r.key),r)}}function Wle(e,t,n){return t&&Vle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hle(e,t,n){return t=gx(t),Gle(e,cD()?Reflect.construct(t,n||[],gx(e).constructor):t.apply(e,n))}function Gle(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kle(e)}function Kle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(e)}function Yle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dj(e,t)}function Dj(e,t){return Dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dj(e,t)}function dD(e,t,n){return t=uD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uD(e){var t=Qle(e,"string");return rd(t)=="symbol"?t:t+""}function Qle(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _g=function(e){function t(){return Ule(this,t),Hle(this,t,arguments)}return Yle(t,e),Wle(t,[{key:"render",value:function(){var r=this.props,s=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,p=zle(r,Mle),x=nt(p,!1);this.props.direction==="x"&&u.type!=="number"&&fl();var h=c.map(function(m){var y=d(m,l),g=y.x,b=y.y,v=y.value,N=y.errorVal;if(!N)return null;var w=[],C,E;if(Array.isArray(N)){var S=$le(N,2);C=S[0],E=S[1]}else C=E=N;if(a==="vertical"){var k=u.scale,I=b+s,P=I+o,A=I-o,_=k(v-C),O=k(v+E);w.push({x1:O,y1:P,x2:O,y2:A}),w.push({x1:_,y1:I,x2:O,y2:I}),w.push({x1:_,y1:P,x2:_,y2:A})}else if(a==="horizontal"){var D=f.scale,M=g+s,V=M-o,q=M+o,R=D(v-C),B=D(v+E);w.push({x1:V,y1:B,x2:q,y2:B}),w.push({x1:M,y1:R,x2:M,y2:B}),w.push({x1:V,y1:R,x2:q,y2:R})}return F.createElement(Pt,vx({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},x),w.map(function(Y){return F.createElement("line",vx({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return F.createElement(Pt,{className:"recharts-errorBars"},h)}}])}(F.Component);dD(_g,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dD(_g,"displayName","ErrorBar");function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){Xle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xle(e,t,n){return t=Zle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zle(e){var t=Jle(e,"string");return Rf(t)=="symbol"?t:t+""}function Jle(e,t){if(Rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fD=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Rr(n,gc);if(!o)return null;var l=gc.defaultProps,c=l!==void 0?vo(vo({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(r||[]).reduce(function(u,f){var p=f.item,x=f.props,h=x.sectors||x.data||[];return u.concat(h.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(r||[]).map(function(u){var f=u.item,p=f.type.defaultProps,x=p!==void 0?vo(vo({},p),f.props):{},h=x.dataKey,m=x.name,y=x.legendType,g=x.hide;return{inactive:g,dataKey:h,type:c.iconType||y||"square",color:uS(f),value:m||h,payload:x}}),vo(vo(vo({},c),gc.getWithHeight(o,s)),{},{payload:d,item:o})};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function c_(e){return rce(e)||nce(e)||tce(e)||ece()}function ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(e,t){if(e){if(typeof e=="string")return Fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fj(e,t)}}function nce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rce(e){if(Array.isArray(e))return Fj(e)}function Fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){bc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bc(e,t,n){return t=ice(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ice(e){var t=sce(e,"string");return If(t)=="symbol"?t:t+""}function sce(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yn(e,t,n){return ht(e)||ht(t)?n:En(t)?Ur(e,t,n):it(t)?t(e):n}function Uu(e,t,n,r){var s=nle(e,function(l){return Yn(l,t)});if(n==="number"){var a=s.filter(function(l){return ye(l)||parseFloat(l)});return a.length?[Cg(a),Sg(a)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!ht(l)}):s;return o.map(function(l){return En(l)||l instanceof Date?l:""})}var ace=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(or(f-u)!==or(p-f)){var h=[];if(or(p-f)===or(c[1]-c[0])){x=p;var m=f+c[1]-c[0];h[0]=Math.min(m,(m+u)/2),h[1]=Math.max(m,(m+u)/2)}else{x=u;var y=p+c[1]-c[0];h[0]=Math.min(f,(y+f)/2),h[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>g[0]&&t<=g[1]||t>=h[0]&&t<=h[1]){o=s[d].index;break}}else{var b=Math.min(u,p),v=Math.max(u,p);if(t>(b+f)/2&&t<=(v+f)/2){o=s[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},uS=function(t){var n,r=t,s=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},oce=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,f=Object.keys(u),p=0,x=f.length;p<x;p++){var h=u[f[p]],m=h.items,y=h.cateAxisId,g=m.filter(function(E){return Ls(E.type).indexOf("Bar")>=0});if(g&&g.length){var b=g[0].type.defaultProps,v=b!==void 0?dn(dn({},b),g[0].props):g[0].props,N=v.barSize,w=v[y];o[w]||(o[w]=[]);var C=ht(N)?n:N;o[w].push({item:g[0],stackList:g.slice(1),barSize:ht(C)?void 0:lr(C,r,0)})}}return o},lce=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=lr(n,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=s/c,h=o.reduce(function(N,w){return N+w.barSize||0},0);h+=(c-1)*d,h>=s&&(h-=(c-1)*d,d=0),h>=s&&x>0&&(p=!0,x*=.9,h=c*x);var m=(s-h)/2>>0,y={offset:m-d,size:0};u=o.reduce(function(N,w){var C={item:w.item,position:{offset:y.offset+y.size+d,size:p?x:w.barSize}},E=[].concat(c_(N),[C]);return y=E[E.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){E.push({item:S,position:y})}),E},f)}else{var g=lr(r,s,0,!0);s-2*g-(c-1)*d<=0&&(d=0);var b=(s-2*g-(c-1)*d)/c;b>1&&(b>>=0);var v=l===+l?Math.min(b,l):b;u=o.reduce(function(N,w,C){var E=[].concat(c_(N),[{item:w.item,position:{offset:g+(b+d)*C+(b-v)/2,size:v}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return u},cce=function(t,n,r,s){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=fD({children:a,legendWidth:c});if(d){var u=s||{},f=u.width,p=u.height,x=d.align,h=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&h==="middle")&&x!=="center"&&ye(t[x]))return dn(dn({},t),{},bc({},x,t[x]+(f||0)));if((m==="horizontal"||m==="vertical"&&x==="center")&&h!=="middle"&&ye(t[h]))return dn(dn({},t),{},bc({},h,t[h]+(p||0)))}return t},dce=function(t,n,r){return ht(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},pD=function(t,n,r,s,a){var o=n.props.children,l=oi(o,_g).filter(function(d){return dce(s,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Yn(u,r);if(ht(f))return d;var p=Array.isArray(f)?[Cg(f),Sg(f)]:[f,f],x=c.reduce(function(h,m){var y=Yn(u,m,0),g=p[0]-Math.abs(Array.isArray(y)?y[0]:y),b=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,h[0]),Math.max(b,h[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},uce=function(t,n,r,s,a){var o=n.map(function(l){return pD(t,l,r,a,s)}).filter(function(l){return!ht(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},mD=function(t,n,r,s,a){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&pD(t,c,d,s)||Uu(t,d,r,a)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},hD=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},xD=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Ms=function(t,n,r){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?or(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:s(p)+d,value:f,offset:d}});return u.filter(function(f){return!$p(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+d,value:f,index:p,offset:d}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,p){return{coordinate:s(f)+d,value:a?a[f]:f,index:p,offset:d}})},l0=new WeakMap,_m=function(t,n){if(typeof n!="function")return t;l0.has(t)||l0.set(t,new WeakMap);var r=l0.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},vD=function(t,n,r){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ef(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:fx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bu(),realScaleType:"point"}:a==="category"?{scale:Ef(),realScaleType:"band"}:{scale:fx(),realScaleType:"linear"};if(Mp(s)){var c="scale".concat(cg(s));return{scale:(r_[c]||Bu)(),realScaleType:r_[c]?c:"point"}}return it(s)?{scale:s}:{scale:Bu(),realScaleType:"point"}},u_=1e-4,gD=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),a=Math.min(s[0],s[1])-u_,o=Math.max(s[0],s[1])+u_,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},fce=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},pce=function(t,n){if(!n||n.length!==2||!ye(n[0])||!ye(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!ye(t[0])||t[0]<r)&&(a[0]=r),(!ye(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<r&&(a[1]=r),a},mce=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0,l=0;l<n;++l){var c=$p(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},hce=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var a=0,o=0;o<n;++o){var l=$p(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},xce={sign:mce,expand:MY,none:Yc,silhouette:$Y,wiggle:DY,positive:hce},vce=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),a=xce[r],o=IY().keys(s).value(function(l,c){return+Yn(l,c,0)}).order(cj).offset(a);return o(t)},gce=function(t,n,r,s,a,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(f,p){var x,h=(x=p.type)!==null&&x!==void 0&&x.defaultProps?dn(dn({},p.type.defaultProps),p.props):p.props,m=h.stackId,y=h.hide;if(y)return f;var g=h[r],b=f[g]||{hasStack:!1,stackGroups:{}};if(En(m)){var v=b.stackGroups[m]||{numericAxisId:r,cateAxisId:s,items:[]};v.items.push(p),b.hasStack=!0,b.stackGroups[m]=v}else b.stackGroups[Dp("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[p]};return dn(dn({},f),{},bc({},g,b))},c),u={};return Object.keys(d).reduce(function(f,p){var x=d[p];if(x.hasStack){var h={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(m,y){var g=x.stackGroups[y];return dn(dn({},m),{},bc({},y,{numericAxisId:r,cateAxisId:s,items:g.items,stackedData:vce(t,g.items,a)}))},h)}return dn(dn({},f),{},bc({},p,x))},u)},yD=function(t,n){var r=n.realScaleType,s=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Ole(d,a,l);return t.domain([Cg(u),Sg(u)]),{niceTicks:u}}if(a&&s==="number"){var f=t.domain(),p=Rle(f,a,l);return{niceTicks:p}}return null},f_=function(t){var n=t.axis,r=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=Yn(o,n.dataKey,n.domain[l]);return ht(c)?null:n.scale(c)-a/2+s},yce=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return s<=0&&a>=0?0:a<0?a:s}return r[0]},bce=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(En(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},jce=function(t){return t.reduce(function(n,r){return[Cg(r.concat([n[0]]).filter(ye)),Sg(r.concat([n[1]]).filter(ye))]},[1/0,-1/0])},bD=function(t,n,r){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var f=jce(u.slice(n,r+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},p_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lj=function(t,n,r){if(it(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(ye(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(p_.test(t[0])){var a=+p_.exec(t[0])[1];s[0]=n[0]-a}else it(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(ye(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(m_.test(t[1])){var o=+m_.exec(t[1])[1];s[1]=n[1]+o}else it(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},yx=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var a=L1(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},h_=function(t,n,r){return!t||!t.length||Eg(t,Ur(r,"type.defaultProps.domain"))?n:t},jD=function(t,n){var r=t.type.defaultProps?dn(dn({},t.type.defaultProps),t.props):t.props,s=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return dn(dn({},nt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:uS(t),value:Yn(n,s),type:c,payload:n,chartType:d,hide:u})};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){wD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wD(e,t,n){return t=wce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=Nce(e,"string");return Mf(t)=="symbol"?t:t+""}function Nce(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e,t){return Ace(e)||kce(e,t)||Ece(e,t)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ece(e,t){if(e){if(typeof e=="string")return v_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(e,t)}}function v_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Ace(e){if(Array.isArray(e))return e}var bx=Math.PI/180,_ce=function(t){return t*180/Math.PI},Ut=function(t,n,r,s){return{x:t+Math.cos(-bx*s)*r,y:n+Math.sin(-bx*s)*r}},ND=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Pce=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=lr(t.cx,o,o/2),f=lr(t.cy,l,l/2),p=ND(o,l,r),x=lr(t.innerRadius,p,0),h=lr(t.outerRadius,p,p*.8),m=Object.keys(n);return m.reduce(function(y,g){var b=n[g],v=b.domain,N=b.reversed,w;if(ht(b.range))s==="angleAxis"?w=[c,d]:s==="radiusAxis"&&(w=[x,h]),N&&(w=[w[1],w[0]]);else{w=b.range;var C=w,E=Sce(C,2);c=E[0],d=E[1]}var S=vD(b,a),k=S.realScaleType,I=S.scale;I.domain(v).range(w),gD(I);var P=yD(I,Cs(Cs({},b),{},{realScaleType:k})),A=Cs(Cs(Cs({},b),P),{},{range:w,radius:h,realScaleType:k,scale:I,cx:u,cy:f,innerRadius:x,outerRadius:h,startAngle:c,endAngle:d});return Cs(Cs({},y),{},wD({},g,A))},{})},Tce=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(s-o,2))},Oce=function(t,n){var r=t.x,s=t.y,a=n.cx,o=n.cy,l=Tce({x:r,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:_ce(d),angleInRadian:d}},Rce=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(s,a);return{startAngle:n-o*360,endAngle:r-o*360}},Ice=function(t,n){var r=n.startAngle,s=n.endAngle,a=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},g_=function(t,n){var r=t.x,s=t.y,a=Oce({x:r,y:s},n),o=a.radius,l=a.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Rce(n),f=u.startAngle,p=u.endAngle,x=l,h;if(f<=p){for(;x>p;)x-=360;for(;x<f;)x+=360;h=x>=f&&x<=p}else{for(;x>f;)x-=360;for(;x<p;)x+=360;h=x>=p&&x<=f}return h?Cs(Cs({},n),{},{radius:o,angle:Ice(x,n)}):null},SD=function(t){return!j.isValidElement(t)&&!it(t)&&typeof t!="boolean"?t.className:""};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}var Mce=["offset"];function $ce(e){return qce(e)||Lce(e)||Fce(e)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(e,t){if(e){if(typeof e=="string")return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(e,t)}}function Lce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qce(e){if(Array.isArray(e))return qj(e)}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zce(e,t){if(e==null)return{};var n=Bce(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){Uce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uce(e,t,n){return t=Vce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vce(e){var t=Wce(e,"string");return $f(t)=="symbol"?t:t+""}function Wce(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}var Hce=function(t){var n=t.value,r=t.formatter,s=ht(t.children)?n:t.children;return it(r)?r(s):s},Gce=function(t,n){var r=or(n-t),s=Math.min(Math.abs(n-t),360);return r*s},Kce=function(t,n,r){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,f=c.innerRadius,p=c.outerRadius,x=c.startAngle,h=c.endAngle,m=c.clockWise,y=(f+p)/2,g=Gce(x,h),b=g>=0?1:-1,v,N;s==="insideStart"?(v=x+b*o,N=m):s==="insideEnd"?(v=h-b*o,N=!m):s==="end"&&(v=h+b*o,N=m),N=g<=0?N:!N;var w=Ut(d,u,y,v),C=Ut(d,u,y,v+(N?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),S=ht(t.id)?Dp("recharts-radial-line-"):t.id;return F.createElement("text",Df({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:S,d:E})),F.createElement("textPath",{xlinkHref:"#".concat(S)},n))},Yce=function(t){var n=t.viewBox,r=t.offset,s=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,f=a.endAngle,p=(u+f)/2;if(s==="outside"){var x=Ut(o,l,d+r,p),h=x.x,m=x.y;return{x:h,y:m,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,g=Ut(o,l,y,p),b=g.x,v=g.y;return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Qce=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,a=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,p=f*s,x=f>0?"end":"start",h=f>0?"start":"end",m=d>=0?1:-1,y=m*s,g=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var v={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return jn(jn({},v),r?{height:Math.max(c-r.y,0),width:d}:{})}if(a==="bottom"){var N={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:h};return jn(jn({},N),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(a==="left"){var w={x:l-y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"};return jn(jn({},w),r?{width:Math.max(w.x-r.x,0),height:u}:{})}if(a==="right"){var C={x:l+d+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return jn(jn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var E=r?{width:d,height:u}:{};return a==="insideLeft"?jn({x:l+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?jn({x:l+d-y,y:c+u/2,textAnchor:g,verticalAnchor:"middle"},E):a==="insideTop"?jn({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:h},E):a==="insideBottom"?jn({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:x},E):a==="insideTopLeft"?jn({x:l+y,y:c+p,textAnchor:b,verticalAnchor:h},E):a==="insideTopRight"?jn({x:l+d-y,y:c+p,textAnchor:g,verticalAnchor:h},E):a==="insideBottomLeft"?jn({x:l+y,y:c+u-p,textAnchor:b,verticalAnchor:x},E):a==="insideBottomRight"?jn({x:l+d-y,y:c+u-p,textAnchor:g,verticalAnchor:x},E):Md(a)&&(ye(a.x)||Io(a.x))&&(ye(a.y)||Io(a.y))?jn({x:l+lr(a.x,d),y:c+lr(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):jn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Xce=function(t){return"cx"in t&&ye(t.cx)};function Tn(e){var t=e.offset,n=t===void 0?5:t,r=zce(e,Mce),s=jn({offset:n},r),a=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,p=s.textBreakAll;if(!a||ht(l)&&ht(c)&&!j.isValidElement(d)&&!it(d))return null;if(j.isValidElement(d))return j.cloneElement(d,s);var x;if(it(d)){if(x=j.createElement(d,s),j.isValidElement(x))return x}else x=Hce(s);var h=Xce(a),m=nt(s,!0);if(h&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Kce(s,x,m);var y=h?Yce(s):Qce(s);return F.createElement(dl,Df({className:dt("recharts-label",f)},m,y,{breakAll:p}),x)}Tn.displayName="Label";var CD=function(t){var n=t.cx,r=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,p=t.y,x=t.top,h=t.left,m=t.width,y=t.height,g=t.clockWise,b=t.labelViewBox;if(b)return b;if(ye(m)&&ye(y)){if(ye(f)&&ye(p))return{x:f,y:p,width:m,height:y};if(ye(x)&&ye(h))return{x,y:h,width:m,height:y}}return ye(f)&&ye(p)?{x:f,y:p,width:0,height:0}:ye(n)&&ye(r)?{cx:n,cy:r,startAngle:a||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},Zce=function(t,n){return t?t===!0?F.createElement(Tn,{key:"label-implicit",viewBox:n}):En(t)?F.createElement(Tn,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Tn?j.cloneElement(t,{key:"label-implicit",viewBox:n}):F.createElement(Tn,{key:"label-implicit",content:t,viewBox:n}):it(t)?F.createElement(Tn,{key:"label-implicit",content:t,viewBox:n}):Md(t)?F.createElement(Tn,Df({viewBox:n},t,{key:"label-implicit"})):null:null},Jce=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=CD(t),o=oi(s,Tn).map(function(c,d){return j.cloneElement(c,{viewBox:n||a,key:"label-".concat(d)})});if(!r)return o;var l=Zce(t.label,n||a);return[l].concat($ce(o))};Tn.parseViewBox=CD;Tn.renderCallByParent=Jce;function ede(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tde=ede;const nde=kt(tde);function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}var rde=["valueAccessor"],ide=["data","dataKey","clockWise","id","textBreakAll"];function sde(e){return cde(e)||lde(e)||ode(e)||ade()}function ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(e,t){if(e){if(typeof e=="string")return zj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zj(e,t)}}function lde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cde(e){if(Array.isArray(e))return zj(e)}function zj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function j_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(r){dde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dde(e,t,n){return t=ude(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ude(e){var t=fde(e,"string");return Ff(t)=="symbol"?t:t+""}function fde(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w_(e,t){if(e==null)return{};var n=pde(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mde=function(t){return Array.isArray(t.value)?nde(t.value):t.value};function Wa(e){var t=e.valueAccessor,n=t===void 0?mde:t,r=w_(e,rde),s=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=w_(r,ide);return!s||!s.length?null:F.createElement(Pt,{className:"recharts-label-list"},s.map(function(u,f){var p=ht(a)?n(u,f):Yn(u&&u.payload,a),x=ht(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(Tn,jx({},nt(u,!0),d,x,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Tn.parseViewBox(ht(o)?u:j_(j_({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wa.displayName="LabelList";function hde(e,t){return e?e===!0?F.createElement(Wa,{key:"labelList-implicit",data:t}):F.isValidElement(e)||it(e)?F.createElement(Wa,{key:"labelList-implicit",data:t,content:e}):Md(e)?F.createElement(Wa,jx({data:t},e,{key:"labelList-implicit"})):null:null}function xde(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=oi(r,Wa).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var a=hde(e.label,t);return[a].concat(sde(s))}Wa.renderCallByParent=xde;function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bj.apply(this,arguments)}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(r){vde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vde(e,t,n){return t=gde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gde(e){var t=yde(e,"string");return Lf(t)=="symbol"?t:t+""}function yde(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bde=function(t,n){var r=or(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Pm=function(t){var n=t.cx,r=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/bx,p=d?a:a+o*f,x=Ut(n,r,u,p),h=Ut(n,r,s,p),m=d?a-o*f:a,y=Ut(n,r,u*Math.cos(f*bx),m);return{center:x,circleTangency:h,lineTangency:y,theta:f}},ED=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=bde(o,l),d=o+c,u=Ut(n,r,a,o),f=Ut(n,r,a,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=Ut(n,r,s,o),h=Ut(n,r,s,d);p+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},jde=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=or(u-d),p=Pm({cx:n,cy:r,radius:a,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),x=p.circleTangency,h=p.lineTangency,m=p.theta,y=Pm({cx:n,cy:r,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=y.circleTangency,b=y.lineTangency,v=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-m-v;if(N<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ED({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:d,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var C=Pm({cx:n,cy:r,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=C.circleTangency,S=C.lineTangency,k=C.theta,I=Pm({cx:n,cy:r,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=I.circleTangency,A=I.lineTangency,_=I.theta,O=c?Math.abs(d-u):Math.abs(d-u)-k-_;if(O<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},wde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kD=function(t){var n=S_(S_({},wde),t),r=n.cx,s=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,p=n.className;if(o<a||u===f)return null;var x=dt("recharts-sector",p),h=o-a,m=lr(l,h,0,!0),y;return m>0&&Math.abs(u-f)<360?y=jde({cx:r,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,h/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=ED({cx:r,cy:s,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),F.createElement("path",Bj({},nt(n,!0),{className:x,d:y,role:"img"}))};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uj.apply(this,arguments)}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function E_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(r){Nde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nde(e,t,n){return t=Sde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sde(e){var t=Cde(e,"string");return qf(t)=="symbol"?t:t+""}function Cde(e,t){if(qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k_={curveBasisClosed:NY,curveBasisOpen:SY,curveBasis:wY,curveBumpX:lY,curveBumpY:cY,curveLinearClosed:CY,curveLinear:ug,curveMonotoneX:EY,curveMonotoneY:kY,curveNatural:AY,curveStep:_Y,curveStepAfter:TY,curveStepBefore:PY},Tm=function(t){return t.x===+t.x&&t.y===+t.y},pu=function(t){return t.x},mu=function(t){return t.y},Ede=function(t,n){if(it(t))return t;var r="curve".concat(cg(t));return(r==="curveMonotone"||r==="curveBump")&&n?k_["".concat(r).concat(n==="vertical"?"Y":"X")]:k_[r]||ug},kde=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Ede(r,l),f=d?a.filter(function(m){return Tm(m)}):a,p;if(Array.isArray(o)){var x=d?o.filter(function(m){return Tm(m)}):o,h=f.map(function(m,y){return E_(E_({},m),{},{base:x[y]})});return l==="vertical"?p=jm().y(mu).x1(pu).x0(function(m){return m.base.x}):p=jm().x(pu).y1(mu).y0(function(m){return m.base.y}),p.defined(Tm).curve(u),p(h)}return l==="vertical"&&ye(o)?p=jm().y(mu).x1(pu).x0(o):ye(o)?p=jm().x(pu).y1(mu).y0(o):p=j4().x(pu).y(mu),p.defined(Tm).curve(u),p(f)},Vj=function(t){var n=t.className,r=t.points,s=t.path,a=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?kde(t):s;return F.createElement("path",Uj({},nt(t,!1),Hh(t),{className:dt("recharts-curve",n),d:o,ref:a}))},AD={exports:{}},Ade="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_de=Ade,Pde=_de;function _D(){}function PD(){}PD.resetWarningCache=_D;var Tde=function(){function e(r,s,a,o,l,c){if(c!==Pde){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:PD,resetWarningCache:_D};return n.PropTypes=n,n};AD.exports=Tde();var Ode=AD.exports;const Ke=kt(Ode);var Rde=Object.getOwnPropertyNames,Ide=Object.getOwnPropertySymbols,Mde=Object.prototype.hasOwnProperty;function A_(e,t){return function(r,s,a){return e(r,s,a)&&t(r,s,a)}}function Om(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var a=s.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,s);return a.delete(n),a.delete(r),c}}function __(e){return Rde(e).concat(Ide(e))}var $de=Object.hasOwn||function(e,t){return Mde.call(e,t)};function El(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Dde="__v",Fde="__o",Lde="_owner",P_=Object.getOwnPropertyDescriptor,T_=Object.keys;function qde(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function zde(e,t){return El(e.getTime(),t.getTime())}function Bde(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ude(e,t){return e===t}function O_(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var p=o.value,x=l.value;if(n.equals(p[0],x[0],c,f,e,t,n)&&n.equals(p[1],x[1],p[0],x[0],e,t,n)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Vde=El;function Wde(e,t,n){var r=T_(e),s=r.length;if(T_(t).length!==s)return!1;for(;s-- >0;)if(!TD(e,t,n,r[s]))return!1;return!0}function hu(e,t,n){var r=__(e),s=r.length;if(__(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=r[s],!TD(e,t,n,a)||(o=P_(e,a),l=P_(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Hde(e,t){return El(e.valueOf(),t.valueOf())}function Gde(e,t){return e.source===t.source&&e.flags===t.flags}function R_(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function Kde(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Yde(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function TD(e,t,n,r){return(r===Lde||r===Fde||r===Dde)&&(e.$$typeof||t.$$typeof)?!0:$de(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Qde="[object Arguments]",Xde="[object Boolean]",Zde="[object Date]",Jde="[object Error]",eue="[object Map]",tue="[object Number]",nue="[object Object]",rue="[object RegExp]",iue="[object Set]",sue="[object String]",aue="[object URL]",oue=Array.isArray,I_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,M_=Object.assign,lue=Object.prototype.toString.call.bind(Object.prototype.toString);function cue(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(h,m,y){if(h===m)return!0;if(h==null||m==null)return!1;var g=typeof h;if(g!==typeof m)return!1;if(g!=="object")return g==="number"?o(h,m,y):g==="function"?s(h,m,y):!1;var b=h.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(h,m,y);if(oue(h))return t(h,m,y);if(I_!=null&&I_(h))return f(h,m,y);if(b===Date)return n(h,m,y);if(b===RegExp)return d(h,m,y);if(b===Map)return a(h,m,y);if(b===Set)return u(h,m,y);var v=lue(h);return v===Zde?n(h,m,y):v===rue?d(h,m,y):v===eue?a(h,m,y):v===iue?u(h,m,y):v===nue?typeof h.then!="function"&&typeof m.then!="function"&&l(h,m,y):v===aue?p(h,m,y):v===Jde?r(h,m,y):v===Qde?l(h,m,y):v===Xde||v===tue||v===sue?c(h,m,y):!1}}function due(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?hu:qde,areDatesEqual:zde,areErrorsEqual:Bde,areFunctionsEqual:Ude,areMapsEqual:r?A_(O_,hu):O_,areNumbersEqual:Vde,areObjectsEqual:r?hu:Wde,arePrimitiveWrappersEqual:Hde,areRegExpsEqual:Gde,areSetsEqual:r?A_(R_,hu):R_,areTypedArraysEqual:r?hu:Kde,areUrlsEqual:Yde};if(n&&(s=M_({},s,n(s))),t){var a=Om(s.areArraysEqual),o=Om(s.areMapsEqual),l=Om(s.areObjectsEqual),c=Om(s.areSetsEqual);s=M_({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function uue(e){return function(t,n,r,s,a,o,l){return e(t,n,l)}}function fue(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,a=e.strict;if(r)return function(c,d){var u=r(),f=u.cache,p=f===void 0?t?new WeakMap:void 0:f,x=u.meta;return n(c,d,{cache:p,equals:s,meta:x,strict:a})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,d){return n(c,d,o)}}var pue=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:function(){return El}});po({strict:!0,createInternalComparator:function(){return El}});po({circular:!0,createInternalComparator:function(){return El}});po({circular:!0,createInternalComparator:function(){return El},strict:!0});function po(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=due(e),c=cue(l),d=r?r(c):uue(c);return fue({circular:n,comparator:c,createState:s,equals:d,strict:o})}function mue(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function $_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(a){n<0&&(n=a),a-n>t?(e(a),n=-1):mue(s)};requestAnimationFrame(r)}function Wj(e){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wj(e)}function hue(e){return yue(e)||gue(e)||vue(e)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(e,t){if(e){if(typeof e=="string")return D_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(e,t)}}function D_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yue(e){if(Array.isArray(e))return e}function bue(){var e={},t=function(){return null},n=!1,r=function s(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=hue(o),c=l[0],d=l.slice(1);if(typeof c=="number"){$_(s.bind(null,d),c);return}s(c),$_(s.bind(null,d));return}Wj(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(r){OD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OD(e,t,n){return t=jue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jue(e){var t=wue(e,"string");return zf(t)==="symbol"?t:String(t)}function wue(e,t){if(zf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nue=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(a){return s.includes(a)})})},Sue=function(t){return t},Cue=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vu=function(t,n){return Object.keys(n).reduce(function(r,s){return L_(L_({},r),{},OD({},s,t(s,n[s])))},{})},q_=function(t,n,r){return t.map(function(s){return"".concat(Cue(s)," ").concat(n,"ms ").concat(r)}).join(",")};function Eue(e,t){return _ue(e)||Aue(e,t)||RD(e,t)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _ue(e){if(Array.isArray(e))return e}function Pue(e){return Rue(e)||Oue(e)||RD(e)||Tue()}function Tue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,t){if(e){if(typeof e=="string")return Hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(e,t)}}function Oue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rue(e){if(Array.isArray(e))return Hj(e)}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wx=1e-4,ID=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},MD=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},z_=function(t,n){return function(r){var s=ID(t,n);return MD(s,r)}},Iue=function(t,n){return function(r){var s=ID(t,n),a=[].concat(Pue(s.map(function(o,l){return o*l}).slice(1)),[0]);return MD(a,r)}},B_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Eue(d,4);s=u[0],a=u[1],o=u[2],l=u[3]}}}var f=z_(s,o),p=z_(a,l),x=Iue(s,o),h=function(g){return g>1?1:g<0?0:g},m=function(g){for(var b=g>1?1:g,v=b,N=0;N<8;++N){var w=f(v)-b,C=x(v);if(Math.abs(w-b)<wx||C<wx)return p(v);v=h(v-w/C)}return p(v)};return m.isStepper=!1,m},Mue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,p){var x=-(u-f)*r,h=p*a,m=p+(x-h)*l/1e3,y=p*l/1e3+u;return Math.abs(y-f)<wx&&Math.abs(m)<wx?[f,0]:[y,m]};return c.isStepper=!0,c.dt=l,c},$ue=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B_(s);case"spring":return Mue();default:if(s.split("(")[0]==="cubic-bezier")return B_(s)}return typeof s=="function"?s:null};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function U_(e){return Lue(e)||Fue(e)||$D(e)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lue(e){if(Array.isArray(e))return Kj(e)}function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(n),!0).forEach(function(r){Gj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gj(e,t,n){return t=que(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=zue(e,"string");return Bf(t)==="symbol"?t:String(t)}function zue(e,t){if(Bf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bue(e,t){return Wue(e)||Vue(e,t)||$D(e,t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $D(e,t){if(e){if(typeof e=="string")return Kj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kj(e,t)}}function Kj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Wue(e){if(Array.isArray(e))return e}var Nx=function(t,n,r){return t+(n-t)*r},Yj=function(t){var n=t.from,r=t.to;return n!==r},Hue=function e(t,n,r){var s=Vu(function(a,o){if(Yj(o)){var l=t(o.from,o.to,o.velocity),c=Bue(l,2),d=c[0],u=c[1];return $n($n({},o),{},{from:d,velocity:u})}return o},n);return r<1?Vu(function(a,o){return Yj(o)?$n($n({},o),{},{velocity:Nx(o.velocity,s[a].velocity,r),from:Nx(o.from,s[a].from,r)}):o},n):e(t,s,r-1)};const Gue=function(e,t,n,r,s){var a=Nue(e,t),o=a.reduce(function(y,g){return $n($n({},y),{},Gj({},g,[e[g],t[g]]))},{}),l=a.reduce(function(y,g){return $n($n({},y),{},Gj({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,d,u,f=function(){return null},p=function(){return Vu(function(g,b){return b.from},l)},x=function(){return!Object.values(l).filter(Yj).length},h=function(g){d||(d=g);var b=g-d,v=b/n.dt;l=Hue(n,l,v),s($n($n($n({},e),t),p())),d=g,x()||(c=requestAnimationFrame(f))},m=function(g){u||(u=g);var b=(g-u)/r,v=Vu(function(w,C){return Nx.apply(void 0,U_(C).concat([n(b)]))},o);if(s($n($n($n({},e),t),v)),b<1)c=requestAnimationFrame(f);else{var N=Vu(function(w,C){return Nx.apply(void 0,U_(C).concat([n(1)]))},o);s($n($n($n({},e),t),N))}};return f=n.isStepper?h:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}var Kue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yue(e,t){if(e==null)return{};var n=Que(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Que(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function c0(e){return efe(e)||Jue(e)||Zue(e)||Xue()}function Xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zue(e,t){if(e){if(typeof e=="string")return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}}function Jue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function efe(e){if(Array.isArray(e))return Qj(e)}function Qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ku(e,t,n){return t=DD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DD(r.key),r)}}function rfe(e,t,n){return t&&nfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DD(e){var t=ife(e,"string");return id(t)==="symbol"?t:String(t)}function ife(e,t){if(id(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(id(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xj(e,t)}function afe(e){var t=ofe();return function(){var r=Sx(e),s;if(t){var a=Sx(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return Zj(this,s)}}function Zj(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jj(e)}function Jj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ofe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sx(e){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sx(e)}var ta=function(e){sfe(n,e);var t=afe(n);function n(r,s){var a;tfe(this,n),a=t.call(this,r,s);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,p=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Jj(a)),a.changeStyle=a.changeStyle.bind(Jj(a)),!l||x<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:u}),Zj(a);if(f&&f.length)a.state={style:f[0].style};else if(d){if(typeof p=="function")return a.state={style:d},Zj(a);a.state={style:c?ku({},c,d):d}}else a.state={style:{}};return a}return rfe(n,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,f=a.from,p=this.state.style;if(l){if(!o){var x={style:c?ku({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(x);return}if(!(pue(s.to,u)&&s.canBegin&&s.isActive)){var h=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=h||d?f:s.to;if(this.state&&p){var y={style:c?ku({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(y)}this.runAnimation(hi(hi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,x=Gue(o,l,$ue(d),c,this.changeStyle),h=function(){a.stopJSAnimation=x()};this.manager.start([p,u,h,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,p=f===void 0?0:f,x=function(m,y,g){if(g===0)return m;var b=y.duration,v=y.easing,N=v===void 0?"ease":v,w=y.style,C=y.properties,E=y.onAnimationEnd,S=g>0?o[g-1]:y,k=C||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(c0(m),[a.runJSAnimation.bind(a,{from:S.style,to:w,duration:b,easing:N}),b]);var I=q_(k,b,N),P=hi(hi(hi({},S.style),w),{},{transition:I});return[].concat(c0(m),[P,b,E]).filter(Sue)};return this.manager.start([c].concat(c0(o.reduce(x,[u,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=bue());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,x=s.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var m=l?ku({},l,c):c,y=q_(Object.keys(m),o,d);h.start([u,a,hi(hi({},m),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Yue(s,Kue),d=j.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var f=function(x){var h=x.props,m=h.style,y=m===void 0?{}:m,g=h.className,b=j.cloneElement(x,hi(hi({},c),{},{style:hi(hi({},y),u),className:g}));return b};return d===1?f(j.Children.only(a)):F.createElement("div",null,j.Children.map(a,function(p){return f(p)}))}}]),n}(j.PureComponent);ta.displayName="Animate";ta.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ta.propTypes={from:Ke.oneOfType([Ke.object,Ke.string]),to:Ke.oneOfType([Ke.object,Ke.string]),attributeName:Ke.string,duration:Ke.number,begin:Ke.number,easing:Ke.oneOfType([Ke.string,Ke.func]),steps:Ke.arrayOf(Ke.shape({duration:Ke.number.isRequired,style:Ke.object.isRequired,easing:Ke.oneOfType([Ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ke.func]),properties:Ke.arrayOf("string"),onAnimationEnd:Ke.func})),children:Ke.oneOfType([Ke.node,Ke.func]),isActive:Ke.bool,canBegin:Ke.bool,onAnimationEnd:Ke.func,shouldReAnimate:Ke.bool,onAnimationStart:Ke.func,onAnimationReStart:Ke.func};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(this,arguments)}function lfe(e,t){return ffe(e)||ufe(e,t)||dfe(e,t)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(e,t){if(e){if(typeof e=="string")return H_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(e,t)}}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ufe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ffe(e){if(Array.isArray(e))return e}function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function K_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(r){pfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pfe(e,t,n){return t=mfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mfe(e){var t=hfe(e,"string");return Uf(t)=="symbol"?t:t+""}function hfe(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y_=function(t,n,r,s,a){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=a[p]>o?o:a[p];u="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(n)),u+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+l*f[1])),u+="L ".concat(t+r,",").concat(n+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+r-c*f[2],",").concat(n+s)),u+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var h=Math.min(o,a);u="M ".concat(t,",").concat(n+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+c*h,",").concat(n,`
            L `).concat(t+r-c*h,",").concat(n,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+r,",").concat(n+l*h,`
            L `).concat(t+r,",").concat(n+s-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t+r-c*h,",").concat(n+s,`
            L `).concat(t+c*h,",").concat(n+s,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*h," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},xfe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return r>=d&&r<=u&&s>=f&&s<=p}return!1},vfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fS=function(t){var n=K_(K_({},vfe),t),r=j.useRef(),s=j.useState(-1),a=lfe(s,2),o=a[0],l=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,f=n.height,p=n.radius,x=n.className,h=n.animationEasing,m=n.animationDuration,y=n.animationBegin,g=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var v=dt("recharts-rectangle",x);return b?F.createElement(ta,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:m,animationEasing:h,isActive:b},function(N){var w=N.width,C=N.height,E=N.x,S=N.y;return F.createElement(ta,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:g,easing:h},F.createElement("path",Cx({},nt(n,!0),{className:v,d:Y_(E,S,w,C,p),ref:r})))}):F.createElement("path",Cx({},nt(n,!0),{className:v,d:Y_(c,d,u,f,p)}))},gfe=["points","className","baseLinePoints","connectNulls"];function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}function yfe(e,t){if(e==null)return{};var n=bfe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bfe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q_(e){return Sfe(e)||Nfe(e)||wfe(e)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(e,t){if(e){if(typeof e=="string")return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}function Nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sfe(e){if(Array.isArray(e))return ew(e)}function ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X_=function(t){return t&&t.x===+t.x&&t.y===+t.y},Cfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){X_(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X_(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Wu=function(t,n){var r=Cfe(t);n&&(r=[r.reduce(function(a,o){return[].concat(Q_(a),Q_(o))},[])]);var s=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},Efe=function(t,n,r){var s=Wu(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Wu(n.reverse(),r).slice(1))},kfe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,a=t.connectNulls,o=yfe(t,gfe);if(!n||!n.length)return null;var l=dt("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=Efe(n,s,a);return F.createElement("g",{className:l},F.createElement("path",nc({},nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?F.createElement("path",nc({},nt(o,!0),{fill:"none",d:Wu(n,a)})):null,c?F.createElement("path",nc({},nt(o,!0),{fill:"none",d:Wu(s,a)})):null)}var u=Wu(n,a);return F.createElement("path",nc({},nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(this,arguments)}var pS=function(t){var n=t.cx,r=t.cy,s=t.r,a=t.className,o=dt("recharts-dot",a);return n===+n&&r===+r&&s===+s?F.createElement("circle",tw({},nt(t,!1),Hh(t),{className:o,cx:n,cy:r,r:s})):null};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}var Afe=["x","y","top","left","width","height","className"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(this,arguments)}function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(n),!0).forEach(function(r){Pfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pfe(e,t,n){return t=Tfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tfe(e){var t=Ofe(e,"string");return Vf(t)=="symbol"?t:t+""}function Ofe(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rfe(e,t){if(e==null)return{};var n=Ife(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ife(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Mfe=function(t,n,r,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},$fe=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,p=t.height,x=p===void 0?0:p,h=t.className,m=Rfe(t,Afe),y=_fe({x:r,y:a,top:l,left:d,width:f,height:x},m);return!ye(r)||!ye(a)||!ye(f)||!ye(x)||!ye(l)||!ye(d)?null:F.createElement("path",nw({},nt(y,!0),{className:dt("recharts-cross",h),d:Mfe(r,a,f,x,l,d)}))},Dfe=Ng,Ffe=Y$,Lfe=vs;function qfe(e,t){return e&&e.length?Dfe(e,Lfe(t),Ffe):void 0}var zfe=qfe;const Bfe=kt(zfe);var Ufe=Ng,Vfe=vs,Wfe=Q$;function Hfe(e,t){return e&&e.length?Ufe(e,Vfe(t),Wfe):void 0}var Gfe=Hfe;const Kfe=kt(Gfe);var Yfe=["cx","cy","angle","ticks","axisLine"],Qfe=["ticks","tick","angle","tickFormatter","stroke"];function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}function J_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(n),!0).forEach(function(r){Pg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e2(e,t){if(e==null)return{};var n=Xfe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xfe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LD(r.key),r)}}function Jfe(e,t,n){return t&&t2(e.prototype,t),n&&t2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function epe(e,t,n){return t=Ex(t),tpe(e,FD()?Reflect.construct(t,n||[],Ex(e).constructor):t.apply(e,n))}function tpe(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return npe(e)}function npe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(e)}function rpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rw(e,t)}function rw(e,t){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rw(e,t)}function Pg(e,t,n){return t=LD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e){var t=ipe(e,"string");return sd(t)=="symbol"?t:t+""}function ipe(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tg=function(e){function t(){return Zfe(this,t),epe(this,t,arguments)}return rpe(t,e),Jfe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ut(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=Bfe(l,function(u){return u.coordinate||0}),d=Kfe(l,function(u){return u.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=e2(r,Yfe),u=l.reduce(function(h,m){return[Math.min(h[0],m.coordinate),Math.max(h[1],m.coordinate)]},[1/0,-1/0]),f=Ut(s,a,u[0],o),p=Ut(s,a,u[1],o),x=go(go(go({},nt(d,!1)),{},{fill:"none"},nt(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return F.createElement("line",Hu({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=e2(s,Qfe),f=this.getTickTextAnchor(),p=nt(u,!1),x=nt(o,!1),h=a.map(function(m,y){var g=r.getTickValueCoord(m),b=go(go(go(go({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},p),{},{stroke:"none",fill:d},x),{},{index:y},g),{},{payload:m});return F.createElement(Pt,Hu({className:dt("recharts-polar-radius-axis-tick",SD(o)),key:"tick-".concat(m.coordinate)},cl(r.props,m,y)),t.renderTickItem(o,b,c?c(m.value,y):m.value))});return F.createElement(Pt,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.axisLine,o=r.tick;return!s||!s.length?null:F.createElement(Pt,{className:dt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return F.isValidElement(r)?o=F.cloneElement(r,s):it(r)?o=r(s):o=F.createElement(dl,Hu({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);Pg(Tg,"displayName","PolarRadiusAxis");Pg(Tg,"axisType","radiusAxis");Pg(Tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){Og(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function spe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zD(r.key),r)}}function ape(e,t,n){return t&&r2(e.prototype,t),n&&r2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ope(e,t,n){return t=kx(t),lpe(e,qD()?Reflect.construct(t,n||[],kx(e).constructor):t.apply(e,n))}function lpe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cpe(e)}function cpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(e)}function dpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},iw(e,t)}function Og(e,t,n){return t=zD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zD(e){var t=upe(e,"string");return ad(t)=="symbol"?t:t+""}function upe(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fpe=Math.PI/180,i2=1e-5,Rg=function(e){function t(){return spe(this,t),ope(this,t,arguments)}return dpe(t,e),ape(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=Ut(a,o,l,r.coordinate),p=Ut(a,o,l+(c==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,a=Math.cos(-r.coordinate*fpe),o;return a>i2?o=s==="outer"?"start":"end":a<-i2?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=yo(yo({},nt(this.props,!1)),{},{fill:"none"},nt(l,!1));if(c==="circle")return F.createElement(pS,_o({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:a,r:o}));var u=this.props.ticks,f=u.map(function(p){return Ut(s,a,o,p.coordinate)});return F.createElement(kfe,_o({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=nt(this.props,!1),f=nt(o,!1),p=yo(yo({},u),{},{fill:"none"},nt(l,!1)),x=a.map(function(h,m){var y=r.getTickLineCoord(h),g=r.getTickTextAnchor(h),b=yo(yo(yo({textAnchor:g},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:h,x:y.x2,y:y.y2});return F.createElement(Pt,_o({className:dt("recharts-polar-angle-axis-tick",SD(o)),key:"tick-".concat(h.coordinate)},cl(r.props,h,m)),l&&F.createElement("line",_o({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,b,c?c(h.value,m):h.value))});return F.createElement(Pt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!s||!s.length?null:F.createElement(Pt,{className:dt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,a){var o;return F.isValidElement(r)?o=F.cloneElement(r,s):it(r)?o=r(s):o=F.createElement(dl,_o({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);Og(Rg,"displayName","PolarAngleAxis");Og(Rg,"axisType","angleAxis");Og(Rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ppe=W4,mpe=ppe(Object.getPrototypeOf,Object),hpe=mpe,xpe=ia,vpe=hpe,gpe=sa,ype="[object Object]",bpe=Function.prototype,jpe=Object.prototype,BD=bpe.toString,wpe=jpe.hasOwnProperty,Npe=BD.call(Object);function Spe(e){if(!gpe(e)||xpe(e)!=ype)return!1;var t=vpe(e);if(t===null)return!0;var n=wpe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&BD.call(n)==Npe}var Cpe=Spe;const Epe=kt(Cpe);var kpe=ia,Ape=sa,_pe="[object Boolean]";function Ppe(e){return e===!0||e===!1||Ape(e)&&kpe(e)==_pe}var Tpe=Ppe;const Ope=kt(Tpe);function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(this,arguments)}function Rpe(e,t){return Dpe(e)||$pe(e,t)||Mpe(e,t)||Ipe()}function Ipe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mpe(e,t){if(e){if(typeof e=="string")return s2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(e,t)}}function s2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $pe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Dpe(e){if(Array.isArray(e))return e}function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(r){Fpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fpe(e,t,n){return t=Lpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lpe(e){var t=qpe(e,"string");return Wf(t)=="symbol"?t:t+""}function qpe(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l2=function(t,n,r,s,a){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-s,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},zpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bpe=function(t){var n=o2(o2({},zpe),t),r=j.useRef(),s=j.useState(-1),a=Rpe(s,2),o=a[0],l=a[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&l(v)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,f=n.lowerWidth,p=n.height,x=n.className,h=n.animationEasing,m=n.animationDuration,y=n.animationBegin,g=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||p!==+p||u===0&&f===0||p===0)return null;var b=dt("recharts-trapezoid",x);return g?F.createElement(ta,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:p,x:c,y:d},duration:m,animationEasing:h,isActive:g},function(v){var N=v.upperWidth,w=v.lowerWidth,C=v.height,E=v.x,S=v.y;return F.createElement(ta,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:h},F.createElement("path",Ax({},nt(n,!0),{className:b,d:l2(E,S,N,w,C),ref:r})))}):F.createElement("g",null,F.createElement("path",Ax({},nt(n,!0),{className:b,d:l2(c,d,u,f,p)})))},Upe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function Vpe(e,t){if(e==null)return{};var n=Wpe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){Hpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hpe(e,t,n){return t=Gpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpe(e){var t=Kpe(e,"string");return Hf(t)=="symbol"?t:t+""}function Kpe(e,t){if(Hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ype(e,t){return _x(_x({},t),e)}function Qpe(e,t){return e==="symbols"}function d2(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return F.createElement(fS,n);case"trapezoid":return F.createElement(Bpe,n);case"sector":return F.createElement(kD,n);case"symbols":if(Qpe(t))return F.createElement(T1,n);break;default:return null}}function Xpe(e){return j.isValidElement(e)?e.props:e}function UD(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?Ype:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Vpe(e,Upe),d;if(j.isValidElement(t))d=j.cloneElement(t,_x(_x({},c),Xpe(t)));else if(it(t))d=t(c);else if(Epe(t)&&!Ope(t)){var u=s(t,c);d=F.createElement(d2,{shapeType:n,elementProps:u})}else{var f=c;d=F.createElement(d2,{shapeType:n,elementProps:f})}return l?F.createElement(Pt,{className:o},d):d}function Ig(e,t){return t!=null&&"trapezoids"in e.props}function Mg(e,t){return t!=null&&"sectors"in e.props}function Gf(e,t){return t!=null&&"points"in e.props}function Zpe(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&a}function Jpe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function eme(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function tme(e,t){var n;return Ig(e,t)?n=Zpe:Mg(e,t)?n=Jpe:Gf(e,t)&&(n=eme),n}function nme(e,t){var n;return Ig(e,t)?n="trapezoids":Mg(e,t)?n="sectors":Gf(e,t)&&(n="points"),n}function rme(e,t){if(Ig(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Mg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Gf(e,t)?t.payload:{}}function ime(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=nme(n,t),a=rme(n,t),o=r.filter(function(c,d){var u=Eg(a,c),f=n.props[s].filter(function(h){var m=tme(n,t);return m(h,t)}),p=n.props[s].indexOf(f[f.length-1]),x=d===p;return u&&x}),l=r.indexOf(o[o.length-1]);return l}var dh;function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(this,arguments)}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){ri(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WD(r.key),r)}}function ame(e,t,n){return t&&f2(e.prototype,t),n&&f2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ome(e,t,n){return t=Px(t),lme(e,VD()?Reflect.construct(t,n||[],Px(e).constructor):t.apply(e,n))}function lme(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cme(e)}function cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VD=function(){return!!e})()}function Px(e){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Px(e)}function dme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sw(e,t)}function sw(e,t){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sw(e,t)}function ri(e,t,n){return t=WD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e){var t=ume(e,"string");return od(t)=="symbol"?t:t+""}function ume(e,t){if(od(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oa=function(e){function t(n){var r;return sme(this,t),r=ome(this,t,[n]),ri(r,"pieRef",null),ri(r,"sectorRefs",[]),ri(r,"id",Dp("recharts-pie-")),ri(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(s)&&s()}),ri(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return dme(t,e),ame(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=nt(this.props,!1),f=nt(o,!1),p=nt(l,!1),x=o&&o.offsetRadius||20,h=r.map(function(m,y){var g=(m.startAngle+m.endAngle)/2,b=Ut(m.cx,m.cy,m.outerRadius+x,g),v=qt(qt(qt(qt({},u),m),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,m.cx)},b),N=qt(qt(qt(qt({},u),m),{},{fill:"none",stroke:m.fill},p),{},{index:y,points:[Ut(m.cx,m.cy,m.outerRadius,g),b]}),w=c;return ht(c)&&ht(d)?w="value":ht(c)&&(w=d),F.createElement(Pt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,v,Yn(m,w)))});return F.createElement(Pt,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(r){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(u),p=c&&s.hasActiveIndex()?c:null,x=f?o:p,h=qt(qt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return F.createElement(Pt,rc({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},cl(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),F.createElement(UD,rc({option:x,isActive:f,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,p=f.prevSectors,x=f.prevIsAnimationActive;return F.createElement(ta,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var m=h.t,y=[],g=a&&a[0],b=g.startAngle;return a.forEach(function(v,N){var w=p&&p[N],C=N>0?Ur(v,"paddingAngle",0):0;if(w){var E=va(w.endAngle-w.startAngle,v.endAngle-v.startAngle),S=qt(qt({},v),{},{startAngle:b+C,endAngle:b+E(m)+C});y.push(S),b=S.endAngle}else{var k=v.endAngle,I=v.startAngle,P=va(0,k-I),A=P(m),_=qt(qt({},v),{},{startAngle:b+C,endAngle:b+A+C});y.push(_),b=_.endAngle}}),F.createElement(Pt,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!Eg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,p=s.outerRadius,x=s.isAnimationActive,h=this.state.isAnimationFinished;if(a||!o||!o.length||!ye(d)||!ye(u)||!ye(f)||!ye(p))return null;var m=dt("recharts-pie",l);return F.createElement(Pt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(g){r.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Tn.renderCallByParent(this.props,null,!1),(!x||h)&&Wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,a){if(F.isValidElement(r))return F.cloneElement(r,s);if(it(r))return r(s);var o=dt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return F.createElement(Vj,rc({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,a){if(F.isValidElement(r))return F.cloneElement(r,s);var o=a;if(it(r)&&(o=r(s),F.isValidElement(o)))return o;var l=dt("recharts-pie-label-text",typeof r!="boolean"&&!it(r)?r.className:"");return F.createElement(dl,rc({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);dh=oa;ri(oa,"displayName","Pie");ri(oa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ri(oa,"parseDeltaAngle",function(e,t){var n=or(t-e),r=Math.min(Math.abs(t-e),360);return n*r});ri(oa,"getRealPieData",function(e){var t=e.data,n=e.children,r=nt(e,!1),s=oi(n,xg);return t&&t.length?t.map(function(a,o){return qt(qt(qt({payload:a},r),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return qt(qt({},r),a.props)}):[]});ri(oa,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,a=t.height,o=ND(s,a),l=r+lr(e.cx,s,s/2),c=n+lr(e.cy,a,a/2),d=lr(e.innerRadius,o,0),u=lr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});ri(oa,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?qt(qt({},t.type.defaultProps),t.props):t.props,s=dh.getRealPieData(r);if(!s||!s.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,u=r.nameKey,f=r.valueKey,p=r.tooltipType,x=Math.abs(r.minAngle),h=dh.parseCoordinateOfPie(r,n),m=dh.parseDeltaAngle(o,l),y=Math.abs(m),g=d;ht(d)&&ht(f)?(Ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):ht(d)&&(Ti(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var b=s.filter(function(S){return Yn(S,g,0)!==0}).length,v=(y>=360?b:b-1)*c,N=y-b*x-v,w=s.reduce(function(S,k){var I=Yn(k,g,0);return S+(ye(I)?I:0)},0),C;if(w>0){var E;C=s.map(function(S,k){var I=Yn(S,g,0),P=Yn(S,u,k),A=(ye(I)?I:0)/w,_;k?_=E.endAngle+or(m)*c*(I!==0?1:0):_=o;var O=_+or(m)*((I!==0?x:0)+A*N),D=(_+O)/2,M=(h.innerRadius+h.outerRadius)/2,V=[{name:P,value:I,payload:S,dataKey:g,type:p}],q=Ut(h.cx,h.cy,M,D);return E=qt(qt(qt({percent:A,cornerRadius:a,name:P,tooltipPayload:V,midAngle:D,middleRadius:M,tooltipPosition:q},S),h),{},{value:Yn(S,g),startAngle:_,endAngle:O,payload:S,paddingAngle:or(m)*c}),E})}return qt(qt({},h),{},{sectors:C,data:s})});var fme=Math.ceil,pme=Math.max;function mme(e,t,n,r){for(var s=-1,a=pme(fme((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++s]=e,e+=n;return o}var hme=mme,xme=d$,p2=1/0,vme=17976931348623157e292;function gme(e){if(!e)return e===0?e:0;if(e=xme(e),e===p2||e===-p2){var t=e<0?-1:1;return t*vme}return e===e?e:0}var HD=gme,yme=hme,bme=hg,d0=HD;function jme(e){return function(t,n,r){return r&&typeof r!="number"&&bme(t,n,r)&&(n=r=void 0),t=d0(t),n===void 0?(n=t,t=0):n=d0(n),r=r===void 0?t<n?1:-1:d0(r),yme(t,n,r,e)}}var wme=jme,Nme=wme,Sme=Nme(),Cme=Sme;const Tx=kt(Cme);function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function h2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(r){GD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GD(e,t,n){return t=Eme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eme(e){var t=kme(e,"string");return Kf(t)=="symbol"?t:t+""}function kme(e,t){if(Kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ame=["Webkit","Moz","O","ms"],_me=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=Ame.reduce(function(a,o){return h2(h2({},a),{},GD({},o+r,n))},{});return s[t]=n,s};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function u0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(r){Pr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YD(r.key),r)}}function Tme(e,t,n){return t&&v2(e.prototype,t),n&&v2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ome(e,t,n){return t=Rx(t),Rme(e,KD()?Reflect.construct(t,n||[],Rx(e).constructor):t.apply(e,n))}function Rme(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(e)}function Ime(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KD=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(e)}function Mme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aw(e,t)}function aw(e,t){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aw(e,t)}function Pr(e,t,n){return t=YD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YD(e){var t=$me(e,"string");return ld(t)=="symbol"?t:t+""}function $me(e,t){if(ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dme=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=Bu().domain(Tx(0,c)).range([a,a+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(s),scale:d,scaleValues:u}},g2=function(t){return t.changedTouches&&!!t.changedTouches.length},cd=function(e){function t(n){var r;return Pme(this,t),r=Ome(this,t,[n]),Pr(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Pr(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Pr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Pr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pr(r,"handleSlideDragStart",function(s){var a=g2(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Mme(t,e),Tme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,a),p=Math.max(s,a),x=t.getIndexInRange(o,f),h=t.getIndexInRange(o,p);return{startIndex:x-x%c,endIndex:h===u?u:h-h%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=Yn(a[r],l,r);return it(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,p=c.startIndex,x=c.endIndex,h=c.onChange,m=r.pageX-a;m>0?m=Math.min(m,d+u-f-l,d+u-f-o):m<0&&(m=Math.max(m,d-o,d-l));var y=this.getIndex({startX:o+m,endX:l+m});(y.startIndex!==p||y.endIndex!==x)&&h&&h(y),this.setState({startX:o+m,endX:l+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var a=g2(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,p=u.width,x=u.travellerWidth,h=u.onChange,m=u.gap,y=u.data,g={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+p-x-d):b<0&&(b=Math.max(b,f-d)),g[o]=d+b;var v=this.getIndex(g),N=v.startIndex,w=v.endIndex,C=function(){var S=y.length-1;return o==="startX"&&(l>c?N%m===0:w%m===0)||l<c&&w===S||o==="endX"&&(l>c?w%m===0:N%m===0)||l>c&&w===S};this.setState(Pr(Pr({},o,d+b),"brushMoveStartX",r.pageX),function(){h&&C()&&h(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var p=f+r;if(!(p===-1||p>=l.length)){var x=l[p];s==="startX"&&x>=d||s==="endX"&&x<=c||this.setState(Pr({},s,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return F.createElement("rect",{stroke:d,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.data,d=r.children,u=r.padding,f=j.Children.only(d);return f?F.cloneElement(f,{x:s,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,p=c.traveller,x=c.ariaLabel,h=c.data,m=c.startIndex,y=c.endIndex,g=Math.max(r,this.props.x),b=u0(u0({},nt(this.props,!1)),{},{x:g,y:d,width:u,height:f}),v=x||"Min value: ".concat((a=h[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=h[y])===null||o===void 0?void 0:o.name);return F.createElement(Pt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(r,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(r,s)+d,f=Math.max(Math.abs(s-r)-d,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,f=u.startX,p=u.endX,x=5,h={pointerEvents:"none",fill:d};return F.createElement(Pt,{className:"recharts-brush-texts"},F.createElement(dl,Ox({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-x,y:o+l/2},h),this.getTextOfTick(s)),F.createElement(dl,Ox({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+x,y:o+l/2},h),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,s=r.data,a=r.className,o=r.children,l=r.x,c=r.y,d=r.width,u=r.height,f=r.alwaysShowText,p=this.state,x=p.startX,h=p.endX,m=p.isTextActive,y=p.isSlideMoving,g=p.isTravellerMoving,b=p.isTravellerFocused;if(!s||!s.length||!ye(l)||!ye(c)||!ye(d)||!ye(u)||d<=0||u<=0)return null;var v=dt("recharts-brush",a),N=F.Children.count(o)===1,w=_me("userSelect","none");return F.createElement(Pt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,h),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(h,"endX"),(m||y||g||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(a+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var a;return F.isValidElement(r)?a=F.cloneElement(r,s):it(r)?a=r(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(r,s){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,f=r.endIndex;if(a!==s.prevData||d!==s.prevUpdateId)return u0({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?Dme({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,s){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(j.PureComponent);Pr(cd,"displayName","Brush");Pr(cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fme=F1;function Lme(e,t){var n;return Fme(e,function(r,s,a){return n=t(r,s,a),!n}),!!n}var qme=Lme,zme=D4,Bme=vs,Ume=qme,Vme=_r,Wme=hg;function Hme(e,t,n){var r=Vme(e)?zme:Ume;return n&&Wme(e,t,n)&&(t=void 0),r(e,Bme(t))}var Gme=Hme;const Kme=kt(Gme);var os=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},y2=s$;function Yme(e,t,n){t=="__proto__"&&y2?y2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Qme=Yme,Xme=Qme,Zme=r$,Jme=vs;function ehe(e,t){var n={};return t=Jme(t),Zme(e,function(r,s,a){Xme(n,s,t(r,s,a))}),n}var the=ehe;const nhe=kt(the);function rhe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var ihe=rhe,she=F1;function ahe(e,t){var n=!0;return she(e,function(r,s,a){return n=!!t(r,s,a),n}),n}var ohe=ahe,lhe=ihe,che=ohe,dhe=vs,uhe=_r,fhe=hg;function phe(e,t,n){var r=uhe(e)?lhe:che;return n&&fhe(e,t,n)&&(t=void 0),r(e,dhe(t))}var mhe=phe;const QD=kt(mhe);var hhe=["x","y"];function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(this,arguments)}function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(r){xhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xhe(e,t,n){return t=vhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vhe(e){var t=ghe(e,"string");return Yf(t)=="symbol"?t:t+""}function ghe(e,t){if(Yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yhe(e,t){if(e==null)return{};var n=bhe(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bhe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jhe(e,t){var n=e.x,r=e.y,s=yhe(e,hhe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),p=parseInt(f,10);return xu(xu(xu(xu(xu({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function j2(e){return F.createElement(UD,ow({shapeType:"rectangle",propTransformer:jhe,activeClassName:"recharts-active-bar"},e))}var whe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,s):(a||fl(),n)}},Nhe=["value","background"],XD;function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function She(e,t){if(e==null)return{};var n=Che(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Che(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ix.apply(this,arguments)}function w2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(n),!0).forEach(function(r){Ma(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ehe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JD(r.key),r)}}function khe(e,t,n){return t&&N2(e.prototype,t),n&&N2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ahe(e,t,n){return t=Mx(t),_he(e,ZD()?Reflect.construct(t,n||[],Mx(e).constructor):t.apply(e,n))}function _he(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Phe(e)}function Phe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mx(e)}function The(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lw(e,t)}function lw(e,t){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lw(e,t)}function Ma(e,t,n){return t=JD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JD(e){var t=Ohe(e,"string");return dd(t)=="symbol"?t:t+""}function Ohe(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kl=function(e){function t(){var n;Ehe(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=Ahe(this,t,[].concat(s)),Ma(n,"state",{isAnimationFinished:!1}),Ma(n,"id",Dp("recharts-bar-")),Ma(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ma(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return The(t,e),khe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=nt(this.props,!1);return r&&r.map(function(f,p){var x=p===c,h=x?d:o,m=vn(vn(vn({},u),f),{},{isActive:x,option:h,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return F.createElement(Pt,Ix({className:"recharts-bar-rectangle"},cl(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),F.createElement(j2,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state.prevData;return F.createElement(ta,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var h=x.t,m=a.map(function(y,g){var b=p&&p[g];if(b){var v=va(b.x,y.x),N=va(b.y,y.y),w=va(b.width,y.width),C=va(b.height,y.height);return vn(vn({},y),{},{x:v(h),y:N(h),width:w(h),height:C(h)})}if(o==="horizontal"){var E=va(0,y.height),S=E(h);return vn(vn({},y),{},{y:y.y+y.height-S,height:S})}var k=va(0,y.width),I=k(h);return vn(vn({},y),{},{width:I})});return F.createElement(Pt,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!Eg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=nt(this.props.background,!1);return a.map(function(d,u){d.value;var f=d.background,p=She(d,Nhe);if(!f)return null;var x=vn(vn(vn(vn(vn({},p),{},{fill:"#eee"},f),c),cl(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return F.createElement(j2,Ix({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,f=oi(u,_g);if(!f)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,x=function(y,g){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Yn(y,g)}},h={clipPath:r?"url(#clipPath-".concat(s,")"):null};return F.createElement(Pt,h,f.map(function(m){return F.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,u=r.top,f=r.width,p=r.height,x=r.isAnimationActive,h=r.background,m=r.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,g=dt("recharts-bar",o),b=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,N=b||v,w=ht(m)?this.id:m;return F.createElement(Pt,{className:g},b||v?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(w)},F.createElement("rect",{x:b?d:d-f/2,y:v?u:u-p/2,width:b?f:f*2,height:v?p:p*2}))):null,F.createElement(Pt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!x||y)&&Wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(j.PureComponent);XD=kl;Ma(kl,"displayName","Bar");Ma(kl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ma(kl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,p=e.offset,x=fce(r,n);if(!x)return null;var h=t.layout,m=n.type.defaultProps,y=m!==void 0?vn(vn({},m),n.props):n.props,g=y.dataKey,b=y.children,v=y.minPointSize,N=h==="horizontal"?o:a,w=d?N.scale.domain():null,C=yce({numericAxis:N}),E=oi(b,xg),S=f.map(function(k,I){var P,A,_,O,D,M;d?P=pce(d[u+I],w):(P=Yn(k,g),Array.isArray(P)||(P=[C,P]));var V=whe(v,XD.defaultProps.minPointSize)(P[1],I);if(h==="horizontal"){var q,R=[o.scale(P[0]),o.scale(P[1])],B=R[0],Y=R[1];A=f_({axis:a,ticks:l,bandSize:s,offset:x.offset,entry:k,index:I}),_=(q=Y??B)!==null&&q!==void 0?q:void 0,O=x.size;var $=B-Y;if(D=Number.isNaN($)?0:$,M={x:A,y:o.y,width:O,height:o.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var re=or(D||V)*(Math.abs(V)-Math.abs(D));_-=re,D+=re}}else{var ee=[a.scale(P[0]),a.scale(P[1])],Q=ee[0],ie=ee[1];if(A=Q,_=f_({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:k,index:I}),O=ie-Q,D=x.size,M={x:a.x,y:_,width:a.width,height:D},Math.abs(V)>0&&Math.abs(O)<Math.abs(V)){var de=or(O||V)*(Math.abs(V)-Math.abs(O));O+=de}}return vn(vn(vn({},k),{},{x:A,y:_,width:O,height:D,value:d?P:P[1],payload:k,background:M},E&&E[I]&&E[I].props),{},{tooltipPayload:[jD(n,k)],tooltipPosition:{x:A+O/2,y:_+D/2}})});return vn({data:S,layout:h},p)});function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function Rhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eF(r.key),r)}}function Ihe(e,t,n){return t&&S2(e.prototype,t),n&&S2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(r){$g(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $g(e,t,n){return t=eF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e){var t=Mhe(e,"string");return Qf(t)=="symbol"?t:t+""}function Mhe(e,t){if(Qf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $he=function(t,n,r,s,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!Rr(d,kl);return u.reduce(function(x,h){var m=n[h],y=m.orientation,g=m.domain,b=m.padding,v=b===void 0?{}:b,N=m.mirror,w=m.reversed,C="".concat(y).concat(N?"Mirror":""),E,S,k,I,P;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=g[1]-g[0],_=1/0,O=m.categoricalDomain.sort();if(O.forEach(function(ee,Q){Q>0&&(_=Math.min((ee||0)-(O[Q-1]||0),_))}),Number.isFinite(_)){var D=_/A,M=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(E=D*M/2),m.padding==="no-gap"){var V=lr(t.barCategoryGap,D*M),q=D*M/2;E=q-V-(q-V)/M*V}}}s==="xAxis"?S=[r.left+(v.left||0)+(E||0),r.left+r.width-(v.right||0)-(E||0)]:s==="yAxis"?S=c==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(E||0),r.top+r.height-(v.bottom||0)-(E||0)]:S=m.range,w&&(S=[S[1],S[0]]);var R=vD(m,a,p),B=R.scale,Y=R.realScaleType;B.domain(g).range(S),gD(B);var $=yD(B,ji(ji({},m),{},{realScaleType:Y}));s==="xAxis"?(P=y==="top"&&!N||y==="bottom"&&N,k=r.left,I=f[C]-P*m.height):s==="yAxis"&&(P=y==="left"&&!N||y==="right"&&N,k=f[C]-P*m.width,I=r.top);var re=ji(ji(ji({},m),$),{},{realScaleType:Y,x:k,y:I,scale:B,width:s==="xAxis"?r.width:m.width,height:s==="yAxis"?r.height:m.height});return re.bandSize=yx(re,$),!m.hide&&s==="xAxis"?f[C]+=(P?-1:1)*re.height:m.hide||(f[C]+=(P?-1:1)*re.width),ji(ji({},x),{},$g({},h,re))},{})},tF=function(t,n){var r=t.x,s=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(s,o),width:Math.abs(a-r),height:Math.abs(o-s)}},Dhe=function(t){var n=t.x1,r=t.y1,s=t.x2,a=t.y2;return tF({x:n,y:r},{x:s,y:a})},nF=function(){function e(t){Rhe(this,e),this.scale=t}return Ihe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],a=r[r.length-1];return s<=a?n>=s&&n<=a:n>=a&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();$g(nF,"EPS",1e-4);var mS=function(t){var n=Object.keys(t).reduce(function(r,s){return ji(ji({},r),{},$g({},s,nF.create(t[s])))},{});return ji(ji({},n),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return nhe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return QD(s,function(a,o){return n[o].isInRange(a)})}})};function Fhe(e){return(e%180+180)%180}var Lhe=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Fhe(s),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},qhe=vs,zhe=Fp,Bhe=pg;function Uhe(e){return function(t,n,r){var s=Object(t);if(!zhe(t)){var a=qhe(n);t=Bhe(t),n=function(l){return a(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[a?t[o]:o]:void 0}}var Vhe=Uhe,Whe=HD;function Hhe(e){var t=Whe(e),n=t%1;return t===t?n?t-n:t:0}var Ghe=Hhe,Khe=X4,Yhe=vs,Qhe=Ghe,Xhe=Math.max;function Zhe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:Qhe(n);return s<0&&(s=Xhe(r+s,0)),Khe(e,Yhe(t),s)}var Jhe=Zhe,exe=Vhe,txe=Jhe,nxe=exe(txe),rxe=nxe;const ixe=kt(rxe);var sxe=eG(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hS=j.createContext(void 0),xS=j.createContext(void 0),rF=j.createContext(void 0),iF=j.createContext({}),sF=j.createContext(void 0),aF=j.createContext(0),oF=j.createContext(0),E2=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=sxe(a);return F.createElement(hS.Provider,{value:r},F.createElement(xS.Provider,{value:s},F.createElement(iF.Provider,{value:a},F.createElement(rF.Provider,{value:u},F.createElement(sF.Provider,{value:o},F.createElement(aF.Provider,{value:d},F.createElement(oF.Provider,{value:c},l)))))))},axe=function(){return j.useContext(sF)},lF=function(t){var n=j.useContext(hS);n==null&&fl();var r=n[t];return r==null&&fl(),r},oxe=function(){var t=j.useContext(hS);return ja(t)},lxe=function(){var t=j.useContext(xS),n=ixe(t,function(r){return QD(r.domain,Number.isFinite)});return n||ja(t)},cF=function(t){var n=j.useContext(xS);n==null&&fl();var r=n[t];return r==null&&fl(),r},cxe=function(){var t=j.useContext(rF);return t},dxe=function(){return j.useContext(iF)},vS=function(){return j.useContext(oF)},gS=function(){return j.useContext(aF)};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uF(r.key),r)}}function pxe(e,t,n){return t&&fxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mxe(e,t,n){return t=$x(t),hxe(e,dF()?Reflect.construct(t,n||[],$x(e).constructor):t.apply(e,n))}function hxe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(e)}function xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$x(e)}function vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cw(e,t)}function cw(e,t){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},cw(e,t)}function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function A2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(r){yS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yS(e,t,n){return t=uF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uF(e){var t=gxe(e,"string");return ud(t)=="symbol"?t:t+""}function gxe(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yxe(e,t){return Nxe(e)||wxe(e,t)||jxe(e,t)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(e,t){if(e){if(typeof e=="string")return _2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _2(e,t)}}function _2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Nxe(e){if(Array.isArray(e))return e}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(this,arguments)}var Sxe=function(t,n){var r;return F.isValidElement(t)?r=F.cloneElement(t,n):it(t)?r=t(n):r=F.createElement("line",dw({},n,{className:"recharts-reference-line-line"})),r},Cxe=function(t,n,r,s,a,o,l,c,d){var u=a.x,f=a.y,p=a.width,x=a.height;if(r){var h=d.y,m=t.y.apply(h,{position:o});if(os(d,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+p,y:m},{x:u,y:m}];return c==="left"?y.reverse():y}if(n){var g=d.x,b=t.x.apply(g,{position:o});if(os(d,"discard")&&!t.x.isInRange(b))return null;var v=[{x:b,y:f+x},{x:b,y:f}];return l==="top"?v.reverse():v}if(s){var N=d.segment,w=N.map(function(C){return t.apply(C,{position:o})});return os(d,"discard")&&Kme(w,function(C){return!t.isInRange(C)})?null:w}return null};function Exe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=axe(),u=lF(s),f=cF(a),p=cxe();if(!d||!p)return null;Ti(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=mS({x:u.scale,y:f.scale}),h=En(t),m=En(n),y=r&&r.length===2,g=Cxe(x,h,m,y,p,e.position,u.orientation,f.orientation,e);if(!g)return null;var b=yxe(g,2),v=b[0],N=v.x,w=v.y,C=b[1],E=C.x,S=C.y,k=os(e,"hidden")?"url(#".concat(d,")"):void 0,I=A2(A2({clipPath:k},nt(e,!0)),{},{x1:N,y1:w,x2:E,y2:S});return F.createElement(Pt,{className:dt("recharts-reference-line",l)},Sxe(o,I),Tn.renderCallByParent(e,Dhe({x1:N,y1:w,x2:E,y2:S})))}var bS=function(e){function t(){return uxe(this,t),mxe(this,t,arguments)}return vxe(t,e),pxe(t,[{key:"render",value:function(){return F.createElement(Exe,this.props)}}])}(F.Component);yS(bS,"displayName","ReferenceLine");yS(bS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(this,arguments)}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function T2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){Dg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Axe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pF(r.key),r)}}function _xe(e,t,n){return t&&Axe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pxe(e,t,n){return t=Dx(t),Txe(e,fF()?Reflect.construct(t,n||[],Dx(e).constructor):t.apply(e,n))}function Txe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(e)}function Oxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dx(e)}function Rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},fw(e,t)}function Dg(e,t,n){return t=pF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pF(e){var t=Ixe(e,"string");return fd(t)=="symbol"?t:t+""}function Ixe(e,t){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mxe=function(t){var n=t.x,r=t.y,s=t.xAxis,a=t.yAxis,o=mS({x:s.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return os(t,"discard")&&!o.isInRange(l)?null:l},Fg=function(e){function t(){return kxe(this,t),Pxe(this,t,arguments)}return Rxe(t,e),_xe(t,[{key:"render",value:function(){var r=this.props,s=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=En(s),u=En(a);if(Ti(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=Mxe(this.props);if(!f)return null;var p=f.x,x=f.y,h=this.props,m=h.shape,y=h.className,g=os(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=T2(T2({clipPath:g},nt(this.props,!0)),{},{cx:p,cy:x});return F.createElement(Pt,{className:dt("recharts-reference-dot",y)},t.renderDot(m,b),Tn.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])}(F.Component);Dg(Fg,"displayName","ReferenceDot");Dg(Fg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dg(Fg,"renderDot",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):it(e)?n=e(t):n=F.createElement(pS,uw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(this,arguments)}function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function O2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(n),!0).forEach(function(r){Lg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hF(r.key),r)}}function Fxe(e,t,n){return t&&Dxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lxe(e,t,n){return t=Fx(t),qxe(e,mF()?Reflect.construct(t,n||[],Fx(e).constructor):t.apply(e,n))}function qxe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zxe(e)}function zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function Bxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},mw(e,t)}function Lg(e,t,n){return t=hF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hF(e){var t=Uxe(e,"string");return pd(t)=="symbol"?t:t+""}function Uxe(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vxe=function(t,n,r,s,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var p=mS({x:u.scale,y:f.scale}),x={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},h={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return os(a,"discard")&&(!p.isInRange(x)||!p.isInRange(h))?null:tF(x,h)},qg=function(e){function t(){return $xe(this,t),Lxe(this,t,arguments)}return Bxe(t,e),Fxe(t,[{key:"render",value:function(){var r=this.props,s=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;Ti(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=En(s),p=En(a),x=En(o),h=En(l),m=this.props.shape;if(!f&&!p&&!x&&!h&&!m)return null;var y=Vxe(f,p,x,h,this.props);if(!y&&!m)return null;var g=os(this.props,"hidden")?"url(#".concat(u,")"):void 0;return F.createElement(Pt,{className:dt("recharts-reference-area",c)},t.renderRect(m,R2(R2({clipPath:g},nt(this.props,!0)),y)),Tn.renderCallByParent(this.props,y))}}])}(F.Component);Lg(qg,"displayName","ReferenceArea");Lg(qg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lg(qg,"renderRect",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):it(e)?n=e(t):n=F.createElement(fS,pw({},t,{className:"recharts-reference-area-rect"})),n});function xF(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function Wxe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Lhe(r,n)}function Hxe(e,t,n){var r=n==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?s:a,end:r?s+o:a+l}:{start:r?s+o:a+l,end:r?s:a}}function Lx(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-s)<=0}function Gxe(e,t){return xF(e,t+1)}function Kxe(e,t,n,r,s){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var h=r==null?void 0:r[c];if(h===void 0)return{v:xF(r,d)};var m=c,y,g=function(){return y===void 0&&(y=n(h,m)),y},b=h.coordinate,v=c===0||Lx(e,b,g,u,l);v||(c=0,u=o,d+=1),v&&(u=b+e*(g()/2+s),c+=d)},p;d<=a.length;)if(p=f(),p)return p.v;return[]}function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){Yxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yxe(e,t,n){return t=Qxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qxe(e){var t=Xxe(e,"string");return Xf(t)=="symbol"?t:t+""}function Xxe(e,t){if(Xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zxe(e,t,n,r,s){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(p){var x=a[p],h,m=function(){return h===void 0&&(h=n(x,p)),h};if(p===o-1){var y=e*(x.coordinate+e*m()/2-c);a[p]=x=Hn(Hn({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else a[p]=x=Hn(Hn({},x),{},{tickCoord:x.coordinate});var g=Lx(e,x.tickCoord,m,l,c);g&&(c=x.tickCoord-e*(m()/2+s),a[p]=Hn(Hn({},x),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function Jxe(e,t,n,r,s,a){var o=(r||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=r[l-1],f=n(u,l-1),p=e*(u.coordinate+e*f/2-d);o[l-1]=u=Hn(Hn({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var x=Lx(e,u.tickCoord,function(){return f},c,d);x&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Hn(Hn({},u),{},{isShow:!0}))}for(var h=a?l-1:l,m=function(b){var v=o[b],N,w=function(){return N===void 0&&(N=n(v,b)),N};if(b===0){var C=e*(v.coordinate-e*w()/2-c);o[b]=v=Hn(Hn({},v),{},{tickCoord:C<0?v.coordinate-C*e:v.coordinate})}else o[b]=v=Hn(Hn({},v),{},{tickCoord:v.coordinate});var E=Lx(e,v.tickCoord,w,c,d);E&&(c=v.tickCoord+e*(w()/2+s),o[b]=Hn(Hn({},v),{},{isShow:!0}))},y=0;y<h;y++)m(y);return o}function jS(e,t,n){var r=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!r)return[];if(ye(c)||qs.isSsr)return Gxe(s,typeof c=="number"&&ye(c)?c:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",h=u&&x==="width"?zu(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(v,N){var w=it(d)?d(v.value,N):v.value;return x==="width"?Wxe(zu(w,{fontSize:t,letterSpacing:n}),h,f):zu(w,{fontSize:t,letterSpacing:n})[x]},y=s.length>=2?or(s[1].coordinate-s[0].coordinate):1,g=Hxe(a,y,x);return c==="equidistantPreserveStart"?Kxe(y,g,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Jxe(y,g,m,s,o,c==="preserveStartEnd"):p=Zxe(y,g,m,s,o),p.filter(function(b){return b.isShow}))}var eve=["viewBox"],tve=["viewBox"],nve=["ticks"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(r){wS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f0(e,t){if(e==null)return{};var n=rve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ive(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gF(r.key),r)}}function sve(e,t,n){return t&&$2(e.prototype,t),n&&$2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ave(e,t,n){return t=qx(t),ove(e,vF()?Reflect.construct(t,n||[],qx(e).constructor):t.apply(e,n))}function ove(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lve(e)}function lve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function qx(e){return qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qx(e)}function cve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hw(e,t)}function wS(e,t,n){return t=gF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gF(e){var t=dve(e,"string");return md(t)=="symbol"?t:t+""}function dve(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=function(e){function t(n){var r;return ive(this,t),r=ave(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return cve(t,e),sve(t,[{key:"shouldComponentUpdate",value:function(r,s){var a=r.viewBox,o=f0(r,eve),l=this.props,c=l.viewBox,d=f0(l,tve);return!vc(a,c)||!vc(o,d)||!vc(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,p=s.tickMargin,x,h,m,y,g,b,v=f?-1:1,N=r.tickSize||u,w=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":x=h=r.coordinate,y=o+ +!f*c,m=y-v*N,b=m-v*p,g=w;break;case"left":m=y=r.coordinate,h=a+ +!f*l,x=h-v*N,g=x-v*p,b=w;break;case"right":m=y=r.coordinate,h=a+ +f*l,x=h+v*N,g=x+v*p,b=w;break;default:x=h=r.coordinate,y=o+ +f*c,m=y+v*N,b=m+v*p,g=w;break}return{line:{x1:x,y1:m,x2:h,y2:y},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,a=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,f=tr(tr(tr({},nt(this.props,!1)),nt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);f=tr(tr({},f),{},{x1:s,y1:a+p*l,x2:s+o,y2:a+p*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);f=tr(tr({},f),{},{x1:s+x*o,y1:a,x2:s+x*o,y2:a+l})}return F.createElement("line",ic({},f,{className:dt("recharts-cartesian-axis-line",Ur(u,"className"))}))}},{key:"renderTicks",value:function(r,s,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,p=l.unit,x=jS(tr(tr({},this.props),{},{ticks:r}),s,a),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=nt(this.props,!1),g=nt(u,!1),b=tr(tr({},y),{},{fill:"none"},nt(c,!1)),v=x.map(function(N,w){var C=o.getTickLineCoord(N),E=C.line,S=C.tick,k=tr(tr(tr(tr({textAnchor:h,verticalAnchor:m},y),{},{stroke:"none",fill:d},g),S),{},{index:w,payload:N,visibleTicksCount:x.length,tickFormatter:f});return F.createElement(Pt,ic({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},cl(o.props,N,w)),c&&F.createElement("line",ic({},b,E,{className:dt("recharts-cartesian-axis-tick-line",Ur(c,"className"))})),u&&t.renderTickItem(u,k,"".concat(it(f)?f(N.value,w):N.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,p=f.ticks,x=f0(f,nve),h=p;return it(c)&&(h=p&&p.length>0?c(this.props):c(x)),o<=0||l<=0||!h||!h.length?null:F.createElement(Pt,{className:dt("recharts-cartesian-axis",d),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,a){var o;return F.isValidElement(r)?o=F.cloneElement(r,s):it(r)?o=r(s):o=F.createElement(dl,ic({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);wS(Wd,"displayName","CartesianAxis");wS(Wd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uve=["x1","y1","x2","y2","key"],fve=["offset"];function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(r){pve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pve(e,t,n){return t=mve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e){var t=hve(e,"string");return pl(t)=="symbol"?t:t+""}function hve(e,t){if(pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function F2(e,t){if(e==null)return{};var n=xve(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var vve=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function yF(e,t){var n;if(F.isValidElement(e))n=F.cloneElement(e,t);else if(it(e))n=e(t);else{var r=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=F2(t,uve),d=nt(c,!1);d.offset;var u=F2(d,fve);n=F.createElement("line",Do({},u,{x1:r,y1:s,x2:a,y2:o,fill:"none",key:l}))}return n}function gve(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Kn(Kn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return yF(s,d)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yve(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var d=Kn(Kn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return yF(s,d)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bve(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,x){return p-x});s!==u[0]&&u.unshift(0);var f=u.map(function(p,x){var h=!u[x+1],m=h?s+o-p:u[x+1]-p;if(m<=0)return null;var y=x%t.length;return F.createElement("rect",{key:"react-".concat(x),y:p,x:r,height:m,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jve(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(p){return Math.round(p+a-a)}).sort(function(p,x){return p-x});a!==u[0]&&u.unshift(0);var f=u.map(function(p,x){var h=!u[x+1],m=h?a+l-p:u[x+1]-p;if(m<=0)return null;var y=x%r.length;return F.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:m,height:c,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wve=function(t,n){var r=t.xAxis,s=t.width,a=t.height,o=t.offset;return xD(jS(Kn(Kn(Kn({},Wd.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,n)},Nve=function(t,n){var r=t.yAxis,s=t.width,a=t.height,o=t.offset;return xD(jS(Kn(Kn(Kn({},Wd.defaultProps),r),{},{ticks:Ms(r,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,n)},Il={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function bF(e){var t,n,r,s,a,o,l=vS(),c=gS(),d=dxe(),u=Kn(Kn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Il.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Il.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Il.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Il.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Il.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Il.verticalFill,x:ye(e.x)?e.x:d.left,y:ye(e.y)?e.y:d.top,width:ye(e.width)?e.width:d.width,height:ye(e.height)?e.height:d.height}),f=u.x,p=u.y,x=u.width,h=u.height,m=u.syncWithTicks,y=u.horizontalValues,g=u.verticalValues,b=oxe(),v=lxe();if(!ye(x)||x<=0||!ye(h)||h<=0||!ye(f)||f!==+f||!ye(p)||p!==+p)return null;var N=u.verticalCoordinatesGenerator||wve,w=u.horizontalCoordinatesGenerator||Nve,C=u.horizontalPoints,E=u.verticalPoints;if((!C||!C.length)&&it(w)){var S=y&&y.length,k=w({yAxis:v?Kn(Kn({},v),{},{ticks:S?y:v.ticks}):void 0,width:l,height:c,offset:d},S?!0:m);Ti(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pl(k),"]")),Array.isArray(k)&&(C=k)}if((!E||!E.length)&&it(N)){var I=g&&g.length,P=N({xAxis:b?Kn(Kn({},b),{},{ticks:I?g:b.ticks}):void 0,width:l,height:c,offset:d},I?!0:m);Ti(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pl(P),"]")),Array.isArray(P)&&(E=P)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(vve,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),F.createElement(gve,Do({},u,{offset:d,horizontalPoints:C,xAxis:b,yAxis:v})),F.createElement(yve,Do({},u,{offset:d,verticalPoints:E,xAxis:b,yAxis:v})),F.createElement(bve,Do({},u,{horizontalPoints:C})),F.createElement(jve,Do({},u,{verticalPoints:E})))}bF.displayName="CartesianGrid";function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Sve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NF(r.key),r)}}function Eve(e,t,n){return t&&Cve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kve(e,t,n){return t=zx(t),Ave(e,jF()?Reflect.construct(t,n||[],zx(e).constructor):t.apply(e,n))}function Ave(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ve(e)}function _ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!e})()}function zx(e){return zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zx(e)}function Pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},xw(e,t)}function wF(e,t,n){return t=NF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NF(e){var t=Tve(e,"string");return hd(t)=="symbol"?t:t+""}function Tve(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(this,arguments)}function Ove(e){var t=e.xAxisId,n=vS(),r=gS(),s=lF(t);return s==null?null:F.createElement(Wd,vw({},s,{className:dt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ms(o,!0)}}))}var zg=function(e){function t(){return Sve(this,t),kve(this,t,arguments)}return Pve(t,e),Eve(t,[{key:"render",value:function(){return F.createElement(Ove,this.props)}}])}(F.Component);wF(zg,"displayName","XAxis");wF(zg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Rve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ive(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EF(r.key),r)}}function Mve(e,t,n){return t&&Ive(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ve(e,t,n){return t=Bx(t),Dve(e,SF()?Reflect.construct(t,n||[],Bx(e).constructor):t.apply(e,n))}function Dve(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fve(e)}function Fve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!e})()}function Bx(e){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(e)}function Lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gw(e,t)}function gw(e,t){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},gw(e,t)}function CF(e,t,n){return t=EF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EF(e){var t=qve(e,"string");return xd(t)=="symbol"?t:t+""}function qve(e,t){if(xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(this,arguments)}var zve=function(t){var n=t.yAxisId,r=vS(),s=gS(),a=cF(n);return a==null?null:F.createElement(Wd,yw({},a,{className:dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ms(l,!0)}}))},Bg=function(e){function t(){return Rve(this,t),$ve(this,t,arguments)}return Lve(t,e),Mve(t,[{key:"render",value:function(){return F.createElement(zve,this.props)}}])}(F.Component);CF(Bg,"displayName","YAxis");CF(Bg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function L2(e){return Wve(e)||Vve(e)||Uve(e)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uve(e,t){if(e){if(typeof e=="string")return bw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(e,t)}}function Vve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wve(e){if(Array.isArray(e))return bw(e)}function bw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jw=function(t,n,r,s,a){var o=oi(t,bS),l=oi(t,Fg),c=[].concat(L2(o),L2(l)),d=oi(t,qg),u="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(m,y){if(y.props[u]===r&&os(y.props,"extendDomain")&&ye(y.props[f])){var g=y.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},p)),d.length){var x="".concat(f,"1"),h="".concat(f,"2");p=d.reduce(function(m,y){if(y.props[u]===r&&os(y.props,"extendDomain")&&ye(y.props[x])&&ye(y.props[h])){var g=y.props[x],b=y.props[h];return[Math.min(m[0],g,b),Math.max(m[1],g,b)]}return m},p)}return a&&a.length&&(p=a.reduce(function(m,y){return ye(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},p)),p},kF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var x=new s(u,f||c,p),h=n?n+d:d;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],x]:c._events[h].push(x):(c._events[h]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,x=f.length,h=new Array(x);p<x;p++)h[p]=f[p].fn;return h},l.prototype.listenerCount=function(d){var u=n?n+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,x,h){var m=n?n+d:d;if(!this._events[m])return!1;var y=this._events[m],g=arguments.length,b,v;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,p),!0;case 5:return y.fn.call(y.context,u,f,p,x),!0;case 6:return y.fn.call(y.context,u,f,p,x,h),!0}for(v=1,b=new Array(g-1);v<g;v++)b[v-1]=arguments[v];y.fn.apply(y.context,b)}else{var N=y.length,w;for(v=0;v<N;v++)switch(y[v].once&&this.removeListener(d,y[v].fn,void 0,!0),g){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,u);break;case 3:y[v].fn.call(y[v].context,u,f);break;case 4:y[v].fn.call(y[v].context,u,f,p);break;default:if(!b)for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];y[v].fn.apply(y[v].context,b)}}return!0},l.prototype.on=function(d,u,f){return a(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return a(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var x=n?n+d:d;if(!this._events[x])return this;if(!u)return o(this,x),this;var h=this._events[x];if(h.fn)h.fn===u&&(!p||h.once)&&(!f||h.context===f)&&o(this,x);else{for(var m=0,y=[],g=h.length;m<g;m++)(h[m].fn!==u||p&&!h[m].once||f&&h[m].context!==f)&&y.push(h[m]);y.length?this._events[x]=y.length===1?y[0]:y:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(kF);var Hve=kF.exports;const Gve=kt(Hve);var p0=new Gve,m0="recharts.syncMouseEvents";function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function Kve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AF(r.key),r)}}function Qve(e,t,n){return t&&Yve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0(e,t,n){return t=AF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AF(e){var t=Xve(e,"string");return Zf(t)=="symbol"?t:t+""}function Xve(e,t){if(Zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zve=function(){function e(){Kve(this,e),h0(this,"activeIndex",0),h0(this,"coordinateList",[]),h0(this,"layout","horizontal")}return Qve(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,a=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,f=u===void 0?null:u,p=n.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function Jve(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&ye(r)&&ye(s))return!0}return!1}function ege(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function _F(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,a=e.endAngle,o=Ut(t,n,r,s),l=Ut(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:a}}function tge(e,t,n){var r,s,a,o;if(e==="horizontal")r=t.x,a=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,p=Ut(l,c,d,f),x=Ut(l,c,u,f);r=p.x,s=p.y,a=x.x,o=x.y}else return _F(t);return[{x:r,y:s},{x:a,y:o}]}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){nge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nge(e,t,n){return t=rge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rge(e){var t=ige(e,"string");return Jf(t)=="symbol"?t:t+""}function ige(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sge(e){var t,n,r=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,x=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!a||!o||p!=="ScatterChart"&&s!=="axis")return null;var h,m=Vj;if(p==="ScatterChart")h=o,m=$fe;else if(p==="BarChart")h=ege(f,o,c,u),m=fS;else if(f==="radial"){var y=_F(o),g=y.cx,b=y.cy,v=y.radius,N=y.startAngle,w=y.endAngle;h={cx:g,cy:b,startAngle:N,endAngle:w,innerRadius:v,outerRadius:v},m=kD}else h={points:tge(f,o,c)},m=Vj;var C=Rm(Rm(Rm(Rm({stroke:"#ccc",pointerEvents:"none"},c),h),nt(x,!1)),{},{payload:l,payloadIndex:d,className:dt("recharts-tooltip-cursor",x.className)});return j.isValidElement(x)?j.cloneElement(x,C):j.createElement(m,C)}var age=["item"],oge=["children","className","width","height","style","compact","title","desc"];function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}function z2(e,t){return dge(e)||cge(e,t)||TF(e,t)||lge()}function lge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,a,o,l=[],c=!0,d=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function dge(e){if(Array.isArray(e))return e}function B2(e,t){if(e==null)return{};var n=uge(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OF(r.key),r)}}function mge(e,t,n){return t&&pge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hge(e,t,n){return t=Ux(t),xge(e,PF()?Reflect.construct(t,n||[],Ux(e).constructor):t.apply(e,n))}function xge(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vge(e)}function vge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!e})()}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(e)}function gge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ww(e,t)}function ww(e,t){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ww(e,t)}function gd(e){return jge(e)||bge(e)||TF(e)||yge()}function yge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TF(e,t){if(e){if(typeof e=="string")return Nw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(e,t)}}function bge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jge(e){if(Array.isArray(e))return Nw(e)}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(r){Je(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Je(e,t,n){return t=OF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e){var t=wge(e,"string");return vd(t)=="symbol"?t:t+""}function wge(e,t){if(vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nge={xAxis:["bottom","top"],yAxis:["left","right"]},Sge={width:"100%",height:"100%"},RF={x:0,y:0};function Im(e){return e}var Cge=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Ege=function(t,n,r,s){var a=n.find(function(u){return u&&u.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return oe(oe(oe({},s),Ut(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=s.angle;return oe(oe(oe({},s),Ut(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return RF},Ug=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(gd(l),gd(d)):l},[]);return o.length>0?o:t&&t.length&&ye(s)&&ye(a)?t.slice(s,a+1):[]};function IF(e){return e==="number"?[0,"auto"]:void 0}var Sw=function(t,n,r,s){var a=t.graphicalItems,o=t.tooltipAxis,l=Ug(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;p=Zb(x,o.dataKey,s)}else p=f&&f[r]||l[r];return p?[].concat(gd(c),[jD(d,p)]):c},[])},V2=function(t,n,r,s){var a=s||{x:t.chartX,y:t.chartY},o=Cge(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=ace(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,p=Sw(t,n,u,f),x=Ege(r,l,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:p,activeCoordinate:x}}return null},kge=function(t,n){var r=n.axes,s=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=t.stackOffset,x=hD(u,a);return r.reduce(function(h,m){var y,g=m.type.defaultProps!==void 0?oe(oe({},m.type.defaultProps),m.props):m.props,b=g.type,v=g.dataKey,N=g.allowDataOverflow,w=g.allowDuplicatedCategory,C=g.scale,E=g.ticks,S=g.includeHidden,k=g[o];if(h[k])return h;var I=Ug(t.data,{graphicalItems:s.filter(function($){var re,ee=o in $.props?$.props[o]:(re=$.type.defaultProps)===null||re===void 0?void 0:re[o];return ee===k}),dataStartIndex:c,dataEndIndex:d}),P=I.length,A,_,O;Jve(g.domain,N,b)&&(A=Lj(g.domain,null,N),x&&(b==="number"||C!=="auto")&&(O=Uu(I,v,"category")));var D=IF(b);if(!A||A.length===0){var M,V=(M=g.domain)!==null&&M!==void 0?M:D;if(v){if(A=Uu(I,v,b),b==="category"&&x){var q=XG(A);w&&q?(_=A,A=Tx(0,P)):w||(A=h_(V,A,m).reduce(function($,re){return $.indexOf(re)>=0?$:[].concat(gd($),[re])},[]))}else if(b==="category")w?A=A.filter(function($){return $!==""&&!ht($)}):A=h_(V,A,m).reduce(function($,re){return $.indexOf(re)>=0||re===""||ht(re)?$:[].concat(gd($),[re])},[]);else if(b==="number"){var R=uce(I,s.filter(function($){var re,ee,Q=o in $.props?$.props[o]:(re=$.type.defaultProps)===null||re===void 0?void 0:re[o],ie="hide"in $.props?$.props.hide:(ee=$.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return Q===k&&(S||!ie)}),v,a,u);R&&(A=R)}x&&(b==="number"||C!=="auto")&&(O=Uu(I,v,"category"))}else x?A=Tx(0,P):l&&l[k]&&l[k].hasStack&&b==="number"?A=p==="expand"?[0,1]:bD(l[k].stackGroups,c,d):A=mD(I,s.filter(function($){var re=o in $.props?$.props[o]:$.type.defaultProps[o],ee="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return re===k&&(S||!ee)}),b,u,!0);if(b==="number")A=jw(f,A,k,a,E),V&&(A=Lj(V,A,N));else if(b==="category"&&V){var B=V,Y=A.every(function($){return B.indexOf($)>=0});Y&&(A=B)}}return oe(oe({},h),{},Je({},k,oe(oe({},g),{},{axisType:a,domain:A,categoricalDomain:O,duplicateDomain:_,originalDomain:(y=g.domain)!==null&&y!==void 0?y:D,isCategorical:x,layout:u})))},{})},Age=function(t,n){var r=n.graphicalItems,s=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,f=t.children,p=Ug(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),x=p.length,h=hD(u,a),m=-1;return r.reduce(function(y,g){var b=g.type.defaultProps!==void 0?oe(oe({},g.type.defaultProps),g.props):g.props,v=b[o],N=IF("number");if(!y[v]){m++;var w;return h?w=Tx(0,x):l&&l[v]&&l[v].hasStack?(w=bD(l[v].stackGroups,c,d),w=jw(f,w,v,a)):(w=Lj(N,mD(p,r.filter(function(C){var E,S,k=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return k===v&&!I}),"number",u),s.defaultProps.allowDataOverflow),w=jw(f,w,v,a)),oe(oe({},y),{},Je({},v,oe(oe({axisType:a},s.defaultProps),{},{hide:!0,orientation:Ur(Nge,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:N,isCategorical:h,layout:u})))}return y},{})},_ge=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,f="".concat(s,"Id"),p=oi(u,a),x={};return p&&p.length?x=kge(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=Age(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},Pge=function(t){var n=ja(t),r=Ms(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:L1(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yx(n,r)}},W2=function(t){var n=t.children,r=t.defaultShowTooltip,s=Rr(n,cd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Tge=function(t){return!t||!t.length?!1:t.some(function(n){var r=Ls(n&&n.type);return r&&r.indexOf("Bar")>=0})},H2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Oge=function(t,n){var r=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=r.width,u=r.height,f=r.children,p=r.margin||{},x=Rr(f,cd),h=Rr(f,gc),m=Object.keys(c).reduce(function(w,C){var E=c[C],S=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Je({},S,w[S]+E.width)):w},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(w,C){var E=o[C],S=E.orientation;return!E.mirror&&!E.hide?oe(oe({},w),{},Je({},S,Ur(w,"".concat(S))+E.height)):w},{top:p.top||0,bottom:p.bottom||0}),g=oe(oe({},y),m),b=g.bottom;x&&(g.bottom+=x.props.height||cd.defaultProps.height),h&&n&&(g=cce(g,s,r,n));var v=d-g.left-g.right,N=u-g.top-g.bottom;return oe(oe({brushBottom:b},g),{},{width:Math.max(v,0),height:Math.max(N,0)})},Rge=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},MF=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,p=function(g,b){var v=b.graphicalItems,N=b.stackGroups,w=b.offset,C=b.updateId,E=b.dataStartIndex,S=b.dataEndIndex,k=g.barSize,I=g.layout,P=g.barGap,A=g.barCategoryGap,_=g.maxBarSize,O=H2(I),D=O.numericAxisName,M=O.cateAxisName,V=Tge(v),q=[];return v.forEach(function(R,B){var Y=Ug(g.data,{graphicalItems:[R],dataStartIndex:E,dataEndIndex:S}),$=R.type.defaultProps!==void 0?oe(oe({},R.type.defaultProps),R.props):R.props,re=$.dataKey,ee=$.maxBarSize,Q=$["".concat(D,"Id")],ie=$["".concat(M,"Id")],de={},Ce=c.reduce(function(Bn,T){var U=b["".concat(T.axisType,"Map")],L=$["".concat(T.axisType,"Id")];U&&U[L]||T.axisType==="zAxis"||fl();var te=U[L];return oe(oe({},Bn),{},Je(Je({},T.axisType,te),"".concat(T.axisType,"Ticks"),Ms(te)))},de),le=Ce[M],xe=Ce["".concat(M,"Ticks")],pe=N&&N[Q]&&N[Q].hasStack&&bce(R,N[Q].stackGroups),z=Ls(R.type).indexOf("Bar")>=0,ue=yx(le,xe),fe=[],Te=V&&oce({barSize:k,stackGroups:N,totalSize:Rge(Ce,M)});if(z){var we,Ye,st=ht(ee)?_:ee,Nt=(we=(Ye=yx(le,xe,!0))!==null&&Ye!==void 0?Ye:st)!==null&&we!==void 0?we:0;fe=lce({barGap:P,barCategoryGap:A,bandSize:Nt!==ue?Nt:ue,sizeList:Te[ie],maxBarSize:st}),Nt!==ue&&(fe=fe.map(function(Bn){return oe(oe({},Bn),{},{position:oe(oe({},Bn.position),{},{offset:Bn.position.offset-Nt/2})})}))}var An=R&&R.type&&R.type.getComposedData;An&&q.push({props:oe(oe({},An(oe(oe({},Ce),{},{displayedData:Y,props:g,dataKey:re,item:R,bandSize:ue,barPosition:fe,offset:w,stackedData:pe,layout:I,dataStartIndex:E,dataEndIndex:S}))),{},Je(Je(Je({key:R.key||"item-".concat(B)},D,Ce[D]),M,Ce[M]),"animationId",C)),childIndex:lK(R,g.children),item:R})}),q},x=function(g,b){var v=g.props,N=g.dataStartIndex,w=g.dataEndIndex,C=g.updateId;if(!lk({props:v}))return null;var E=v.children,S=v.layout,k=v.stackOffset,I=v.data,P=v.reverseStackOrder,A=H2(S),_=A.numericAxisName,O=A.cateAxisName,D=oi(E,r),M=gce(I,D,"".concat(_,"Id"),"".concat(O,"Id"),k,P),V=c.reduce(function($,re){var ee="".concat(re.axisType,"Map");return oe(oe({},$),{},Je({},ee,_ge(v,oe(oe({},re),{},{graphicalItems:D,stackGroups:re.axisType===_&&M,dataStartIndex:N,dataEndIndex:w}))))},{}),q=Oge(oe(oe({},V),{},{props:v,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function($){V[$]=u(v,V[$],q,$.replace("Map",""),n)});var R=V["".concat(O,"Map")],B=Pge(R),Y=p(v,oe(oe({},V),{},{dataStartIndex:N,dataEndIndex:w,updateId:C,graphicalItems:D,stackGroups:M,offset:q}));return oe(oe({formattedGraphicalItems:Y,graphicalItems:D,offset:q,stackGroups:M},B),V)},h=function(y){function g(b){var v,N,w;return fge(this,g),w=hge(this,g,[b]),Je(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Je(w,"accessibilityManager",new Zve),Je(w,"handleLegendBBoxUpdate",function(C){if(C){var E=w.state,S=E.dataStartIndex,k=E.dataEndIndex,I=E.updateId;w.setState(oe({legendBBox:C},x({props:w.props,dataStartIndex:S,dataEndIndex:k,updateId:I},oe(oe({},w.state),{},{legendBBox:C}))))}}),Je(w,"handleReceiveSyncEvent",function(C,E,S){if(w.props.syncId===C){if(S===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(E)}}),Je(w,"handleBrushChange",function(C){var E=C.startIndex,S=C.endIndex;if(E!==w.state.dataStartIndex||S!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return oe({dataStartIndex:E,dataEndIndex:S},x({props:w.props,dataStartIndex:E,dataEndIndex:S,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),Je(w,"handleMouseEnter",function(C){var E=w.getMouseInfo(C);if(E){var S=oe(oe({},E),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var k=w.props.onMouseEnter;it(k)&&k(S,C)}}),Je(w,"triggeredAfterMouseMove",function(C){var E=w.getMouseInfo(C),S=E?oe(oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var k=w.props.onMouseMove;it(k)&&k(S,C)}),Je(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Je(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Je(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),Je(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};w.setState(E),w.triggerSyncEvent(E);var S=w.props.onMouseLeave;it(S)&&S(E,C)}),Je(w,"handleOuterEvent",function(C){var E=oK(C),S=Ur(w.props,"".concat(E));if(E&&it(S)){var k,I;/.*touch.*/i.test(E)?I=w.getMouseInfo(C.changedTouches[0]):I=w.getMouseInfo(C),S((k=I)!==null&&k!==void 0?k:{},C)}}),Je(w,"handleClick",function(C){var E=w.getMouseInfo(C);if(E){var S=oe(oe({},E),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var k=w.props.onClick;it(k)&&k(S,C)}}),Je(w,"handleMouseDown",function(C){var E=w.props.onMouseDown;if(it(E)){var S=w.getMouseInfo(C);E(S,C)}}),Je(w,"handleMouseUp",function(C){var E=w.props.onMouseUp;if(it(E)){var S=w.getMouseInfo(C);E(S,C)}}),Je(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Je(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Je(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Je(w,"handleDoubleClick",function(C){var E=w.props.onDoubleClick;if(it(E)){var S=w.getMouseInfo(C);E(S,C)}}),Je(w,"handleContextMenu",function(C){var E=w.props.onContextMenu;if(it(E)){var S=w.getMouseInfo(C);E(S,C)}}),Je(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&p0.emit(m0,w.props.syncId,C,w.eventEmitterSymbol)}),Je(w,"applySyncEvent",function(C){var E=w.props,S=E.layout,k=E.syncMethod,I=w.state.updateId,P=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(oe({dataStartIndex:P,dataEndIndex:A},x({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:I},w.state)));else if(C.activeTooltipIndex!==void 0){var _=C.chartX,O=C.chartY,D=C.activeTooltipIndex,M=w.state,V=M.offset,q=M.tooltipTicks;if(!V)return;if(typeof k=="function")D=k(q,C);else if(k==="value"){D=-1;for(var R=0;R<q.length;R++)if(q[R].value===C.activeLabel){D=R;break}}var B=oe(oe({},V),{},{x:V.left,y:V.top}),Y=Math.min(_,B.x+B.width),$=Math.min(O,B.y+B.height),re=q[D]&&q[D].value,ee=Sw(w.state,w.props.data,D),Q=q[D]?{x:S==="horizontal"?q[D].coordinate:Y,y:S==="horizontal"?$:q[D].coordinate}:RF;w.setState(oe(oe({},C),{},{activeLabel:re,activeCoordinate:Q,activePayload:ee,activeTooltipIndex:D}))}else w.setState(C)}),Je(w,"renderCursor",function(C){var E,S=w.state,k=S.isTooltipActive,I=S.activeCoordinate,P=S.activePayload,A=S.offset,_=S.activeTooltipIndex,O=S.tooltipAxisBandSize,D=w.getTooltipEventType(),M=(E=C.props.active)!==null&&E!==void 0?E:k,V=w.props.layout,q=C.key||"_recharts-cursor";return F.createElement(sge,{key:q,activeCoordinate:I,activePayload:P,activeTooltipIndex:_,chartName:n,element:C,isActive:M,layout:V,offset:A,tooltipAxisBandSize:O,tooltipEventType:D})}),Je(w,"renderPolarAxis",function(C,E,S){var k=Ur(C,"type.axisType"),I=Ur(w.state,"".concat(k,"Map")),P=C.type.defaultProps,A=P!==void 0?oe(oe({},P),C.props):C.props,_=I&&I[A["".concat(k,"Id")]];return j.cloneElement(C,oe(oe({},_),{},{className:dt(k,_.className),key:C.key||"".concat(E,"-").concat(S),ticks:Ms(_,!0)}))}),Je(w,"renderPolarGrid",function(C){var E=C.props,S=E.radialLines,k=E.polarAngles,I=E.polarRadius,P=w.state,A=P.radiusAxisMap,_=P.angleAxisMap,O=ja(A),D=ja(_),M=D.cx,V=D.cy,q=D.innerRadius,R=D.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(k)?k:Ms(D,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(I)?I:Ms(O,!0).map(function(B){return B.coordinate}),cx:M,cy:V,innerRadius:q,outerRadius:R,key:C.key||"polar-grid",radialLines:S})}),Je(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,E=w.props,S=E.children,k=E.width,I=E.height,P=w.props.margin||{},A=k-(P.left||0)-(P.right||0),_=fD({children:S,formattedGraphicalItems:C,legendWidth:A,legendContent:d});if(!_)return null;var O=_.item,D=B2(_,age);return j.cloneElement(O,oe(oe({},D),{},{chartWidth:k,chartHeight:I,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Je(w,"renderTooltip",function(){var C,E=w.props,S=E.children,k=E.accessibilityLayer,I=Rr(S,bi);if(!I)return null;var P=w.state,A=P.isTooltipActive,_=P.activeCoordinate,O=P.activePayload,D=P.activeLabel,M=P.offset,V=(C=I.props.active)!==null&&C!==void 0?C:A;return j.cloneElement(I,{viewBox:oe(oe({},M),{},{x:M.left,y:M.top}),active:V,label:D,payload:V?O:[],coordinate:_,accessibilityLayer:k})}),Je(w,"renderBrush",function(C){var E=w.props,S=E.margin,k=E.data,I=w.state,P=I.offset,A=I.dataStartIndex,_=I.dataEndIndex,O=I.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:_m(w.handleBrushChange,C.props.onChange),data:k,x:ye(C.props.x)?C.props.x:P.left,y:ye(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:ye(C.props.width)?C.props.width:P.width,startIndex:A,endIndex:_,updateId:"brush-".concat(O)})}),Je(w,"renderReferenceElement",function(C,E,S){if(!C)return null;var k=w,I=k.clipPathId,P=w.state,A=P.xAxisMap,_=P.yAxisMap,O=P.offset,D=C.type.defaultProps||{},M=C.props,V=M.xAxisId,q=V===void 0?D.xAxisId:V,R=M.yAxisId,B=R===void 0?D.yAxisId:R;return j.cloneElement(C,{key:C.key||"".concat(E,"-").concat(S),xAxis:A[q],yAxis:_[B],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:I})}),Je(w,"renderActivePoints",function(C){var E=C.item,S=C.activePoint,k=C.basePoint,I=C.childIndex,P=C.isRange,A=[],_=E.props.key,O=E.item.type.defaultProps!==void 0?oe(oe({},E.item.type.defaultProps),E.item.props):E.item.props,D=O.activeDot,M=O.dataKey,V=oe(oe({index:I,dataKey:M,cx:S.x,cy:S.y,r:4,fill:uS(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},nt(D,!1)),Hh(D));return A.push(g.renderActiveDot(D,V,"".concat(_,"-activePoint-").concat(I))),k?A.push(g.renderActiveDot(D,oe(oe({},V),{},{cx:k.x,cy:k.y}),"".concat(_,"-basePoint-").concat(I))):P&&A.push(null),A}),Je(w,"renderGraphicChild",function(C,E,S){var k=w.filterFormatItem(C,E,S);if(!k)return null;var I=w.getTooltipEventType(),P=w.state,A=P.isTooltipActive,_=P.tooltipAxis,O=P.activeTooltipIndex,D=P.activeLabel,M=w.props.children,V=Rr(M,bi),q=k.props,R=q.points,B=q.isRange,Y=q.baseLine,$=k.item.type.defaultProps!==void 0?oe(oe({},k.item.type.defaultProps),k.item.props):k.item.props,re=$.activeDot,ee=$.hide,Q=$.activeBar,ie=$.activeShape,de=!!(!ee&&A&&V&&(re||Q||ie)),Ce={};I!=="axis"&&V&&V.props.trigger==="click"?Ce={onClick:_m(w.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(Ce={onMouseLeave:_m(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:_m(w.handleItemMouseEnter,C.props.onMouseEnter)});var le=j.cloneElement(C,oe(oe({},k.props),Ce));function xe(T){return typeof _.dataKey=="function"?_.dataKey(T.payload):null}if(de)if(O>=0){var pe,z;if(_.dataKey&&!_.allowDuplicatedCategory){var ue=typeof _.dataKey=="function"?xe:"payload.".concat(_.dataKey.toString());pe=Zb(R,ue,D),z=B&&Y&&Zb(Y,ue,D)}else pe=R==null?void 0:R[O],z=B&&Y&&Y[O];if(ie||Q){var fe=C.props.activeIndex!==void 0?C.props.activeIndex:O;return[j.cloneElement(C,oe(oe(oe({},k.props),Ce),{},{activeIndex:fe})),null,null]}if(!ht(pe))return[le].concat(gd(w.renderActivePoints({item:k,activePoint:pe,basePoint:z,childIndex:O,isRange:B})))}else{var Te,we=(Te=w.getItemByXY(w.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:le},Ye=we.graphicalItem,st=Ye.item,Nt=st===void 0?C:st,An=Ye.childIndex,Bn=oe(oe(oe({},k.props),Ce),{},{activeIndex:An});return[j.cloneElement(Nt,Bn),null,null]}return B?[le,null,null]:[le,null]}),Je(w,"renderCustomized",function(C,E,S){return j.cloneElement(C,oe(oe({key:"recharts-customized-".concat(S)},w.props),w.state))}),Je(w,"renderMap",{CartesianGrid:{handler:Im,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Im},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Im},YAxis:{handler:Im},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((v=b.id)!==null&&v!==void 0?v:Dp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=u$(w.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return gge(g,y),mge(g,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,w=v.data,C=v.height,E=v.layout,S=Rr(N,bi);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,P=Sw(this.state,w,k,I),A=this.state.tooltipTicks[k].coordinate,_=(this.state.offset.top+C)/2,O=E==="horizontal",D=O?{x:A,y:_}:{y:A,x:_},M=this.state.formattedGraphicalItems.find(function(q){var R=q.item;return R.type.name==="Scatter"});M&&(D=oe(oe({},D),M.props.points[k].tooltipPosition),P=M.props.points[k].tooltipPayload);var V={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:I,activePayload:P,activeCoordinate:D};this.setState(V),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(v){ej([Rr(v.children,bi)],[Rr(this.props.children,bi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Rr(this.props.children,bi);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),C=Iie(w),E={chartX:Math.round(v.pageX-C.left),chartY:Math.round(v.pageY-C.top)},S=w.width/N.offsetWidth||1,k=this.inRange(E.chartX,E.chartY,S);if(!k)return null;var I=this.state,P=I.xAxisMap,A=I.yAxisMap,_=this.getTooltipEventType(),O=V2(this.state,this.props.data,this.props.layout,k);if(_!=="axis"&&P&&A){var D=ja(P).scale,M=ja(A).scale,V=D&&D.invert?D.invert(E.chartX):null,q=M&&M.invert?M.invert(E.chartY):null;return oe(oe({},E),{},{xValue:V,yValue:q},O)}return O?oe(oe({},E),O):null}},{key:"inRange",value:function(v,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=v/w,S=N/w;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,I=E>=k.left&&E<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return I?{x:E,y:S}:null}var P=this.state,A=P.angleAxisMap,_=P.radiusAxisMap;if(A&&_){var O=ja(A);return g_({x:E,y:S},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),w=Rr(v,bi),C={};w&&N==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Hh(this.props,this.handleOuterEvent);return oe(oe({},E),C)}},{key:"addListener",value:function(){p0.on(m0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){p0.removeListener(m0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,w){for(var C=this.state.formattedGraphicalItems,E=0,S=C.length;E<S;E++){var k=C[E];if(k.item===v||k.props.key===v.key||N===Ls(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,w=N.left,C=N.top,E=N.height,S=N.width;return F.createElement("defs",null,F.createElement("clipPath",{id:v},F.createElement("rect",{x:w,y:C,height:E,width:S})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,w){var C=z2(w,2),E=C[0],S=C[1];return oe(oe({},N),{},Je({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,w){var C=z2(w,2),E=C[0],S=C[1];return oe(oe({},N),{},Je({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,w=N.formattedGraphicalItems,C=N.activeItem;if(w&&w.length)for(var E=0,S=w.length;E<S;E++){var k=w[E],I=k.props,P=k.item,A=P.type.defaultProps!==void 0?oe(oe({},P.type.defaultProps),P.props):P.props,_=Ls(P.type);if(_==="Bar"){var O=(I.data||[]).find(function(q){return xfe(v,q)});if(O)return{graphicalItem:k,payload:O}}else if(_==="RadialBar"){var D=(I.data||[]).find(function(q){return g_(v,q)});if(D)return{graphicalItem:k,payload:D}}else if(Ig(k,C)||Mg(k,C)||Gf(k,C)){var M=ime({graphicalItem:k,activeTooltipItem:C,itemData:A.data}),V=A.activeIndex===void 0?M:A.activeIndex;return{graphicalItem:oe(oe({},k),{},{childIndex:V}),payload:Gf(k,C)?A.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var v=this;if(!lk(this))return null;var N=this.props,w=N.children,C=N.className,E=N.width,S=N.height,k=N.style,I=N.compact,P=N.title,A=N.desc,_=B2(N,oge),O=nt(_,!1);if(I)return F.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(nj,sc({},O,{width:E,height:S,title:P,desc:A}),this.renderClipPath(),dk(w,this.renderMap)));if(this.props.accessibilityLayer){var D,M;O.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,O.role=(M=this.props.role)!==null&&M!==void 0?M:"application",O.onKeyDown=function(q){v.accessibilityManager.keyboardEvent(q)},O.onFocus=function(){v.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return F.createElement(E2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",sc({className:dt("recharts-wrapper",C),style:oe({position:"relative",cursor:"default",width:E,height:S},k)},V,{ref:function(R){v.container=R}}),F.createElement(nj,sc({},O,{width:E,height:S,title:P,desc:A,style:Sge}),this.renderClipPath(),dk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Je(h,"displayName",n),Je(h,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Je(h,"getDerivedStateFromProps",function(y,g){var b=y.dataKey,v=y.data,N=y.children,w=y.width,C=y.height,E=y.layout,S=y.stackOffset,k=y.margin,I=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var A=W2(y);return oe(oe(oe({},A),{},{updateId:0},x(oe(oe({props:y},A),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:v,prevWidth:w,prevHeight:C,prevLayout:E,prevStackOffset:S,prevMargin:k,prevChildren:N})}if(b!==g.prevDataKey||v!==g.prevData||w!==g.prevWidth||C!==g.prevHeight||E!==g.prevLayout||S!==g.prevStackOffset||!vc(k,g.prevMargin)){var _=W2(y),O={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},D=oe(oe({},V2(g,v,E)),{},{updateId:g.updateId+1}),M=oe(oe(oe({},_),O),D);return oe(oe(oe({},M),x(oe({props:y},M),g)),{},{prevDataKey:b,prevData:v,prevWidth:w,prevHeight:C,prevLayout:E,prevStackOffset:S,prevMargin:k,prevChildren:N})}if(!ej(N,g.prevChildren)){var V,q,R,B,Y=Rr(N,cd),$=Y&&(V=(q=Y.props)===null||q===void 0?void 0:q.startIndex)!==null&&V!==void 0?V:I,re=Y&&(R=(B=Y.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:P,ee=$!==I||re!==P,Q=!ht(v),ie=Q&&!ee?g.updateId:g.updateId+1;return oe(oe({updateId:ie},x(oe(oe({props:y},g),{},{updateId:ie,dataStartIndex:$,dataEndIndex:re}),g)),{},{prevChildren:N,dataStartIndex:$,dataEndIndex:re})}return null}),Je(h,"renderActiveDot",function(y,g,b){var v;return j.isValidElement(y)?v=j.cloneElement(y,g):it(y)?v=y(g):v=F.createElement(pS,g),F.createElement(Pt,{className:"recharts-active-dot",key:b},v)});var m=j.forwardRef(function(g,b){return F.createElement(h,sc({},g,{ref:b}))});return m.displayName=h.displayName,m},Ige=MF({chartName:"BarChart",GraphicalChild:kl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zg},{axisType:"yAxis",AxisComp:Bg}],formatAxisMap:$he}),Mge=MF({chartName:"PieChart",GraphicalChild:oa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rg},{axisType:"radiusAxis",AxisComp:Tg}],formatAxisMap:Pce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function $ge(){const{data:e=[]}=Ae({queryKey:["/api/analyses"]}),{data:t}=Ae({queryKey:["/api/analytics"]}),r=e.filter(u=>u.status==="completed").slice(0,3),s=t!=null&&t.rootCauseDistribution?Object.entries(t.rootCauseDistribution).map(([u,f])=>({name:u,value:f})):[],a=t!=null&&t.confidenceDistribution?Object.entries(t.confidenceDistribution).map(([u,f])=>({name:u,value:f})):[],o=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"],l=u=>{switch(u){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},c=u=>u>=90?"confidence-high":u>=70?"confidence-medium":"confidence-low",d=u=>{const f=new Date,p=new Date(u),x=Math.floor((f.getTime()-p.getTime())/(1e3*60*60));if(x<1)return"Less than an hour ago";if(x===1)return"1 hour ago";if(x<24)return`${x} hours ago`;const h=Math.floor(x/24);return h===1?"1 day ago":`${h} days ago`};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(W,{children:i.jsxs(G,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues Analyzed"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.totalAnalyses)||0})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(mc,{className:"text-blue-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(ki,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+12%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),i.jsx(W,{children:i.jsxs(G,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Root Causes Identified"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.rootCausesIdentified)||0})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Mi,{className:"text-green-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(ki,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+8%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"resolution rate"})]})]})}),i.jsx(W,{children:i.jsxs(G,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Analysis Time"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.avgAnalysisTime)||"0m"})]}),i.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx(zn,{className:"text-yellow-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(ki,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"-15%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"faster than manual"})]})]})}),i.jsx(W,{children:i.jsxs(G,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx($i,{className:"text-purple-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(ki,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+3%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"accuracy improvement"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Root Cause Distribution"})}),i.jsx(G,{children:i.jsx(oA,{width:"100%",height:300,children:i.jsxs(Mge,{children:[i.jsx(oa,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:f})=>`${u} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((u,f)=>i.jsx(xg,{fill:o[f%o.length]},`cell-${f}`))}),i.jsx(bi,{})]})})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Analysis Confidence Levels"})}),i.jsx(G,{children:i.jsx(oA,{width:"100%",height:300,children:i.jsxs(Ige,{data:a,children:[i.jsx(bF,{strokeDasharray:"3 3"}),i.jsx(zg,{dataKey:"name"}),i.jsx(Bg,{}),i.jsx(bi,{}),i.jsx(kl,{dataKey:"value",fill:"hsl(217, 91%, 60%)"})]})})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{className:"flex flex-row items-center justify-between",children:[i.jsx(Z,{children:"Recent Root Cause Findings"}),i.jsx(K,{variant:"ghost",size:"sm",children:"View All"})]}),i.jsx(G,{className:"space-y-4",children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Hr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No completed analyses yet. Upload files to get started."})]}):r.map(u=>i.jsx("div",{className:"border border-border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:"font-medium text-foreground",children:u.issueDescription}),i.jsxs(ne,{className:l(u.priority),children:[u.priority.charAt(0).toUpperCase()+u.priority.slice(1)," Priority"]}),u.confidence&&i.jsxs(ne,{className:c(u.confidence),children:[u.confidence,"% Confidence"]})]}),u.rootCause&&i.jsxs("p",{className:"text-muted-foreground text-sm mb-3",children:["Root cause identified: ",u.rootCause]}),u.recommendations&&Array.isArray(u.recommendations)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Recommendations:"}),i.jsx("ul",{className:"text-sm text-muted-foreground ml-4 mt-1 space-y-1",children:u.recommendations.map((f,p)=>i.jsxs("li",{children:["• ",f]},p))})]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-muted-foreground",children:d(u.createdAt)}),u.equipmentType&&i.jsx(ne,{variant:"outline",className:"text-xs mt-1",children:u.equipmentType.charAt(0).toUpperCase()+u.equipmentType.slice(1).replace("_"," ")})]}),i.jsx(K,{variant:"ghost",size:"sm",children:"View Details"})]})]})},u.id))})]})]})}const ve=j.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ve.displayName="Input";function Cw(e,[t,n]){return Math.min(n,Math.max(t,e))}var x0=0;function $F(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??G2()),document.body.insertAdjacentElement("beforeend",e[1]??G2()),x0++,()=>{x0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),x0--}},[])}function G2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var v0="focusScope.autoFocusOnMount",g0="focusScope.autoFocusOnUnmount",K2={bubbles:!1,cancelable:!0},Dge="FocusScope",NS=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),d=pn(s),u=pn(a),f=j.useRef(null),p=pt(t,m=>c(m)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let m=function(v){if(x.paused||!l)return;const N=v.target;l.contains(N)?f.current=N:ma(f.current,{select:!0})},y=function(v){if(x.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||ma(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const w of v)w.removedNodes.length>0&&ma(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[r,l,x.paused]),j.useEffect(()=>{if(l){Q2.add(x);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(v0,K2);l.addEventListener(v0,d),l.dispatchEvent(g),g.defaultPrevented||(Fge(Uge(DF(l)),{select:!0}),document.activeElement===m&&ma(l))}return()=>{l.removeEventListener(v0,d),setTimeout(()=>{const g=new CustomEvent(g0,K2);l.addEventListener(g0,u),l.dispatchEvent(g),g.defaultPrevented||ma(m??document.body,{select:!0}),l.removeEventListener(g0,u),Q2.remove(x)},0)}}},[l,d,u,x]);const h=j.useCallback(m=>{if(!n&&!r||x.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(y&&g){const b=m.currentTarget,[v,N]=Lge(b);v&&N?!m.shiftKey&&g===N?(m.preventDefault(),n&&ma(v,{select:!0})):m.shiftKey&&g===v&&(m.preventDefault(),n&&ma(N,{select:!0})):g===b&&m.preventDefault()}},[n,r,x.paused]);return i.jsx(Xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:h})});NS.displayName=Dge;function Fge(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ma(r,{select:t}),document.activeElement!==n)return}function Lge(e){const t=DF(e),n=Y2(t,e),r=Y2(t.reverse(),e);return[n,r]}function DF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Y2(e,t){for(const n of e)if(!qge(n,{upTo:t}))return n}function qge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zge(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zge(e)&&t&&e.select()}}var Q2=Bge();function Bge(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=X2(e,t),e.unshift(t)},remove(t){var n;e=X2(e,t),(n=e[0])==null||n.resume()}}}function X2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Uge(e){return e.filter(t=>t.tagName!=="A")}function Vg(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vge=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ml=new WeakMap,Mm=new WeakMap,$m={},y0=0,FF=function(e){return e&&(e.host||FF(e.parentNode))},Wge=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=FF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Hge=function(e,t,n,r){var s=Wge(t,Array.isArray(e)?e:[e]);$m[n]||($m[n]=new WeakMap);var a=$m[n],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var x=p.getAttribute(r),h=x!==null&&x!=="false",m=(Ml.get(p)||0)+1,y=(a.get(p)||0)+1;Ml.set(p,m),a.set(p,y),o.push(p),m===1&&h&&Mm.set(p,!0),y===1&&p.setAttribute(n,"true"),h||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(t),l.clear(),y0++,function(){o.forEach(function(f){var p=Ml.get(f)-1,x=a.get(f)-1;Ml.set(f,p),a.set(f,x),p||(Mm.has(f)||f.removeAttribute(r),Mm.delete(f)),x||f.removeAttribute(n)}),y0--,y0||(Ml=new WeakMap,Ml=new WeakMap,Mm=new WeakMap,$m={})}},LF=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Vge(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Hge(r,s,n,"aria-hidden")):function(){return null}},Zi=function(){return Zi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Zi.apply(this,arguments)};function qF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Al(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(f){o(f)}}function c(u){try{d(r.throw(u))}catch(f){o(f)}}function d(u){u.done?a(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function Gge(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var uh="right-scroll-bar-position",fh="width-before-scroll-bar",Kge="with-scroll-bars-hidden",Yge="--removed-body-scroll-bar-size";function b0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qge(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Xge=typeof window<"u"?j.useLayoutEffect:j.useEffect,Z2=new WeakMap;function Zge(e,t){var n=Qge(null,function(r){return e.forEach(function(s){return b0(s,r)})});return Xge(function(){var r=Z2.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||b0(l,null)}),a.forEach(function(l){s.has(l)||b0(l,o)})}Z2.set(n,e)},[e]),n}function Jge(e){return e}function eye(e,t){t===void 0&&(t=Jge);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function tye(e){e===void 0&&(e={});var t=eye(null);return t.options=Zi({async:!0,ssr:!1},e),t}var zF=function(e){var t=e.sideCar,n=qF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Zi({},n))};zF.isSideCarExport=!0;function nye(e,t){return e.useMedium(t),zF}var BF=tye(),j0=function(){},Wg=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:j0,onWheelCapture:j0,onTouchMoveCapture:j0}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,x=e.noIsolation,h=e.inert,m=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,b=e.gapMode,v=qF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,w=Zge([n,t]),C=Zi(Zi({},v),s);return j.createElement(j.Fragment,null,u&&j.createElement(N,{sideCar:BF,removeScrollBar:d,shards:f,noIsolation:x,inert:h,setCallbacks:a,allowPinchZoom:!!m,lockRef:n,gapMode:b}),o?j.cloneElement(j.Children.only(l),Zi(Zi({},C),{ref:w})):j.createElement(g,Zi({},C,{className:c,ref:w}),l))});Wg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wg.classNames={fullWidth:fh,zeroRight:uh};var rye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iye(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rye();return t&&e.setAttribute("nonce",t),e}function sye(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aye(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oye=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iye())&&(sye(t,n),aye(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lye=function(){var e=oye();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},UF=function(){var e=lye(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},cye={left:0,top:0,right:0,gap:0},w0=function(e){return parseInt(e||"",10)||0},dye=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[w0(n),w0(r),w0(s)]},uye=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cye;var t=dye(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fye=UF(),jc="data-scroll-locked",pye=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Kge,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(jc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jc,`] {
    `).concat(Yge,": ").concat(l,`px;
  }
`)},J2=function(){var e=parseInt(document.body.getAttribute(jc)||"0",10);return isFinite(e)?e:0},mye=function(){j.useEffect(function(){return document.body.setAttribute(jc,(J2()+1).toString()),function(){var e=J2()-1;e<=0?document.body.removeAttribute(jc):document.body.setAttribute(jc,e.toString())}},[])},hye=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;mye();var a=j.useMemo(function(){return uye(s)},[s]);return j.createElement(fye,{styles:pye(a,!t,s,n?"":"!important")})},Ew=!1;if(typeof window<"u")try{var Dm=Object.defineProperty({},"passive",{get:function(){return Ew=!0,!0}});window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{Ew=!1}var $l=Ew?{passive:!1}:!1,xye=function(e){return e.tagName==="TEXTAREA"},VF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xye(e)&&n[t]==="visible")},vye=function(e){return VF(e,"overflowY")},gye=function(e){return VF(e,"overflowX")},eP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=WF(e,r);if(s){var a=HF(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yye=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bye=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},WF=function(e,t){return e==="v"?vye(t):gye(t)},HF=function(e,t){return e==="v"?yye(t):bye(t)},jye=function(e,t){return e==="h"&&t==="rtl"?-1:1},wye=function(e,t,n,r,s){var a=jye(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,u=o>0,f=0,p=0;do{var x=HF(e,l),h=x[0],m=x[1],y=x[2],g=m-y-a*h;(h||g)&&WF(e,l)&&(f+=g,p+=h),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(d=!0),d},Fm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tP=function(e){return[e.deltaX,e.deltaY]},nP=function(e){return e&&"current"in e?e.current:e},Nye=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sye=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cye=0,Dl=[];function Eye(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),s=j.useState(Cye++)[0],a=j.useState(UF)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Gge([e.lockRef.current],(e.shards||[]).map(nP),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=Fm(m),b=n.current,v="deltaX"in m?m.deltaX:b[0]-g[0],N="deltaY"in m?m.deltaY:b[1]-g[1],w,C=m.target,E=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in m&&E==="h"&&C.type==="range")return!1;var S=eP(E,C);if(!S)return!0;if(S?w=E:(w=E==="v"?"h":"v",S=eP(E,C)),!S)return!1;if(!r.current&&"changedTouches"in m&&(v||N)&&(r.current=w),!w)return!0;var k=r.current||w;return wye(k,y,m,k==="h"?v:N,!0)},[]),c=j.useCallback(function(m){var y=m;if(!(!Dl.length||Dl[Dl.length-1]!==a)){var g="deltaY"in y?tP(y):Fm(y),b=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&Nye(w.delta,g)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var v=(o.current.shards||[]).map(nP).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=v.length>0?l(y,v[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=j.useCallback(function(m,y,g,b){var v={name:m,delta:y,target:g,should:b,shadowParent:kye(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),u=j.useCallback(function(m){n.current=Fm(m),r.current=void 0},[]),f=j.useCallback(function(m){d(m.type,tP(m),m.target,l(m,e.lockRef.current))},[]),p=j.useCallback(function(m){d(m.type,Fm(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return Dl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,$l),document.addEventListener("touchmove",c,$l),document.addEventListener("touchstart",u,$l),function(){Dl=Dl.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,$l),document.removeEventListener("touchmove",c,$l),document.removeEventListener("touchstart",u,$l)}},[]);var x=e.removeScrollBar,h=e.inert;return j.createElement(j.Fragment,null,h?j.createElement(a,{styles:Sye(s)}):null,x?j.createElement(hye,{gapMode:e.gapMode}):null)}function kye(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Aye=nye(BF,Eye);var SS=j.forwardRef(function(e,t){return j.createElement(Wg,Zi({},e,{ref:t,sideCar:Aye}))});SS.classNames=Wg.classNames;var _ye=[" ","Enter","ArrowUp","ArrowDown"],Pye=[" ","Enter"],Up="Select",[Hg,Gg,Tye]=QN(Up),[Hd,qSe]=xr(Up,[Tye,zv]),Kg=zv(),[Oye,mo]=Hd(Up),[Rye,Iye]=Hd(Up),GF=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:x,form:h}=e,m=Kg(t),[y,g]=j.useState(null),[b,v]=j.useState(null),[N,w]=j.useState(!1),C=Rp(d),[E=!1,S]=cs({prop:r,defaultProp:s,onChange:a}),[k,I]=cs({prop:o,defaultProp:l,onChange:c}),P=j.useRef(null),A=y?h||!!y.closest("form"):!0,[_,O]=j.useState(new Set),D=Array.from(_).map(M=>M.props.value).join(";");return i.jsx(xM,{...m,children:i.jsxs(Oye,{required:x,scope:t,trigger:y,onTriggerChange:g,valueNode:b,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:is(),value:k,onValueChange:I,open:E,onOpenChange:S,dir:C,triggerPointerDownPosRef:P,disabled:p,children:[i.jsx(Hg.Provider,{scope:t,children:i.jsx(Rye,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(M=>{O(V=>new Set(V).add(M))},[]),onNativeOptionRemove:j.useCallback(M=>{O(V=>{const q=new Set(V);return q.delete(M),q})},[]),children:n})}),A?i.jsxs(gL,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:f,value:k,onChange:M=>I(M.target.value),disabled:p,form:h,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(_)]},D):null]})})};GF.displayName=Up;var KF="SelectTrigger",YF=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Kg(n),o=mo(KF,n),l=o.disabled||r,c=pt(t,o.onTriggerChange),d=Gg(n),u=j.useRef("touch"),[f,p,x]=yL(m=>{const y=d().filter(v=>!v.disabled),g=y.find(v=>v.value===o.value),b=bL(y,m,g);b!==void 0&&o.onValueChange(b.value)}),h=m=>{l||(o.onOpenChange(!0),x()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(vM,{asChild:!0,...a,children:i.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vL(o.value)?"":void 0,...s,ref:c,onClick:Le(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&h(m)}),onPointerDown:Le(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(h(m),m.preventDefault())}),onKeyDown:Le(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&_ye.includes(m.key)&&(h(),m.preventDefault())})})})});YF.displayName=KF;var QF="SelectValue",XF=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=mo(QF,n),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=pt(t,c.onValueNodeChange);return hn(()=>{d(u)},[d,u]),i.jsx(Xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:vL(c.value)?i.jsx(i.Fragment,{children:o}):a})});XF.displayName=QF;var Mye="SelectIcon",ZF=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});ZF.displayName=Mye;var $ye="SelectPortal",JF=e=>i.jsx(Pv,{asChild:!0,...e});JF.displayName=$ye;var ml="SelectContent",eL=j.forwardRef((e,t)=>{const n=mo(ml,e.__scopeSelect),[r,s]=j.useState();if(hn(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?jl.createPortal(i.jsx(tL,{scope:e.__scopeSelect,children:i.jsx(Hg.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(nL,{...e,ref:t})});eL.displayName=ml;var xi=10,[tL,ho]=Hd(ml),Dye="SelectContentImpl",Fye=Vc("SelectContent.RemoveScroll"),nL=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:h,hideWhenDetached:m,avoidCollisions:y,...g}=e,b=mo(ml,n),[v,N]=j.useState(null),[w,C]=j.useState(null),E=pt(t,de=>N(de)),[S,k]=j.useState(null),[I,P]=j.useState(null),A=Gg(n),[_,O]=j.useState(!1),D=j.useRef(!1);j.useEffect(()=>{if(v)return LF(v)},[v]),$F();const M=j.useCallback(de=>{const[Ce,...le]=A().map(z=>z.ref.current),[xe]=le.slice(-1),pe=document.activeElement;for(const z of de)if(z===pe||(z==null||z.scrollIntoView({block:"nearest"}),z===Ce&&w&&(w.scrollTop=0),z===xe&&w&&(w.scrollTop=w.scrollHeight),z==null||z.focus(),document.activeElement!==pe))return},[A,w]),V=j.useCallback(()=>M([S,v]),[M,S,v]);j.useEffect(()=>{_&&V()},[_,V]);const{onOpenChange:q,triggerPointerDownPosRef:R}=b;j.useEffect(()=>{if(v){let de={x:0,y:0};const Ce=xe=>{var pe,z;de={x:Math.abs(Math.round(xe.pageX)-(((pe=R.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((z=R.current)==null?void 0:z.y)??0))}},le=xe=>{de.x<=10&&de.y<=10?xe.preventDefault():v.contains(xe.target)||q(!1),document.removeEventListener("pointermove",Ce),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",le,{capture:!0})}}},[v,q,R]),j.useEffect(()=>{const de=()=>q(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[q]);const[B,Y]=yL(de=>{const Ce=A().filter(pe=>!pe.disabled),le=Ce.find(pe=>pe.ref.current===document.activeElement),xe=bL(Ce,de,le);xe&&setTimeout(()=>xe.ref.current.focus())}),$=j.useCallback((de,Ce,le)=>{const xe=!D.current&&!le;(b.value!==void 0&&b.value===Ce||xe)&&(k(de),xe&&(D.current=!0))},[b.value]),re=j.useCallback(()=>v==null?void 0:v.focus(),[v]),ee=j.useCallback((de,Ce,le)=>{const xe=!D.current&&!le;(b.value!==void 0&&b.value===Ce||xe)&&P(de)},[b.value]),Q=r==="popper"?kw:rL,ie=Q===kw?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:h,hideWhenDetached:m,avoidCollisions:y}:{};return i.jsx(tL,{scope:n,content:v,viewport:w,onViewportChange:C,itemRefCallback:$,selectedItem:S,onItemLeave:re,itemTextRefCallback:ee,focusSelectedItem:V,selectedItemText:I,position:r,isPositioned:_,searchRef:B,children:i.jsx(SS,{as:Fye,allowPinchZoom:!0,children:i.jsx(NS,{asChild:!0,trapped:b.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Le(s,de=>{var Ce;(Ce=b.trigger)==null||Ce.focus({preventScroll:!0}),de.preventDefault()}),children:i.jsx(kp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(Q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:de=>de.preventDefault(),...g,...ie,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Le(g.onKeyDown,de=>{const Ce=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ce&&de.key.length===1&&Y(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let xe=A().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const pe=de.target,z=xe.indexOf(pe);xe=xe.slice(z+1)}setTimeout(()=>M(xe)),de.preventDefault()}})})})})})})});nL.displayName=Dye;var Lye="SelectItemAlignedPosition",rL=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=mo(ml,n),o=ho(ml,n),[l,c]=j.useState(null),[d,u]=j.useState(null),f=pt(t,E=>u(E)),p=Gg(n),x=j.useRef(!1),h=j.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:g,focusSelectedItem:b}=o,v=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&y&&g){const E=a.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),I=g.getBoundingClientRect();if(a.dir!=="rtl"){const pe=I.left-S.left,z=k.left-pe,ue=E.left-z,fe=E.width+ue,Te=Math.max(fe,S.width),we=window.innerWidth-xi,Ye=Cw(z,[xi,Math.max(xi,we-Te)]);l.style.minWidth=fe+"px",l.style.left=Ye+"px"}else{const pe=S.right-I.right,z=window.innerWidth-k.right-pe,ue=window.innerWidth-E.right-z,fe=E.width+ue,Te=Math.max(fe,S.width),we=window.innerWidth-xi,Ye=Cw(z,[xi,Math.max(xi,we-Te)]);l.style.minWidth=fe+"px",l.style.right=Ye+"px"}const P=p(),A=window.innerHeight-xi*2,_=m.scrollHeight,O=window.getComputedStyle(d),D=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),V=parseInt(O.borderBottomWidth,10),q=parseInt(O.paddingBottom,10),R=D+M+_+q+V,B=Math.min(y.offsetHeight*5,R),Y=window.getComputedStyle(m),$=parseInt(Y.paddingTop,10),re=parseInt(Y.paddingBottom,10),ee=E.top+E.height/2-xi,Q=A-ee,ie=y.offsetHeight/2,de=y.offsetTop+ie,Ce=D+M+de,le=R-Ce;if(Ce<=ee){const pe=P.length>0&&y===P[P.length-1].ref.current;l.style.bottom="0px";const z=d.clientHeight-m.offsetTop-m.offsetHeight,ue=Math.max(Q,ie+(pe?re:0)+z+V),fe=Ce+ue;l.style.height=fe+"px"}else{const pe=P.length>0&&y===P[0].ref.current;l.style.top="0px";const ue=Math.max(ee,D+m.offsetTop+(pe?$:0)+ie)+le;l.style.height=ue+"px",m.scrollTop=Ce-ee+m.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[p,a.trigger,a.valueNode,l,d,m,y,g,a.dir,r]);hn(()=>v(),[v]);const[N,w]=j.useState();hn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const C=j.useCallback(E=>{E&&h.current===!0&&(v(),b==null||b(),h.current=!1)},[v,b]);return i.jsx(zye,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(Xe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rL.displayName=Lye;var qye="SelectPopperPosition",kw=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=xi,...a}=e,o=Kg(n);return i.jsx(gM,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kw.displayName=qye;var[zye,CS]=Hd(ml,{}),Aw="SelectViewport",iL=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ho(Aw,n),o=CS(Aw,n),l=pt(t,a.onViewportChange),c=j.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Hg.Slot,{scope:n,children:i.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const x=Math.abs(c.current-u.scrollTop);if(x>0){const h=window.innerHeight-xi*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),g=Math.max(m,y);if(g<h){const b=g+x,v=Math.min(h,b),N=b-v;f.style.height=v+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});iL.displayName=Aw;var sL="SelectGroup",[Bye,Uye]=Hd(sL),Vye=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=is();return i.jsx(Bye,{scope:n,id:s,children:i.jsx(Xe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Vye.displayName=sL;var aL="SelectLabel",oL=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Uye(aL,n);return i.jsx(Xe.div,{id:s.id,...r,ref:t})});oL.displayName=aL;var Vx="SelectItem",[Wye,lL]=Hd(Vx),cL=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=mo(Vx,n),c=ho(Vx,n),d=l.value===r,[u,f]=j.useState(a??""),[p,x]=j.useState(!1),h=pt(t,b=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,b,r,s)}),m=is(),y=j.useRef("touch"),g=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Wye,{scope:n,value:r,disabled:s,textId:m,isSelected:d,onItemTextChange:j.useCallback(b=>{f(v=>v||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Hg.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:i.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:h,onFocus:Le(o.onFocus,()=>x(!0)),onBlur:Le(o.onBlur,()=>x(!1)),onClick:Le(o.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:Le(o.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:Le(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:Le(o.onPointerMove,b=>{var v;y.current=b.pointerType,s?(v=c.onItemLeave)==null||v.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(o.onPointerLeave,b=>{var v;b.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Le(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(Pye.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});cL.displayName=Vx;var Au="SelectItemText",dL=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=mo(Au,n),l=ho(Au,n),c=lL(Au,n),d=Iye(Au,n),[u,f]=j.useState(null),p=pt(t,g=>f(g),c.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,g,c.value,c.disabled)}),x=u==null?void 0:u.textContent,h=j.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=d;return hn(()=>(m(h),()=>y(h)),[m,y,h]),i.jsxs(i.Fragment,{children:[i.jsx(Xe.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?jl.createPortal(a.children,o.valueNode):null]})});dL.displayName=Au;var uL="SelectItemIndicator",fL=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return lL(uL,n).isSelected?i.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t}):null});fL.displayName=uL;var _w="SelectScrollUpButton",pL=j.forwardRef((e,t)=>{const n=ho(_w,e.__scopeSelect),r=CS(_w,e.__scopeSelect),[s,a]=j.useState(!1),o=pt(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(hL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});pL.displayName=_w;var Pw="SelectScrollDownButton",mL=j.forwardRef((e,t)=>{const n=ho(Pw,e.__scopeSelect),r=CS(Pw,e.__scopeSelect),[s,a]=j.useState(!1),o=pt(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(hL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mL.displayName=Pw;var hL=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ho("SelectScrollButton",n),o=j.useRef(null),l=Gg(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),hn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),i.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{c()})})}),Hye="SelectSeparator",xL=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t})});xL.displayName=Hye;var Tw="SelectArrow",Gye=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Kg(n),a=mo(Tw,n),o=ho(Tw,n);return a.open&&o.position==="popper"?i.jsx(yM,{...s,...r,ref:t}):null});Gye.displayName=Tw;function vL(e){return e===""||e===void 0}var gL=j.forwardRef((e,t)=>{const{value:n,...r}=e,s=j.useRef(null),a=pt(t,s),o=Vg(n);return j.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const f=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(f)}},[o,n]),i.jsx(Ap,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});gL.displayName="BubbleSelect";function yL(e){const t=pn(e),n=j.useRef(""),r=j.useRef(0),s=j.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function bL(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Kye(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Kye(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Yye=GF,jL=YF,Qye=XF,Xye=ZF,Zye=JF,wL=eL,Jye=iL,NL=oL,SL=cL,e0e=dL,t0e=fL,CL=pL,EL=mL,kL=xL;const Ue=Yye,Ve=Qye,ze=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(jL,{ref:r,className:Ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(Xye,{asChild:!0,children:i.jsx(e1,{className:"h-4 w-4 opacity-50"})})]}));ze.displayName=jL.displayName;const AL=j.forwardRef(({className:e,...t},n)=>i.jsx(CL,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(TI,{className:"h-4 w-4"})}));AL.displayName=CL.displayName;const _L=j.forwardRef(({className:e,...t},n)=>i.jsx(EL,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(e1,{className:"h-4 w-4"})}));_L.displayName=EL.displayName;const Be=j.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(Zye,{children:i.jsxs(wL,{ref:s,className:Ge("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(AL,{}),i.jsx(Jye,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(_L,{})]})}));Be.displayName=wL.displayName;const n0e=j.forwardRef(({className:e,...t},n)=>i.jsx(NL,{ref:n,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));n0e.displayName=NL.displayName;const J=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(SL,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(t0e,{children:i.jsx(PI,{className:"h-4 w-4"})})}),i.jsx(e0e,{children:t})]}));J.displayName=SL.displayName;const r0e=j.forwardRef(({className:e,...t},n)=>i.jsx(kL,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));r0e.displayName=kL.displayName;const Vp=j.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:Ge("w-full caption-bottom text-sm",e),...t})}));Vp.displayName="Table";const Wp=j.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:Ge("[&_tr]:border-b",e),...t}));Wp.displayName="TableHeader";const Hp=j.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:Ge("[&_tr:last-child]:border-0",e),...t}));Hp.displayName="TableBody";const i0e=j.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));i0e.displayName="TableFooter";const Fr=j.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fr.displayName="TableRow";const Xt=j.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xt.displayName="TableHead";const Mt=j.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Mt.displayName="TableCell";const s0e=j.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:Ge("mt-4 text-sm text-muted-foreground",e),...t}));s0e.displayName="TableCaption";function a0e(){const[e,t]=j.useState(""),[n,r]=j.useState("all"),[s,a]=j.useState("all"),[o,l]=j.useState("all"),[c,d]=j.useState(1),u=hr(),f=10,p=new URLSearchParams;e&&p.set("search",e),n&&n!=="all"&&p.set("priority",n),s&&s!=="all"&&p.set("dateRange",s),p.set("status",o);const{data:x=[],isLoading:h,refetch:m}=Ae({queryKey:["/api/analyses",p.toString()],queryFn:async()=>{const E=`/api/analyses${p.toString()?`?${p.toString()}`:""}`,S=await fetch(E);if(!S.ok)throw new Error("Failed to fetch analyses");return S.json()}}),y=Math.ceil(x.length/f),g=(c-1)*f,b=x.slice(g,g+f),v=E=>{switch(E){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},N=E=>E?E>=90?"confidence-high":E>=70?"confidence-medium":"confidence-low":"bg-gray-100 text-gray-800",w=E=>new Date(E).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),C=()=>{console.log("Export functionality would be implemented here")};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(W,{children:i.jsx(G,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Mi,{className:"text-muted-foreground",size:16})}),i.jsx(ve,{placeholder:"Search analyses...",value:e,onChange:E=>t(E.target.value),className:"pl-10"})]}),i.jsxs(Ue,{value:n,onValueChange:r,children:[i.jsx(ze,{className:"w-full sm:w-[180px]",children:i.jsx(Ve,{placeholder:"All Priorities"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Priorities"}),i.jsx(J,{value:"high",children:"High Priority"}),i.jsx(J,{value:"medium",children:"Medium Priority"}),i.jsx(J,{value:"low",children:"Low Priority"})]})]}),i.jsxs(Ue,{value:s,onValueChange:a,children:[i.jsx(ze,{className:"w-full sm:w-[180px]",children:i.jsx(Ve,{placeholder:"All Time"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Time"}),i.jsx(J,{value:"today",children:"Today"}),i.jsx(J,{value:"week",children:"This Week"}),i.jsx(J,{value:"month",children:"This Month"}),i.jsx(J,{value:"quarter",children:"This Quarter"})]})]}),i.jsxs(Ue,{value:o,onValueChange:l,children:[i.jsx(ze,{className:"w-40",children:i.jsx(Ve,{placeholder:"Status"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Status"}),i.jsx(J,{value:"draft",children:"Drafts Only"}),i.jsx(J,{value:"completed",children:"Completed Only"})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(K,{variant:"outline",onClick:C,children:[i.jsx(ur,{className:"w-4 h-4 mr-2"}),"Export"]}),i.jsxs(K,{variant:"outline",onClick:()=>m(),children:[i.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Analysis History"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete record of all root cause analyses"})]}),i.jsx(G,{children:h?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Fn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):x.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"No analyses found matching your criteria."})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Vp,{children:[i.jsx(Wp,{children:i.jsxs(Fr,{children:[i.jsx(Xt,{className:"min-w-[120px]",children:"Analysis ID"}),i.jsx(Xt,{className:"min-w-[140px]",children:"Equipment"}),i.jsx(Xt,{className:"min-w-[200px]",children:"Issue Description"}),i.jsx(Xt,{className:"min-w-[200px]",children:"Root Cause"}),i.jsx(Xt,{className:"min-w-[100px]",children:"Confidence"}),i.jsx(Xt,{className:"min-w-[90px]",children:"Priority"}),i.jsx(Xt,{className:"min-w-[140px]",children:"Date"}),i.jsx(Xt,{className:"min-w-[160px] sticky right-0 bg-background",children:"Actions"})]})}),i.jsx(Hp,{children:b.map(E=>{var S,k,I;return i.jsxs(Fr,{className:"hover:bg-muted/50",children:[i.jsx(Mt,{className:"font-medium min-w-[120px]",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:E.investigationId}),E.isDraft&&i.jsx(ne,{variant:"outline",className:"text-xs w-fit mt-1",children:"Draft"})]})}),i.jsx(Mt,{className:"min-w-[140px]",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:((S=E.equipmentType)==null?void 0:S.charAt(0).toUpperCase())+((k=E.equipmentType)==null?void 0:k.slice(1).replace("_"," "))}),((I=E.evidenceData)==null?void 0:I.equipment_tag)&&i.jsx("span",{className:"text-xs text-muted-foreground",children:E.evidenceData.equipment_tag}),E.location&&i.jsx("span",{className:"text-xs text-muted-foreground",children:E.location})]})}),i.jsx(Mt,{className:"min-w-[200px] max-w-[250px] truncate",children:E.whatHappened}),i.jsx(Mt,{className:"min-w-[200px] max-w-[250px] truncate",children:E.cause||"Processing..."}),i.jsx(Mt,{className:"min-w-[100px]",children:E.confidence&&!E.isDraft?i.jsxs(ne,{className:N(E.confidence),children:[E.confidence,"%"]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),i.jsx(Mt,{className:"min-w-[90px]",children:i.jsx(ne,{className:v(E.priority),children:E.priority.charAt(0).toUpperCase()+E.priority.slice(1)})}),i.jsx(Mt,{className:"text-sm min-w-[140px]",children:w(E.createdAt)}),i.jsx(Mt,{className:"min-w-[160px] sticky right-0 bg-background",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{E.isDraft?u(`/equipment-selection?incident=${E.id}`):u(`/analysis-details/${E.id}`)},className:"text-xs px-2",children:E.isDraft?"Continue":"Details"}),i.jsx(K,{variant:"ghost",size:"sm",className:"text-xs px-2",children:"Export"})]})})]},E.id)})})]})}),y>1&&i.jsxs("div",{className:"flex items-center justify-between mt-6",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",g+1," to ",Math.min(g+f,x.length)," of ",x.length," results"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>d(Math.max(1,c-1)),disabled:c===1,children:[i.jsx(yU,{className:"w-4 h-4"}),"Previous"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",y]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>d(Math.min(y,c+1)),disabled:c===y,children:["Next",i.jsx(Pp,{className:"w-4 h-4"})]})]})]})]})})]})]})}function o0e(){return i.jsx("div",{className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5"}),"Evidence-First Root Cause Analysis"]}),i.jsx(ge,{children:"Comprehensive, systematic approach to accurate root cause identification"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs(Yt,{children:[i.jsx(Mi,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"Enhanced Workflow:"})," Our new evidence-driven process guides you through structured data collection before AI analysis, ensuring higher accuracy and confidence."]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"1"}),i.jsx("h4",{className:"font-medium",children:"Evidence Collection"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured questionnaire covering asset context, symptoms, operating conditions, and maintenance history"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"2"}),i.jsx("h4",{className:"font-medium",children:"AI Analysis"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced root cause analysis using collected evidence with confidence scoring and reasoning"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"3"}),i.jsx("h4",{className:"font-medium",children:"Results & Action"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed findings with actionable recommendations and comprehensive audit trail"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(an,{to:"/incident-reporting",className:"flex-1",rel:"noopener noreferrer",children:i.jsxs(K,{className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx($t,{className:"h-5 w-5"}),"Report New Incident",i.jsx(Nr,{className:"h-4 w-4 ml-auto"})]})}),i.jsx(an,{to:"/new",className:"flex-1",children:i.jsxs(K,{variant:"outline",className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx(Mi,{className:"h-5 w-5"}),"Legacy Analysis Upload",i.jsx(Nr,{className:"h-4 w-4 ml-auto"})]})})]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[i.jsx("p",{className:"font-medium mb-1",children:"What makes this better?"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:"• Systematic evidence gathering prevents missed critical information"}),i.jsx("li",{children:"• Equipment-specific questions provide relevant context"}),i.jsx("li",{children:"• Structured data ensures consistent, auditable analysis"}),i.jsx("li",{children:"• Higher confidence scores through comprehensive input"})]})]})]})]})})}function l0e(){const e=hr();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"w-8 h-8 rounded-lg object-contain"}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Quanntaum RCA Intelligence Pro"}),i.jsx(ne,{className:"enterprise-gradient text-white text-xs px-2 py-1 font-medium",children:"AI-Powered"})]})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),i.jsx("span",{children:"System Active"})]}),i.jsxs(K,{variant:"secondary",onClick:()=>e("/admin/settings"),className:"text-sm font-medium",children:[i.jsx(t1,{className:"w-4 h-4 mr-2"}),"Admin Settings"]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs(vr,{defaultValue:"upload",className:"w-full",children:[i.jsxs(er,{className:"grid w-full grid-cols-3 mb-8",children:[i.jsxs(Oe,{value:"upload",className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("span",{children:"Upload & Analyze"})]}),i.jsxs(Oe,{value:"dashboard",className:"flex items-center space-x-2",children:[i.jsx(Ya,{className:"w-4 h-4"}),i.jsx("span",{children:"Dashboard"})]}),i.jsxs(Oe,{value:"history",className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:"Analysis History"})]})]}),i.jsx(ke,{value:"upload",children:i.jsx(o0e,{})}),i.jsx(ke,{value:"dashboard",children:i.jsx($ge,{})}),i.jsx(ke,{value:"history",children:i.jsx(a0e,{})})]})})]})}var c0e="Separator",rP="horizontal",d0e=["horizontal","vertical"],PL=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=rP,...s}=e,a=u0e(r)?r:rP,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Xe.div,{"data-orientation":a,...l,...s,ref:t})});PL.displayName=c0e;function u0e(e){return d0e.includes(e)}var TL=PL;const Bs=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(TL,{ref:s,decorative:n,orientation:t,className:Ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Bs.displayName=TL.displayName;function OL({analysis:e,incident:t,onEdit:n}){var p,x,h;const[r,s]=j.useState("tree"),[a,o]=j.useState(1),c=(()=>{var S,k,I,P,A;if(!e)return{id:"root",label:"No Analysis Data",confidence:0,evidence:[],type:"root"};const m=e.equipmentGroup&&e.equipmentType?`${e.equipmentGroup} → ${e.equipmentType}${e.equipmentSubtype?` → ${e.equipmentSubtype}`:""}`:"Equipment Type Not Specified",y=e.equipmentId||(t==null?void 0:t.equipmentId)||e.equipmentTag||"ID Not Specified",g=e.failureMode||e.rootCause||"Equipment Failure",b=[];e.symptoms&&b.push(...e.symptoms),e.description&&b.push(`Reported: ${e.description}`);const v=[];if(e.operatingParameters){const _=e.operatingParameters;Object.keys(_).forEach(O=>{_[O]&&typeof _[O]=="object"?Object.entries(_[O]).forEach(([D,M])=>{v.push(`${O}.${D}: ${M}`)}):_[O]&&v.push(`${O}: ${_[O]}`)})}let N=0;const w=[((S=e.evidenceFiles)==null?void 0:S.length)||0,((I=(k=e.evidenceChecklist)==null?void 0:k.filter(_=>_.completed))==null?void 0:I.length)||0,((A=(P=e.crossMatchResults)==null?void 0:P.libraryMatches)==null?void 0:A.length)||0,b.length,v.length];N=Math.min(100,Math.round(w.reduce((_,O)=>_+O,0)/15*100));const C=[],E=[];if(e.eliminationResults&&e.eliminationResults.forEach((_,O)=>{E.push({id:`eliminated-${O}`,label:_.failureMode||`Eliminated Cause ${O+1}`,confidence:0,evidence:[_.reason||"Eliminated by analysis"],type:"evidence"})}),e.rootCauses&&Array.isArray(e.rootCauses)&&e.rootCauses.forEach((_,O)=>{var D;C.push({id:`root-cause-${O}`,label:_.description||_.title||`Root Cause ${O+1}`,confidence:_.confidence||75,evidence:_.evidence||[_.rationale||"Analysis evidence"],type:"primary",children:((D=_.contributingFactors)==null?void 0:D.map((M,V)=>({id:`factor-${O}-${V}`,label:M.description||M.name||`Contributing Factor ${V+1}`,confidence:M.confidence||70,evidence:M.evidence||[],type:"secondary"})))||[]})}),e.recommendations&&Array.isArray(e.recommendations)){const _=e.recommendations.slice(0,3).map((O,D)=>({id:`prevention-${D}`,label:O.title||O.description||`Preventive Measure ${D+1}`,confidence:90,evidence:[O.rationale||"Recommended prevention"],type:"evidence"}));_.length>0&&C.push({id:"prevention-root",label:"Preventive Measures",confidence:90,evidence:["Analysis recommendations"],type:"primary",children:_})}return C.length===0&&C.push({id:"default-factor",label:"Analysis Results",confidence:e.overallConfidence||75,evidence:["AI analysis findings"],type:"primary",children:[{id:"default-evidence",label:"Investigation Evidence",confidence:70,evidence:["Collected evidence from investigation"],type:"evidence"}]}),{id:"root",label:g,confidence:e.overallConfidence||85,evidence:["Analysis results"],type:"root",children:C,equipmentContext:m,equipmentId:y,evidenceAdequacy:N,eliminatedCauses:E,originalSymptoms:b,operatingContext:v}})(),d=(m,y,g,b)=>{const v=()=>m==="root"&&y==="primary"?"text-red-600":m==="primary"&&y==="secondary"?"text-orange-600":"text-blue-600",N=()=>m==="root"?"causes":m==="primary"?"leads to":"results in";return i.jsx("div",{className:`flex items-center justify-center my-3 ${v()}`,children:i.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",children:"↓"}),i.jsx("span",{className:"text-xs font-medium",children:N()}),i.jsx("div",{className:"text-lg font-bold",children:"→"})]})})},u=(m,y=0,g)=>{const b=(N,w)=>{var E;const C={root:"bg-red-50 border-red-400 text-red-900 shadow-red-100",primary:"bg-orange-50 border-orange-400 text-orange-900 shadow-orange-100",secondary:"bg-blue-50 border-blue-400 text-blue-900 shadow-blue-100",evidence:"bg-green-50 border-green-400 text-green-900 shadow-green-100",recommendation:"bg-purple-50 border-purple-400 text-purple-900 shadow-purple-100"};return w<60?((E=C[N])==null?void 0:E.replace("50","25").replace("400","300"))||"bg-gray-50 border-gray-300 text-gray-700":C[N]||"bg-gray-50 border-gray-400 text-gray-800"},v=N=>{var C,E,S;const w=[];return N.evidence&&N.evidence.length>0&&w.push(`${N.evidence.length} evidence item(s)`),(C=e==null?void 0:e.crossMatchResults)!=null&&C.libraryMatches&&w.push("Library pattern match"),(S=(E=e==null?void 0:e.eliminationResults)==null?void 0:E.eliminationReasons)!=null&&S.length&&w.push("Elimination logic applied"),N.confidence>=80?w.push("High data quality"):N.confidence>=60?w.push("Moderate data quality"):w.push("Limited data available"),`Confidence ${N.confidence}% based on: ${w.join(", ")}`};return i.jsxs("div",{className:`ml-${y*8} mb-4`,children:[g&&y>0&&d(g,m.type),i.jsxs("div",{className:`inline-block p-4 rounded-lg border-2 shadow-lg ${b(m.type,m.confidence)} max-w-md hover:shadow-xl transition-shadow cursor-help`,title:v(m),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:m.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ne,{variant:"outline",className:"text-xs font-medium",children:[m.confidence,"%"]}),i.jsx("div",{className:"text-xs px-2 py-1 bg-white/70 rounded-full",children:m.type.charAt(0).toUpperCase()+m.type.slice(1)})]})]}),m.evidence&&m.evidence.length>0&&i.jsxs("div",{className:"text-xs opacity-90 bg-white/50 p-2 rounded border mb-2",children:[i.jsx("strong",{children:"Evidence:"})," ",m.evidence[0],m.evidence.length>1&&i.jsxs("span",{className:"text-gray-600",children:[" (+",m.evidence.length-1," more)"]})]}),m.type==="root"&&m.children&&m.children.length>0&&i.jsxs("div",{className:"text-xs mt-2 p-2 bg-white/70 rounded border border-dashed",children:[i.jsx("strong",{children:"Failure Logic:"})," ",m.children.length," contributing factor",m.children.length>1?"s":""," identified"]}),i.jsx("div",{className:"text-xs mt-1 opacity-60",children:"Hover for confidence explanation"})]}),m.children&&m.children.map(N=>u(N,y+1,m.type))]},m.id)},f=(m,y)=>i.jsxs("div",{className:`p-2 rounded border ${y==="main"?"bg-red-100 border-red-300":"bg-blue-100 border-blue-300"} text-sm`,children:[i.jsx("div",{className:"font-semibold",children:m.label}),i.jsxs("div",{className:"text-xs",children:["Confidence: ",m.confidence,"%"]})]},m.id);return i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(vr,{value:r,onValueChange:m=>s(m),children:i.jsxs(er,{children:[i.jsx(Oe,{value:"tree",children:"Tree View"}),i.jsx(Oe,{value:"fishbone",children:"Fishbone View"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>o(Math.max(.5,a-.1)),children:i.jsx(LI,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>o(Math.min(2,a+.1)),children:i.jsx(FI,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>o(1),children:i.jsx(Iv,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",children:i.jsx(ur,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-white border rounded-lg p-6 min-h-[400px] overflow-auto",style:{transform:`scale(${a})`,transformOrigin:"top left"},children:r==="tree"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Root Cause Analysis Tree"}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-blue-700",children:"Equipment ID:"}),i.jsx("span",{className:"ml-2 font-mono bg-blue-50 px-2 py-1 rounded",children:c.equipmentId})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"Equipment Type:"}),i.jsx("span",{className:"ml-2 text-green-800",children:c.equipmentContext})]})]}),i.jsxs("div",{className:"mt-2 text-center",children:[i.jsx("strong",{className:"text-purple-700",children:"Analysis Confidence:"}),i.jsxs("span",{className:"ml-2 text-purple-800 font-semibold",children:[(e==null?void 0:e.overallConfidence)||0,"%"]})]})]}),i.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[i.jsxs(ne,{variant:c.evidenceAdequacy>=80?"default":c.evidenceAdequacy>=60?"secondary":"destructive",className:"text-sm",children:["Evidence Quality: ",c.evidenceAdequacy,"%"]}),c.eliminatedCauses&&c.eliminatedCauses.length>0&&i.jsxs(ne,{variant:"outline",className:"text-sm",children:[c.eliminatedCauses.length," Causes Eliminated"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-400 rounded"}),i.jsx("span",{children:"Root"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-400 rounded"}),i.jsx("span",{children:"Primary"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-200 border border-blue-400 rounded"}),i.jsx("span",{children:"Secondary"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-400 rounded"}),i.jsx("span",{children:"Evidence"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.originalSymptoms&&c.originalSymptoms.length>0&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border-2 border-blue-300 shadow-md",children:[i.jsxs("h4",{className:"font-bold text-sm text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:"🔍"})," Initial Symptoms",i.jsx(ne,{variant:"default",className:"text-xs",children:"Starting Point"})]}),i.jsx("div",{className:"space-y-2",children:c.originalSymptoms.map((m,y)=>i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-blue-200",children:[i.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:y+1}),i.jsx("span",{className:"text-xs font-medium text-blue-800",children:m})]},y))})]}),c.operatingContext&&c.operatingContext.length>0&&i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[i.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:"⚙️ Operating Context"}),i.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:c.operatingContext.slice(0,4).map((m,y)=>i.jsxs("li",{children:["• ",m]},y))})]})]}),u(c),c.eliminatedCauses&&c.eliminatedCauses.length>0&&i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-red-50 p-6 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsxs("h4",{className:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"text-red-500",children:"❌"}),"Rejected/Eliminated Causes",i.jsxs(ne,{variant:"outline",className:"ml-2",children:[c.eliminatedCauses.length," eliminated"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eliminatedCauses.map((m,y)=>i.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border-2 border-dashed border-gray-400 opacity-70 hover:opacity-90 transition-opacity",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})}),i.jsx("span",{className:"text-sm font-medium line-through text-gray-700",children:m.label}),i.jsx(ne,{variant:"destructive",className:"text-xs ml-auto",children:"REJECTED"})]}),i.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded border-l-4 border-l-red-400 ml-7",children:[i.jsx("strong",{children:"Reason:"})," ",m.evidence[0]||"Engineering logic elimination"]})]},y))}),i.jsx("div",{className:"mt-4 text-xs text-gray-600 text-center italic",children:"These failure modes were systematically eliminated through engineering analysis and evidence review"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fishbone Diagram"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Cause and Effect Analysis"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-6 relative",children:[i.jsx("div",{className:"col-span-3 flex justify-center",children:f(c,"main")}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Primary Causes"}),(p=c.children)==null?void 0:p.filter(m=>m.type==="primary").slice(0,2).map(m=>f(m,"branch"))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Secondary Causes"}),(x=c.children)==null?void 0:x.filter(m=>m.type==="secondary").slice(0,2).map(m=>f(m,"branch"))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Evidence"}),(h=c.children)==null?void 0:h.filter(m=>m.type==="evidence").slice(0,2).map(m=>f(m,"branch"))]})]})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Legend"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),i.jsx("span",{children:"Root Cause"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),i.jsx("span",{children:"Primary Factor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),i.jsx("span",{children:"Secondary Factor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),i.jsx("span",{children:"Evidence"})]})]})]})]})}var ES="Dialog",[RL,zSe]=xr(ES),[f0e,Ui]=RL(ES),IL=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d=!1,u]=cs({prop:r,defaultProp:s,onChange:a});return i.jsx(f0e,{scope:t,triggerRef:l,contentRef:c,contentId:is(),titleId:is(),descriptionId:is(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(f=>!f),[u]),modal:o,children:n})};IL.displayName=ES;var ML="DialogTrigger",$L=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ui(ML,n),a=pt(t,s.triggerRef);return i.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_S(s.open),...r,ref:a,onClick:Le(e.onClick,s.onOpenToggle)})});$L.displayName=ML;var kS="DialogPortal",[p0e,DL]=RL(kS,{forceMount:void 0}),FL=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Ui(kS,t);return i.jsx(p0e,{scope:t,forceMount:n,children:j.Children.map(r,o=>i.jsx(Yr,{present:n||a.open,children:i.jsx(Pv,{asChild:!0,container:s,children:o})}))})};FL.displayName=kS;var Wx="DialogOverlay",LL=j.forwardRef((e,t)=>{const n=DL(Wx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ui(Wx,e.__scopeDialog);return a.modal?i.jsx(Yr,{present:r||a.open,children:i.jsx(h0e,{...s,ref:t})}):null});LL.displayName=Wx;var m0e=Vc("DialogOverlay.RemoveScroll"),h0e=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ui(Wx,n);return i.jsx(SS,{as:m0e,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Xe.div,{"data-state":_S(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),hl="DialogContent",qL=j.forwardRef((e,t)=>{const n=DL(hl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Ui(hl,e.__scopeDialog);return i.jsx(Yr,{present:r||a.open,children:a.modal?i.jsx(x0e,{...s,ref:t}):i.jsx(v0e,{...s,ref:t})})});qL.displayName=hl;var x0e=j.forwardRef((e,t)=>{const n=Ui(hl,e.__scopeDialog),r=j.useRef(null),s=pt(t,n.contentRef,r);return j.useEffect(()=>{const a=r.current;if(a)return LF(a)},[]),i.jsx(zL,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),v0e=j.forwardRef((e,t)=>{const n=Ui(hl,e.__scopeDialog),r=j.useRef(!1),s=j.useRef(!1);return i.jsx(zL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),zL=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ui(hl,n),c=j.useRef(null),d=pt(t,c);return $F(),i.jsxs(i.Fragment,{children:[i.jsx(NS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(kp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_S(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(g0e,{titleId:l.titleId}),i.jsx(b0e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),AS="DialogTitle",BL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ui(AS,n);return i.jsx(Xe.h2,{id:s.titleId,...r,ref:t})});BL.displayName=AS;var UL="DialogDescription",VL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ui(UL,n);return i.jsx(Xe.p,{id:s.descriptionId,...r,ref:t})});VL.displayName=UL;var WL="DialogClose",HL=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ui(WL,n);return i.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,()=>s.onOpenChange(!1))})});HL.displayName=WL;function _S(e){return e?"open":"closed"}var GL="DialogTitleWarning",[BSe,KL]=SB(GL,{contentName:hl,titleName:AS,docsSlug:"dialog"}),g0e=({titleId:e})=>{const t=KL(GL),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},y0e="DialogDescriptionWarning",b0e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KL(y0e).contentName}}.`;return j.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},j0e=IL,w0e=$L,N0e=FL,YL=LL,QL=qL,XL=BL,ZL=VL,S0e=HL;const wc=j0e,Ow=w0e,C0e=N0e,JL=j.forwardRef(({className:e,...t},n)=>i.jsx(YL,{ref:n,className:Ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JL.displayName=YL.displayName;const Xo=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(C0e,{children:[i.jsx(JL,{}),i.jsxs(QL,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(S0e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ys,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xo.displayName=QL.displayName;const Zo=({className:e,...t})=>i.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zo.displayName="DialogHeader";const Jo=j.forwardRef(({className:e,...t},n)=>i.jsx(XL,{ref:n,className:Ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Jo.displayName=XL.displayName;const e3=j.forwardRef(({className:e,...t},n)=>i.jsx(ZL,{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));e3.displayName=ZL.displayName;const He=j.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));He.displayName="Textarea";function t3({analysisData:e,investigationType:t,onNodeUpdate:n,onNodeAdd:r,onNodeDelete:s}){const[a,o]=j.useState("tree"),[l,c]=j.useState(null),[d,u]=j.useState([]),[f,p]=j.useState(1),[x,h]=j.useState(null),m=j.useRef(null);j.useEffect(()=>{e&&y()},[e]);const y=()=>{if(!(e!=null&&e.causes))return;const P=[];if(t==="equipment_failure"){const A={id:"top-event",label:e.topEvent||"Equipment Failure",type:"top_event",confidence:e.confidence||.8,evidence:["Equipment failed during operation"],position:{x:400,y:50}};P.push(A),e.causes.forEach((_,O)=>{const D={id:`cause-${O}`,label:_.description||_.name||"Unknown Cause",type:_.type==="root"?"root_cause":"contributing_factor",confidence:_.confidence||.7,evidence:_.evidence||[],parent:"top-event",category:_.category||"Technical",position:{x:200+O*250,y:200}};P.push(D),_.subCauses&&_.subCauses.forEach((M,V)=>{const q={id:`subcause-${O}-${V}`,label:M.description||M.name,type:"immediate_cause",confidence:M.confidence||.6,evidence:M.evidence||[],parent:`cause-${O}`,position:{x:150+O*250+V*100,y:350}};P.push(q)})})}else{const A={id:"incident",label:"Safety Incident",type:"top_event",confidence:1,evidence:["Incident occurred"],position:{x:400,y:50}};P.push(A),e.eventSequence&&e.eventSequence.forEach((_,O)=>{const D={id:`event-${O}`,label:_.description,type:"contributing_factor",confidence:_.confidence||.8,evidence:_.evidence||[],parent:O===0?"incident":`event-${O-1}`,position:{x:200+O*200,y:150+O*50}};P.push(D)})}u(P)},g=P=>{c(P)},b=P=>{h(P)},v=P=>{if(x){const A=d.map(_=>_.id===x.id?{..._,...P}:_);u(A),n(x.id,P),h(null)}},N=P=>{const A={label:"New Cause",type:"contributing_factor",confidence:.5,evidence:[],parent:P.id,position:{x:P.position.x+100,y:P.position.y+150}},_={...A,id:(()=>{const O=new Date().getTime(),D=O%1e4;return`new-${O}-${D}`})()};u([...d,_]),r(P.id,A)},w=()=>(d.filter(P=>!P.parent||P.type==="top_event"),i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{ref:m,width:"800",height:"600",viewBox:"0 0 800 600",className:"w-full h-full",style:{transform:`scale(${f})`},children:[d.map(P=>{if(!P.parent||!P.position)return null;const A=d.find(_=>_.id===P.parent);return A!=null&&A.position?i.jsx("line",{x1:A.position.x,y1:A.position.y+30,x2:P.position.x,y2:P.position.y,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`line-${P.id}`):null}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),d.map(P=>{if(!P.position)return null;const A=k(P.type),_=(l==null?void 0:l.id)===P.id;return i.jsxs("g",{children:[i.jsx("rect",{x:P.position.x-60,y:P.position.y-15,width:"120",height:"30",rx:"5",fill:A,stroke:_?"#2563eb":"#d1d5db",strokeWidth:_?"3":"1",className:"cursor-pointer",onClick:()=>g(P)}),i.jsx("text",{x:P.position.x,y:P.position.y+5,textAnchor:"middle",fontSize:"12",fill:"white",className:"pointer-events-none",children:P.label.length>15?P.label.substring(0,15)+"...":P.label}),i.jsx("circle",{cx:P.position.x+50,cy:P.position.y-10,r:"8",fill:"#059669",className:"cursor-pointer",onClick:()=>g(P)}),i.jsxs("text",{x:P.position.x+50,y:P.position.y-6,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:[Math.round(P.confidence*100),"%"]})]},P.id)})]})})),C=()=>{const P=["People","Process","Equipment","Environment","Materials","Methods"],A=d.find(_=>_.type==="top_event");return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[i.jsx("line",{x1:"100",y1:"200",x2:"700",y2:"200",stroke:"#374151",strokeWidth:"4"}),i.jsx("rect",{x:"680",y:"170",width:"100",height:"60",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),i.jsx("text",{x:"730",y:"190",textAnchor:"middle",fontSize:"12",fill:"white",children:(A==null?void 0:A.label)||"Problem"}),i.jsx("text",{x:"730",y:"205",textAnchor:"middle",fontSize:"10",fill:"white",children:"Event"}),P.map((_,O)=>{const D=O%2===0,M=150+O*90,V=200,q=D?120:280,R=d.filter(B=>B.category===_||_==="Equipment"&&B.type!=="top_event").slice(0,3);return i.jsxs("g",{children:[i.jsx("line",{x1:M,y1:V,x2:M,y2:q,stroke:"#6b7280",strokeWidth:"3"}),i.jsx("rect",{x:M-30,y:q-15,width:"60",height:"30",rx:"3",fill:"#3b82f6",stroke:"#1e40af"}),i.jsx("text",{x:M,y:q+5,textAnchor:"middle",fontSize:"10",fill:"white",children:_}),R.map((B,Y)=>{const $=M+(-60+Y*30),re=q+(D?-40:40);return i.jsxs("g",{children:[i.jsx("line",{x1:M,y1:q,x2:$,y2:re,stroke:"#9ca3af",strokeWidth:"2"}),i.jsx("rect",{x:$-25,y:re-10,width:"50",height:"20",rx:"3",fill:k(B.type),className:"cursor-pointer",onClick:()=>g(B)}),i.jsx("text",{x:$,y:re+5,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:B.label.substring(0,8)})]},B.id)})]},_)})]})})},E=()=>{const P=d.filter(A=>A.type!=="top_event").sort((A,_)=>A.id.localeCompare(_.id));return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"300",viewBox:"0 0 800 300",className:"w-full h-full",children:[i.jsx("line",{x1:"50",y1:"150",x2:"750",y2:"150",stroke:"#374151",strokeWidth:"3"}),P.map((A,_)=>{const O=80+_*120,D=150,M=_%2===0,V=M?D-40:D+60;return i.jsxs("g",{children:[i.jsx("circle",{cx:O,cy:D,r:"8",fill:k(A.type),stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer",onClick:()=>g(A)}),i.jsx("line",{x1:O,y1:D,x2:O,y2:V+(M?15:-15),stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:O-40,y:V-15,width:"80",height:"30",rx:"5",fill:k(A.type),stroke:"#d1d5db",className:"cursor-pointer",onClick:()=>g(A)}),i.jsx("text",{x:O,y:V,textAnchor:"middle",fontSize:"10",fill:"white",children:A.label.substring(0,12)}),i.jsxs("text",{x:O,y:V+10,textAnchor:"middle",fontSize:"8",fill:"white",children:[Math.round(A.confidence*100),"%"]})]},A.id)})]})})},S=()=>{const P=d.find(O=>O.type==="top_event"),A=d.filter(O=>O.type==="root_cause"),_=d.filter(O=>O.type==="contributing_factor");return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[i.jsx("rect",{x:"350",y:"175",width:"100",height:"50",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),i.jsx("text",{x:"400",y:"195",textAnchor:"middle",fontSize:"12",fill:"white",children:(P==null?void 0:P.label)||"Top Event"}),i.jsx("text",{x:"400",y:"210",textAnchor:"middle",fontSize:"10",fill:"white",children:"Failure"}),A.map((O,D)=>{const M=100+D*60;return i.jsxs("g",{children:[i.jsx("line",{x1:"250",y1:M+15,x2:"350",y2:"200",stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:"150",y:M,width:"100",height:"30",rx:"5",fill:"#f59e0b",className:"cursor-pointer",onClick:()=>g(O)}),i.jsx("text",{x:"200",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:O.label.substring(0,15)})]},O.id)}),_.map((O,D)=>{const M=100+D*60;return i.jsxs("g",{children:[i.jsx("line",{x1:"450",y1:"200",x2:"550",y2:M+15,stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:"550",y:M,width:"100",height:"30",rx:"5",fill:"#ef4444",className:"cursor-pointer",onClick:()=>g(O)}),i.jsx("text",{x:"600",y:M+20,textAnchor:"middle",fontSize:"10",fill:"white",children:O.label.substring(0,15)})]},O.id)})]})})},k=P=>{switch(P){case"root_cause":return"#dc2626";case"contributing_factor":return"#f59e0b";case"immediate_cause":return"#3b82f6";case"top_event":return"#7c2d12";case"barrier":return"#059669";case"threat":return"#b45309";default:return"#6b7280"}},I=P=>{switch(P){case"root_cause":return"Root Cause";case"contributing_factor":return"Contributing Factor";case"immediate_cause":return"Immediate Cause";case"top_event":return"Top Event";case"barrier":return"Barrier";case"threat":return"Threat";default:return"Unknown"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Interactive RCA Diagrams"}),i.jsxs(ne,{variant:"outline",children:[d.length," nodes"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>p(Math.max(.5,f-.1)),children:i.jsx(LI,{className:"h-4 w-4"})}),i.jsxs("span",{className:"text-sm font-mono",children:[Math.round(f*100),"%"]}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>p(Math.min(2,f+.1)),children:i.jsx(FI,{className:"h-4 w-4"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>p(1),children:i.jsx(Iv,{className:"h-4 w-4"})}),i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ur,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),i.jsxs(vr,{value:a,onValueChange:P=>o(P),children:[i.jsxs(er,{className:"grid w-full grid-cols-4",children:[i.jsxs(Oe,{value:"tree",className:"flex items-center gap-2",children:[i.jsx(TU,{className:"h-4 w-4"}),"RCA Tree"]}),i.jsxs(Oe,{value:"fishbone",className:"flex items-center gap-2",children:[i.jsx(Wc,{className:"h-4 w-4"}),"Fishbone"]}),i.jsxs(Oe,{value:"timeline",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Timeline"]}),i.jsxs(Oe,{value:"bowtie",className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"h-4 w-4"}),"Bowtie"]})]}),i.jsx(ke,{value:"tree",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Fault Tree Analysis"})}),i.jsx(G,{children:w()})]})}),i.jsx(ke,{value:"fishbone",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Fishbone Diagram"})}),i.jsx(G,{children:C()})]})}),i.jsx(ke,{value:"timeline",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"ECFA Timeline"})}),i.jsx(G,{children:E()})]})}),i.jsx(ke,{value:"bowtie",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Bowtie Analysis"})}),i.jsx(G,{children:S()})]})})]}),l&&i.jsxs(W,{className:"border-blue-200",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xf,{className:"h-5 w-5 text-blue-600"}),"Node Details: ",l.label]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>b(l),children:[i.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>N(l),children:[i.jsx(zr,{className:"h-4 w-4 mr-1"}),"Add Child"]})]})]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Type"}),i.jsx(ne,{variant:"outline",children:I(l.type)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Confidence"}),i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(l.confidence*100),"%"]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Supporting Evidence"}),i.jsx("div",{className:"space-y-1",children:l.evidence.length>0?l.evidence.map((P,A)=>i.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:P},A)):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No evidence recorded"})})]})]})})]}),i.jsx(wc,{open:!!x,onOpenChange:P=>!P&&h(null),children:i.jsxs(Xo,{children:[i.jsx(Zo,{children:i.jsxs(Jo,{children:["Edit Node: ",x==null?void 0:x.label]})}),x&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Label"}),i.jsx(ve,{defaultValue:x.label,onChange:P=>h({...x,label:P.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Confidence (0-1)"}),i.jsx(ve,{type:"number",min:"0",max:"1",step:"0.1",defaultValue:x.confidence,onChange:P=>h({...x,confidence:parseFloat(P.target.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Evidence (one per line)"}),i.jsx(He,{defaultValue:x.evidence.join(`
`),onChange:P=>h({...x,evidence:P.target.value.split(`
`).filter(A=>A.trim())}),rows:4})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),i.jsx(K,{onClick:()=>v(x),children:"Save Changes"})]})]})]})})]})}var E0e="Label",n3=j.forwardRef((e,t)=>i.jsx(Xe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));n3.displayName=E0e;var r3=n3;const k0e=_p("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=j.forwardRef(({className:e,...t},n)=>i.jsx(r3,{ref:n,className:Ge(k0e(),e),...t}));ae.displayName=r3.displayName;function A0e({analysis:e,onComplete:t}){const[n,r]=j.useState({}),[s,a]=j.useState(!1),{toast:o}=Ot(),l=Ar(),d=(()=>{var y;const x=[];e.equipmentType;const h=e.operatingParameters;(!e.rootCause||e.rootCause.length<20)&&x.push({id:"failure_mode",question:`Can you provide more specific details about what exactly failed in ${e.equipmentId}? (e.g., bearing failure, seal leak, electrical fault)`,type:"text",required:!0,context:"Root cause analysis requires specific failure mode identification"}),h!=null&&h.runtime||(x.push({id:"runtime_hours",question:"How long has the equipment been running since last maintenance?",type:"select",options:["< 1 week","1-4 weeks","1-3 months","3-6 months","6-12 months","> 1 year","Unknown"],required:!1,context:"Runtime hours help establish wear patterns and maintenance intervals"}),x.push({id:"duty_cycle",question:"What is the typical duty cycle of this equipment?",type:"select",options:["Continuous (24/7)","Heavy duty (16-20 hrs/day)","Normal duty (8-12 hrs/day)","Light duty (< 8 hrs/day)","Intermittent/on-demand","Unknown"],required:!1,context:"Duty cycle affects equipment stress and expected life"})),h!=null&&h.environmental||x.push({id:"environmental_factors",question:"What environmental conditions might have contributed to the failure?",type:"multiselect",options:["High temperature","High humidity","Corrosive atmosphere","Dusty environment","Vibration from nearby equipment","Frequent temperature cycling","Chemical exposure","No environmental issues"],required:!1,context:"External factors significantly impact equipment reliability and failure modes"});const m=e.historicalData;return(y=m==null?void 0:m.eventMetadata)!=null&&y.active_alarms||x.push({id:"alarms_before_failure",question:"Were there any alarms or warnings before the failure occurred?",type:"multiselect",options:["High temperature alarm","High vibration alarm","Low pressure alarm","High pressure alarm","Flow deviation alarm","Power consumption alarm","No alarms","Unknown"],required:!1,context:"Alarm history provides critical sequence of events leading to failure"}),(!e.location||e.location.length<10)&&x.push({id:"environment",question:"Please describe the environmental conditions where this equipment operates (temperature, humidity, contamination, etc.)",type:"text",required:!1,context:"External factors significantly impact equipment reliability"}),(!(m!=null&&m.maintenanceRecords)||m.maintenanceRecords.length===0)&&x.push({id:"maintenance_history",question:"When was the last maintenance performed on this equipment and what type of work was done?",type:"text",required:!1,context:"Maintenance history helps identify patterns and potential causes"}),x.push({id:"failure_timing",question:"When did you first notice signs of this problem?",type:"select",options:["Just happened","1-7 days ago","1-4 weeks ago","1-3 months ago","Ongoing issue","Not sure"],required:!0,context:"Failure timeline helps establish causation"}),x.push({id:"operational_changes",question:"Have there been any recent changes to operations, maintenance, or environment that might be related?",type:"text",required:!1,context:"Recent changes often contribute to equipment failures"}),x})(),u=lt({mutationFn:async({id:x,updates:h})=>bt(`/api/analyses/${x}`,{method:"PATCH",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),o({title:"Analysis Updated",description:"Additional evidence has been incorporated into the analysis."}),t==null||t()},onError:()=>{o({title:"Update Failed",description:"Failed to update analysis with additional evidence.",variant:"destructive"})}}),f=async()=>{if(a(!0),d.filter(y=>y.required).filter(y=>!n[y.id]||n[y.id].trim()==="").length>0){o({title:"Missing Required Information",description:"Please answer all required questions before submitting.",variant:"destructive"}),a(!1);return}const h={gatheringResponses:n,enhancedContext:d.reduce((y,g)=>(n[g.id]&&(y[g.id]={question:g.question,answer:n[g.id],context:g.context}),y),{})},m={...e,status:"processing",evidenceGathering:h,confidence:Math.min(95,(e.confidence||0)+10)};setTimeout(async()=>{let y=e.rootCause||"";n.failure_mode&&(y=`${n.failure_mode}. Contributing factors: `),n.operational_changes&&(y+=`Recent operational changes (${n.operational_changes}) likely contributed to the failure. `),n.maintenance_history&&(y+=`Maintenance history indicates: ${n.maintenance_history}. `);const g={...m,status:"completed",rootCause:y||e.rootCause,confidence:Math.min(98,(e.confidence||0)+15),completedAt:new Date().toISOString()};await u.mutateAsync({id:e.id,updates:g}),a(!1)},3e3)},p=(x,h)=>{r(m=>({...m,[x]:h}))};return d.length===0?i.jsx(W,{children:i.jsx(G,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(wt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analysis Complete"}),i.jsx("p",{className:"text-muted-foreground",children:"Sufficient evidence has been gathered for this root cause analysis."})]})})}):i.jsxs(W,{className:"w-full",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(DI,{className:"w-5 h-5"}),i.jsx("span",{children:"Interactive Evidence Gathering"}),i.jsx(ne,{variant:"outline",children:"AI-Powered"})]})}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs(Yt,{children:[i.jsx(Hr,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Our AI has identified areas where additional information could improve the root cause analysis accuracy. Please answer the following questions to enhance the analysis."})]}),i.jsx("div",{className:"space-y-6",children:d.map((x,h)=>{var m,y;return i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm mt-1",children:h+1}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs(ae,{className:"text-sm font-medium",children:[x.question,x.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:x.context}),x.type==="text"&&i.jsx(He,{value:n[x.id]||void 0,onChange:g=>p(x.id,g.target.value),placeholder:"Please provide details...",className:"min-h-[80px]"}),x.type==="number"&&i.jsx(ve,{type:"number",value:n[x.id]||void 0,onChange:g=>p(x.id,g.target.value),placeholder:"Enter value..."}),x.type==="select"&&i.jsxs("select",{value:n[x.id]||void 0,onChange:g=>p(x.id,g.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[i.jsx("option",{value:"SELECT_OPTION",children:"Select an option..."}),(m=x.options)==null?void 0:m.map(g=>i.jsx("option",{value:g,children:g},g))]}),x.type==="multiselect"&&i.jsx("div",{className:"space-y-2",children:(y=x.options)==null?void 0:y.map(g=>{var b;return i.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:((b=n[x.id])==null?void 0:b.includes(g))||!1,onChange:v=>{const N=n[x.id]||"",w=N?N.split(", "):[];v.target.checked?p(x.id,[...w,g].join(", ")):p(x.id,w.filter(C=>C!==g).join(", "))}}),i.jsx("span",{children:g})]},g)})})]})]})},x.id)})}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.filter(x=>x.required).length," required questions •",d.filter(x=>n[x.id]).length,"/",d.length," answered"]}),i.jsx(K,{onClick:f,disabled:s,className:"min-w-[120px]",children:s?i.jsxs(i.Fragment,{children:[i.jsx(zn,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):"Update Analysis"})]})]})]})}function _0e({analysis:e,onSave:t,onCancel:n}){const[r,s]=j.useState({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState(!1),{toast:f}=Ot(),p=Ar(),x=lt({mutationFn:async({id:v,updates:N})=>bt(`/api/analyses/${v}`,{method:"PATCH",body:JSON.stringify(N),headers:{"Content-Type":"application/json"}}),onSuccess:v=>{p.invalidateQueries({queryKey:["/api/analyses"]}),p.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),f({title:"Analysis Updated",description:"Your manual adjustments have been saved successfully."}),t==null||t(v)},onError:()=>{f({title:"Update Failed",description:"Failed to save manual adjustments. Please try again.",variant:"destructive"})}}),h=async()=>{if(!l.trim()){f({title:"Adjustment Reason Required",description:"Please provide a reason for the manual adjustment for audit purposes.",variant:"destructive"});return}u(!0);const v={timestamp:new Date().toISOString(),user:"Current User",reason:l,changes:Object.keys(r).reduce((w,C)=>{const E=e[C],S=r[C];return JSON.stringify(E)!==JSON.stringify(S)&&(w[C]={from:E,to:S}),w},{}),version:e.version?e.version+1:2},N={...r,adjustmentHistory:[...e.adjustmentHistory||[],v],lastModifiedAt:new Date().toISOString(),status:"completed"};await x.mutateAsync({id:e.id,updates:N}),u(!1)},m=()=>{s({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),c(""),o("")},y=()=>{a.trim()&&(s(v=>({...v,recommendations:[...v.recommendations||[],a.trim()]})),o(""))},g=v=>{s(N=>({...N,recommendations:(N.recommendations||[]).filter((w,C)=>C!==v)}))},b=Object.keys(r).some(v=>{const N=e[v],w=r[v];return JSON.stringify(N)!==JSON.stringify(w)});return i.jsxs(W,{className:"w-full",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($v,{className:"w-5 h-5"}),i.jsx("span",{children:"Manual Analysis Adjustment"}),i.jsx(ne,{variant:"outline",children:"Expert Override"})]})}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs(Yt,{children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Manual adjustments will be recorded in the audit trail. Please provide a clear reason for modifications."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"issue-desc",children:"Issue Description"}),i.jsx(He,{id:"issue-desc",value:r.issueDescription||"",onChange:v=>s(N=>({...N,issueDescription:v.target.value})),placeholder:"Describe the issue...",className:"min-h-[80px]"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"equipment-type",children:"Equipment Type"}),i.jsxs(Ue,{value:r.equipmentType||"",onValueChange:v=>s(N=>({...N,equipmentType:v})),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment type"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"pump",children:"Pump"}),i.jsx(J,{value:"motor",children:"Motor"}),i.jsx(J,{value:"compressor",children:"Compressor"}),i.jsx(J,{value:"conveyor",children:"Conveyor"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"equipment-id",children:"Equipment ID"}),i.jsx(ve,{id:"equipment-id",value:r.equipmentId||"",onChange:v=>s(N=>({...N,equipmentId:v.target.value})),placeholder:"e.g., PUMP-A001"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"location",children:"Location"}),i.jsx(ve,{id:"location",value:r.location||"",onChange:v=>s(N=>({...N,location:v.target.value})),placeholder:"e.g., Building A - Level 2"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"root-cause",children:"Root Cause Analysis"}),i.jsx(He,{id:"root-cause",value:r.rootCause||"",onChange:v=>s(N=>({...N,rootCause:v.target.value})),placeholder:"Detailed root cause analysis...",className:"min-h-[120px]"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"priority",children:"Priority Level"}),i.jsxs(Ue,{value:r.priority||"",onValueChange:v=>s(N=>({...N,priority:v})),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select priority"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"low",children:"Low"}),i.jsx(J,{value:"medium",children:"Medium"}),i.jsx(J,{value:"high",children:"High"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"confidence",children:"Confidence Score (%)"}),i.jsx(ve,{id:"confidence",type:"number",min:"0",max:"100",value:r.confidence||"",onChange:v=>s(N=>({...N,confidence:parseInt(v.target.value)||0})),placeholder:"0-100"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(ae,{children:"Recommendations"}),i.jsx("div",{className:"space-y-2",children:(r.recommendations||[]).map((v,N)=>i.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[i.jsx("span",{className:"flex-1 text-sm",children:v}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>g(N),className:"text-red-600 hover:text-red-800",children:"Remove"})]},N))}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ve,{value:a,onChange:v=>o(v.target.value),placeholder:"Add new recommendation...",onKeyPress:v=>v.key==="Enter"&&y()}),i.jsx(K,{onClick:y,variant:"outline",children:"Add"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"reason",children:"Reason for Manual Adjustment *"}),i.jsx(He,{id:"reason",value:l,onChange:v=>c(v.target.value),placeholder:"Explain why manual adjustment is needed (required for audit trail)...",className:"min-h-[80px]"})]}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(K,{variant:"outline",onClick:m,children:[i.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Reset Changes"]}),n&&i.jsx(K,{variant:"ghost",onClick:n,children:"Cancel"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[b&&i.jsxs("div",{className:"flex items-center text-sm text-yellow-600",children:[i.jsx(vt,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),i.jsx(K,{onClick:h,disabled:!b||!l.trim()||d,className:"min-w-[120px]",children:d?i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mv,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})]})}var P0e=jT[" useInsertionEffect ".trim().toString()]||hn;function T0e({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=O0e({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const u=j.useRef(e!==void 0);j.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=j.useCallback(u=>{var f;if(l){const p=R0e(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else a(u)},[l,e,a,o]);return[c,d]}function O0e({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),s=j.useRef(n),a=j.useRef(t);return P0e(()=>{a.current=t},[t]),j.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function R0e(e){return typeof e=="function"}function I0e(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var i3=e=>{const{present:t,children:n}=e,r=M0e(t),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=pt(r.ref,$0e(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:a}):null};i3.displayName="Presence";function M0e(e){const[t,n]=j.useState(),r=j.useRef(null),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=I0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Lm(r.current);a.current=l==="mounted"?d:"none"},[l]),hn(()=>{const d=r.current,u=s.current;if(u!==e){const p=a.current,x=Lm(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),hn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=x=>{const m=Lm(r.current).includes(x.animationName);if(x.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=x=>{x.target===t&&(a.current=Lm(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Lm(e){return(e==null?void 0:e.animationName)||"none"}function $0e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function D0e(e){const t=F0e(e),n=j.forwardRef((r,s)=>{const{children:a,...o}=r,l=j.Children.toArray(a),c=l.find(q0e);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return i.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function F0e(e){const t=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=B0e(s),l=z0e(a,s.props);return s.type!==j.Fragment&&(l.ref=r?_v(r,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L0e=Symbol("radix.slottable");function q0e(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L0e}function z0e(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function B0e(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var U0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PS=U0e.reduce((e,t)=>{const n=D0e(`Primitive.${t}`),r=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Yg="Checkbox",[V0e,USe]=xr(Yg),[W0e,TS]=V0e(Yg);function H0e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[p,x]=T0e({prop:n,defaultProp:s??!1,onChange:c,caller:Yg}),[h,m]=j.useState(null),[y,g]=j.useState(null),b=j.useRef(!1),v=h?!!o||!!h.closest("form"):!0,N={checked:p,disabled:a,setChecked:x,control:h,setControl:m,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:d,defaultChecked:Ha(s)?!1:s,isFormControl:v,bubbleInput:y,setBubbleInput:g};return i.jsx(W0e,{scope:t,...N,children:G0e(f)?f(N):r})}var s3="CheckboxTrigger",a3=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:h}=TS(s3,e),m=pt(s,u),y=j.useRef(c);return j.useEffect(()=>{const g=a==null?void 0:a.form;if(g){const b=()=>f(y.current);return g.addEventListener("reset",b),()=>g.removeEventListener("reset",b)}},[a,f]),i.jsx(PS.button,{type:"button",role:"checkbox","aria-checked":Ha(c)?"mixed":c,"aria-required":d,"data-state":u3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:m,onKeyDown:Le(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Le(n,g=>{f(b=>Ha(b)?!0:!b),h&&x&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})})});a3.displayName=s3;var OS=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return i.jsx(H0e,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(a3,{...f,ref:t,__scopeCheckbox:n}),p&&i.jsx(d3,{__scopeCheckbox:n})]})})});OS.displayName=Yg;var o3="CheckboxIndicator",l3=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=TS(o3,n);return i.jsx(i3,{present:r||Ha(a.checked)||a.checked===!0,children:i.jsx(PS.span,{"data-state":u3(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});l3.displayName=o3;var c3="CheckboxBubbleInput",d3=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:p,setBubbleInput:x}=TS(c3,e),h=pt(n,x),m=Vg(a),y=qv(r);j.useEffect(()=>{const b=p;if(!b)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set,C=!s.current;if(m!==a&&w){const E=new Event("click",{bubbles:C});b.indeterminate=Ha(a),w.call(b,Ha(a)?!1:a),b.dispatchEvent(E)}},[p,m,a,s]);const g=j.useRef(Ha(a)?!1:a);return i.jsx(PS.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:u,form:f,...t,tabIndex:-1,ref:h,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});d3.displayName=c3;function G0e(e){return typeof e=="function"}function Ha(e){return e==="indeterminate"}function u3(e){return Ha(e)?"indeterminate":e?"checked":"unchecked"}const Xn=j.forwardRef(({className:e,...t},n)=>i.jsx(OS,{ref:n,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(l3,{className:Ge("flex items-center justify-center text-current"),children:i.jsx(PI,{className:"h-4 w-4"})})}));Xn.displayName=OS.displayName;function K0e({analysis:e}){const[t,n]=j.useState({format:"pdf",sections:{summary:!0,rcaTree:!0,recommendations:!0,operatingParams:!0,historicalData:!1,evidenceGathering:!1,auditTrail:!1},includeCharts:!0,includeBranding:!0}),[r,s]=j.useState(!1),{toast:a}=Ot(),o=[{value:"pdf",label:"PDF Report",icon:$t,description:"Professional PDF document"},{value:"word",label:"Word Document",icon:OI,description:"Editable Microsoft Word format"},{value:"excel",label:"Excel Workbook",icon:RI,description:"Data tables and charts"},{value:"image",label:"High-Res Image",icon:CU,description:"PNG image for presentations"}],l=[{key:"summary",label:"Executive Summary",description:"Key findings and recommendations"},{key:"rcaTree",label:"RCA Tree Diagram",description:"Visual root cause analysis"},{key:"recommendations",label:"Action Items",description:"Detailed recommendations"},{key:"operatingParams",label:"Operating Parameters",description:"Equipment data and metrics"},{key:"historicalData",label:"Historical Analysis",description:"Maintenance and failure history"},{key:"evidenceGathering",label:"Evidence Gathering",description:"Q&A responses and context"},{key:"auditTrail",label:"Audit Trail",description:"Version history and changes"}],c=async()=>{s(!0);try{await new Promise(b=>setTimeout(b,parseInt("3000")));const x=`RCA_${e.analysisId}_${new Date().toISOString().split("T")[0]}.${t.format}`,h=d(),m=new Blob([h],{type:u(t.format)}),y=URL.createObjectURL(m),g=document.createElement("a");g.href=y,g.download=x,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(y),a({title:"Report Generated",description:`Your ${t.format.toUpperCase()} report has been downloaded successfully.`})}catch{a({title:"Export Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}finally{s(!1)}},d=()=>{var h,m;const x=[];if(t.sections.summary&&x.push(`
=== EXECUTIVE SUMMARY ===
Analysis ID: ${e.analysisId}
Equipment: ${e.equipmentId} (${e.equipmentType})
Location: ${e.location}
Issue: ${e.issueDescription}
Root Cause: ${e.rootCause}
Confidence: ${e.confidence}%
Priority: ${e.priority}
Status: ${e.status}
Completed: ${e.completedAt?new Date(e.completedAt).toLocaleString():"In Progress"}
      `),t.sections.recommendations&&x.push(`
=== RECOMMENDATIONS ===
${(e.recommendations||[]).map((y,g)=>`${g+1}. ${y}`).join(`
`)}
      `),t.sections.operatingParams&&e.operatingParameters){const y=e.operatingParameters;x.push(`
=== OPERATING PARAMETERS ===
${Object.entries(y).map(([g,b])=>typeof b=="object"&&b!==null?`${g.toUpperCase()}:
${Object.entries(b).map(([v,N])=>`  ${v}: ${N}`).join(`
`)}`:`${g}: ${b}`).join(`

`)}
      `)}if(t.sections.historicalData&&e.historicalData){const y=e.historicalData;x.push(`
=== HISTORICAL DATA ===
Maintenance Records:
${((h=y.maintenanceRecords)==null?void 0:h.map(g=>`- ${g.date}: ${g.type} - ${g.description} ($${g.cost})`).join(`
`))||"No records available"}

Previous Failures:
${((m=y.previousFailures)==null?void 0:m.map(g=>`- ${g.date}: ${g.rootCause} (${g.downtime}h downtime)`).join(`
`))||"No previous failures"}
      `)}return x.join(`

`)},u=x=>{switch(x){case"pdf":return"application/pdf";case"word":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"image":return"image/png";default:return"text/plain"}},f=(x,h)=>{n(m=>({...m,sections:{...m.sections,[x]:h}}))},p=o.find(x=>x.value===t.format);return i.jsxs(W,{className:"w-full",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(ur,{className:"w-5 h-5"}),i.jsx("span",{children:"Export Report"}),i.jsx(ne,{variant:"outline",children:"Professional"})]})}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Export Format"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(x=>{const h=x.icon;return i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t.format===x.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(m=>({...m,format:x.value})),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(h,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:x.label}),i.jsx("div",{className:"text-xs text-gray-500",children:x.description})]})]})},x.value)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Report Sections"}),i.jsx("div",{className:"space-y-3",children:l.map(x=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Xn,{id:x.key,checked:t.sections[x.key],onCheckedChange:h=>f(x.key,!!h)}),i.jsxs("div",{className:"grid gap-1.5 leading-none",children:[i.jsx(ae,{htmlFor:x.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:x.label}),i.jsx("p",{className:"text-xs text-muted-foreground",children:x.description})]})]},x.key))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{className:"text-sm font-medium",children:"Additional Options"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Xn,{id:"charts",checked:t.includeCharts,onCheckedChange:x=>n(h=>({...h,includeCharts:!!x}))}),i.jsx(ae,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Xn,{id:"branding",checked:t.includeBranding,onCheckedChange:x=>n(h=>({...h,includeBranding:!!x}))}),i.jsx(ae,{htmlFor:"branding",className:"text-sm",children:"Include company branding"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Report Preview"}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Format:"})," ",p==null?void 0:p.label]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sections:"})," ",Object.values(t.sections).filter(Boolean).length," selected"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Analysis:"})," ",e.analysisId," - ",e.equipmentId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"File size:"})," ~",t.format==="image"?"2-5":"1-3"," MB (estimated)"]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(K,{onClick:c,disabled:r||Object.values(t.sections).every(x=>!x),className:"min-w-[140px]",children:r?i.jsxs(i.Fragment,{children:[i.jsx(ur,{className:"w-4 h-4 mr-2 animate-pulse"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ur,{className:"w-4 h-4 mr-2"}),"Export Report"]})})})]})]})}function Y0e(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var RS="ScrollArea",[f3,VSe]=xr(RS),[Q0e,pi]=f3(RS),p3=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=j.useState(null),[d,u]=j.useState(null),[f,p]=j.useState(null),[x,h]=j.useState(null),[m,y]=j.useState(null),[g,b]=j.useState(0),[v,N]=j.useState(0),[w,C]=j.useState(!1),[E,S]=j.useState(!1),k=pt(t,P=>c(P)),I=Rp(s);return i.jsx(Q0e,{scope:n,type:r,dir:I,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:p,scrollbarX:x,onScrollbarXChange:h,scrollbarXEnabled:w,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:N,children:i.jsx(Xe.div,{dir:I,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});p3.displayName=RS;var m3="ScrollAreaViewport",h3=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,o=pi(m3,n),l=j.useRef(null),c=pt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});h3.displayName=m3;var gs="ScrollAreaScrollbar",IS=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(gs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return j.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(X0e,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(Z0e,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(x3,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(MS,{...r,ref:t}):null});IS.displayName=gs;var X0e=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(gs,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Yr,{present:n||a,children:i.jsx(x3,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Z0e=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(gs,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Xg(()=>c("SCROLL_END"),100),[l,c]=Y0e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),j.useEffect(()=>{const d=s.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const p=()=>{const x=d[u];f!==x&&(c("SCROLL"),o()),f=x};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),i.jsx(Yr,{present:n||l!=="hidden",children:i.jsx(MS,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),x3=j.forwardRef((e,t)=>{const n=pi(gs,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=j.useState(!1),l=e.orientation==="horizontal",c=Xg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return yd(n.viewport,c),yd(n.content,c),i.jsx(Yr,{present:r||a,children:i.jsx(MS,{"data-state":a?"visible":"hidden",...s,ref:t})})}),MS=j.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=pi(gs,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=j3(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,x){return ibe(p,o.current,l,x)}return n==="horizontal"?i.jsx(J0e,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,x=iP(p,l,s.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):n==="vertical"?i.jsx(ebe,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,x=iP(p,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),J0e=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=pi(gs,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=pt(t,c,a.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(g3,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),N3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Gx(o.paddingLeft),paddingEnd:Gx(o.paddingRight)}})}})}),ebe=j.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=pi(gs,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=pt(t,c,a.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(g3,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qg(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const p=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),N3(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Gx(o.paddingTop),paddingEnd:Gx(o.paddingBottom)}})}})}),[tbe,v3]=f3(gs),g3=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...p}=e,x=pi(gs,n),[h,m]=j.useState(null),y=pt(t,k=>m(k)),g=j.useRef(null),b=j.useRef(""),v=x.viewport,N=r.content-r.viewport,w=pn(u),C=pn(c),E=Xg(f,10);function S(k){if(g.current){const I=k.clientX-g.current.left,P=k.clientY-g.current.top;d({x:I,y:P})}}return j.useEffect(()=>{const k=I=>{const P=I.target;(h==null?void 0:h.contains(P))&&w(I,N)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[v,h,N,w]),j.useEffect(C,[r,C]),yd(h,E),yd(x.content,E),i.jsx(tbe,{scope:n,scrollbar:h,hasThumb:s,onThumbChange:pn(a),onThumbPointerUp:pn(o),onThumbPositionChange:C,onThumbPointerDown:pn(l),children:i.jsx(Xe.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:Le(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),g.current=h.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),S(k))}),onPointerMove:Le(e.onPointerMove,S),onPointerUp:Le(e.onPointerUp,k=>{const I=k.target;I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=b.current,x.viewport&&(x.viewport.style.scrollBehavior=""),g.current=null})})})}),Hx="ScrollAreaThumb",y3=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=v3(Hx,e.__scopeScrollArea);return i.jsx(Yr,{present:n||s.hasThumb,children:i.jsx(nbe,{ref:t,...r})})}),nbe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=pi(Hx,n),o=v3(Hx,n),{onThumbPositionChange:l}=o,c=pt(t,f=>o.onThumbChange(f)),d=j.useRef(void 0),u=Xg(()=>{d.current&&(d.current(),d.current=void 0)},100);return j.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(u(),!d.current){const x=sbe(f,l);d.current=x,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,u,l]),i.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),h=f.clientX-x.left,m=f.clientY-x.top;o.onThumbPointerDown({x:h,y:m})}),onPointerUp:Le(e.onPointerUp,o.onThumbPointerUp)})});y3.displayName=Hx;var $S="ScrollAreaCorner",b3=j.forwardRef((e,t)=>{const n=pi($S,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(rbe,{...e,ref:t}):null});b3.displayName=$S;var rbe=j.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=pi($S,n),[a,o]=j.useState(0),[l,c]=j.useState(0),d=!!(a&&l);return yd(s.scrollbarX,()=>{var f;const u=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),yd(s.scrollbarY,()=>{var f;const u=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?i.jsx(Xe.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gx(e){return e?parseInt(e,10):0}function j3(e,t){const n=e/t;return isNaN(n)?0:n}function Qg(e){const t=j3(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ibe(e,t,n,r="ltr"){const s=Qg(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return w3([c,d],f)(e)}function iP(e,t,n="ltr"){const r=Qg(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Cw(e,c);return w3([0,o],[0,l])(d)}function w3(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function N3(e,t){return e>0&&e<t}var sbe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Xg(e,t){const n=pn(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function yd(e,t){const n=pn(t);hn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var S3=p3,abe=h3,obe=b3;const C3=j.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(S3,{ref:r,className:Ge("relative overflow-hidden",e),...n,children:[i.jsx(abe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(E3,{}),i.jsx(obe,{})]}));C3.displayName=S3.displayName;const E3=j.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(IS,{ref:r,orientation:t,className:Ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(y3,{className:"relative flex-1 rounded-full bg-border"})}));E3.displayName=IS.displayName;function lbe({analysis:e,onRevert:t}){const[n,r]=j.useState(null),{toast:s}=Ot(),o=(()=>{const h=[];h.push({timestamp:e.createdAt.toString(),user:"AI System",reason:"Initial root cause analysis",changes:{},version:1,type:"initial_creation"});const m=e.adjustmentHistory||[];h.push(...m.map(g=>({...g,type:"manual_adjustment"})));const y=e.evidenceGatheringHistory||[];return h.push(...y.map(g=>({...g,type:"evidence_gathering"}))),h.sort((g,b)=>new Date(b.timestamp).getTime()-new Date(g.timestamp).getTime())})(),l=Math.max(...o.map(h=>h.version),1),c=h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=h=>{switch(h){case"initial_creation":return i.jsx($t,{className:"w-4 h-4"});case"manual_adjustment":return i.jsx(Hc,{className:"w-4 h-4"});case"ai_reanalysis":return i.jsx(Wc,{className:"w-4 h-4"});case"evidence_gathering":return i.jsx(xf,{className:"w-4 h-4"});default:return i.jsx(zn,{className:"w-4 h-4"})}},u=h=>{switch(h){case"initial_creation":return"bg-green-100 text-green-800";case"manual_adjustment":return"bg-blue-100 text-blue-800";case"ai_reanalysis":return"bg-purple-100 text-purple-800";case"evidence_gathering":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=h=>{switch(h){case"initial_creation":return"Created";case"manual_adjustment":return"Manual Edit";case"ai_reanalysis":return"AI Re-analysis";case"evidence_gathering":return"Evidence Update";default:return"Unknown"}},p=h=>{if(h===l){s({title:"Already Current Version",description:"This is already the current version of the analysis.",variant:"destructive"});return}t&&(t(h),s({title:"Version Reverted",description:`Analysis has been reverted to version ${h}.`}))},x=h=>Object.keys(h).length===0?i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No specific changes recorded"}):i.jsx("div",{className:"space-y-2",children:Object.entries(h).map(([m,y])=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[m.replace(/([A-Z])/g," $1").toLowerCase(),":"]}),i.jsxs("div",{className:"ml-2 space-y-1",children:[i.jsxs("div",{className:"text-red-600",children:[i.jsx("span",{className:"font-medium",children:"From:"})," ",typeof y.from=="object"?JSON.stringify(y.from,null,2):String(y.from||"Empty").substring(0,100)]}),i.jsxs("div",{className:"text-green-600",children:[i.jsx("span",{className:"font-medium",children:"To:"})," ",typeof y.to=="object"?JSON.stringify(y.to,null,2):String(y.to||"Empty").substring(0,100)]})]})]},m))});return i.jsxs(W,{className:"w-full",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(Fs,{className:"w-5 h-5"}),i.jsx("span",{children:"Version History & Audit Trail"}),i.jsxs(ne,{variant:"outline",children:["v",l]})]})}),i.jsxs(G,{children:[i.jsxs(Yt,{className:"mb-6",children:[i.jsx(Fs,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Complete audit trail of all changes made to this analysis. Click on any version to view details."})]}),i.jsx(C3,{className:"h-[600px] pr-4",children:i.jsx("div",{className:"space-y-4",children:o.map((h,m)=>i.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer ${n===h.version?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(n===h.version?null:h.version),children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full ${u(h.type)}`,children:d(h.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsxs("span",{className:"font-medium",children:["Version ",h.version]}),i.jsx(ne,{variant:"outline",className:"text-xs",children:f(h.type)}),h.version===l&&i.jsx(ne,{className:"text-xs",children:"Current"})]}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Hc,{className:"w-3 h-3"}),i.jsx("span",{children:h.user})]}),i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(zn,{className:"w-3 h-3"}),i.jsx("span",{children:c(h.timestamp)})]})]})}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Reason:"})," ",h.reason]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),r(n===h.version?null:h.version)},children:i.jsx(xf,{className:"w-4 h-4"})}),h.version!==l&&i.jsxs(K,{variant:"outline",size:"sm",onClick:y=>{y.stopPropagation(),p(h.version)},children:[i.jsx(Iv,{className:"w-4 h-4 mr-1"}),"Revert"]})]})]}),n===h.version&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[i.jsx("h4",{className:"font-medium text-sm mb-3",children:"Changes Made:"}),x(h.changes)]})]},h.version))})}),o.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Fs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No version history available"})]})]})]})}function cbe(e){const t=dbe(e),n=j.forwardRef((r,s)=>{const{children:a,...o}=r,l=j.Children.toArray(a),c=l.find(fbe);if(c){const d=c.props.children,u=l.map(f=>f===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:f);return i.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function dbe(e){const t=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const o=mbe(s),l=pbe(a,s.props);return s.type!==j.Fragment&&(l.ref=r?_v(r,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ube=Symbol("radix.slottable");function fbe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ube}function pbe(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mbe(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k3=hbe.reduce((e,t)=>{const n=cbe(`Primitive.${t}`),r=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),DS="Progress",FS=100,[xbe,WSe]=xr(DS),[vbe,gbe]=xbe(DS),A3=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=ybe,...o}=e;(s||s===0)&&!sP(s)&&console.error(bbe(`${s}`,"Progress"));const l=sP(s)?s:FS;r!==null&&!aP(r,l)&&console.error(jbe(`${r}`,"Progress"));const c=aP(r,l)?r:null,d=Kx(c)?a(c,l):void 0;return i.jsx(vbe,{scope:n,value:c,max:l,children:i.jsx(k3.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":T3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});A3.displayName=DS;var _3="ProgressIndicator",P3=j.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=gbe(_3,n);return i.jsx(k3.div,{"data-state":T3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});P3.displayName=_3;function ybe(e,t){return`${Math.round(e/t*100)}%`}function T3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kx(e){return typeof e=="number"}function sP(e){return Kx(e)&&!isNaN(e)&&e>0}function aP(e,t){return Kx(e)&&!isNaN(e)&&e<=t&&e>=0}function bbe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${FS}\`.`}function jbe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${FS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var O3=A3,wbe=P3;const Lr=j.forwardRef(({className:e,value:t,...n},r)=>i.jsx(O3,{ref:r,className:Ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(wbe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Lr.displayName=O3.displayName;function Nbe({analysis:e,className:t=""}){var d;const[n,r]=j.useState("asset_analysis"),a=(()=>{var p,x;const u=e.evidenceData||{},f=e.analysisResults||{};return[{id:"asset_analysis",title:"Asset Identification & Context",status:"completed",confidence:95,details:[`Equipment Type: ${u.equipment_type||"Not specified"}`,`Equipment ID: ${u.equipment_tag||"Not specified"}`,`Location: ${e.whereHappened||u.operating_location||"Not specified"}`,`Category: ${u.equipment_category||"Not specified"}`],timestamp:e.createdAt},{id:"symptom_analysis",title:"Symptom Analysis & Localization",status:"completed",confidence:88,details:[`Primary Problem: ${u.observed_problem||e.whatHappened||"Not specified"}`,`Symptom Location: ${u.symptom_location||"Not localized"}`,`Problem Type: ${u.problem_type||"Not classified"}`,`Detection Method: ${u.detection_method||"Not specified"}`]},{id:"cause_mapping",title:"Failure Mode & Cause Mapping",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Analysis Method: ${f.analysisMethod||"Fault Tree Analysis"}`,`Causes Identified: ${((p=f.causes)==null?void 0:p.length)||0} potential causes evaluated`,"Knowledge base correlation completed","Statistical analysis performed","Industry best practices applied"]},{id:"evidence_correlation",title:"Evidence Correlation & Validation",status:"completed",confidence:Math.round(parseFloat(e.evidenceCompleteness||"80")),details:[`Evidence Completeness: ${Math.round(parseFloat(e.evidenceCompleteness||"80"))}%`,`Maintenance History: ${u.last_maintenance_type||"Available"}`,`Operating Conditions: ${u.environmental_conditions||"Within limits"}`,"Data correlation analysis completed"]},{id:"root_cause_selection",title:"Root Cause Selection & Validation",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Top Event: ${f.topEvent||"Equipment Failure"}`,`Primary Causes: ${((x=f.causes)==null?void 0:x.map(h=>h.description).join(", "))||"Equipment degradation"}`,`Confidence Score: ${Math.round((f.confidence||.8)*100)}%`,"Validation completed against ISO 14224 standards"]},{id:"recommendations",title:"Actionable Recommendations",status:"completed",confidence:85,details:(e.recommendations||["Review operating parameters and implement process controls"]).map((h,m)=>`${m+1}. ${h}`)}]})(),o=a.find(u=>u.id===n),l=u=>{switch(u){case"completed":return i.jsx(wt,{className:"w-5 h-5 text-green-500"});case"in_progress":return i.jsx(ki,{className:"w-5 h-5 text-blue-500"});case"failed":return i.jsx(vt,{className:"w-5 h-5 text-red-500"});default:return i.jsx(EU,{className:"w-5 h-5 text-gray-400"})}},c=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600";return i.jsxs("div",{className:`space-y-6 ${t}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_t,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-2xl font-bold",children:"AI Reasoning Process"}),i.jsxs(ne,{variant:"outline",className:"ml-auto",children:["Confidence: ",Math.round((e.confidence||((d=e.analysisResults)==null?void 0:d.confidence)||.8)*100),"%"]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($i,{className:"w-5 h-5"}),"Analysis Progress"]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Overall Completion"}),i.jsxs("span",{children:[Math.round(a.filter(u=>u.status==="completed").length/a.length*100),"%"]})]}),i.jsx(Lr,{value:a.filter(u=>u.status==="completed").length/a.length*100,className:"h-2"}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:["✓ ",a.filter(u=>u.status==="completed").length," Completed"]}),i.jsxs("span",{children:["⟳ ",a.filter(u=>u.status==="in_progress").length," In Progress"]}),i.jsxs("span",{children:["○ ",a.filter(u=>u.status==="pending").length," Pending"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:a.map((u,f)=>i.jsx(K,{variant:n===u.id?"default":"outline",size:"sm",onClick:()=>r(u.id),className:"flex items-center gap-2 h-auto p-3",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l(u.status),i.jsx("span",{className:"text-xs text-center leading-tight",children:u.title.split(" ")[0]}),u.confidence&&i.jsxs(ne,{variant:"secondary",className:"text-xs px-1",children:[Math.round(u.confidence),"%"]})]})},u.id))}),o&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[l(o.status),o.title,o.confidence&&i.jsxs(ne,{variant:"outline",className:`ml-auto ${c(o.confidence)}`,children:[Math.round(o.confidence),"% Confidence"]})]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Analysis Details"}),i.jsx("ul",{className:"space-y-1",children:o.details.map((u,f)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Pp,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsx("span",{children:u})]},f))})]}),o.evidence&&o.evidence.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(NU,{className:"w-4 h-4"}),"Evidence Analysis"]}),i.jsx("div",{className:"grid gap-2",children:o.evidence.map((u,f)=>i.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${u.type==="supporting"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium text-sm",children:[u.type==="supporting"?"✓":"✗"," ",u.description||u.type]}),i.jsxs(ne,{variant:"outline",className:"text-xs",children:["Weight: ",u.weight||"N/A"]})]}),u.value&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Value: ",u.value]})]},f))})]}),o.timestamp&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Completed: ",new Date(o.timestamp).toLocaleString()]})]})]}),e.missingDataPrompts&&e.missingDataPrompts.length>0&&i.jsxs(Yt,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(vt,{className:"w-4 h-4"}),i.jsxs(Qt,{children:[i.jsx("div",{className:"font-medium",children:"Additional Data Needed"}),i.jsx("div",{className:"text-sm mt-1 space-y-1",children:e.missingDataPrompts.map((u,f)=>i.jsxs("div",{children:["• ",u.question]},f))})]})]}),e.manualAdjustments&&e.manualAdjustments.length>0&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),"Manual Adjustments & Expert Overrides"]})}),i.jsx(G,{children:i.jsx("div",{className:"space-y-3",children:e.manualAdjustments.map((u,f)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{variant:u.expertOverride?"destructive":"secondary",children:u.expertOverride?"Expert Override":"Manual Adjustment"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:"Reasoning:"}),i.jsx("div",{className:"text-muted-foreground",children:u.reasoning})]})]},f))})})]})]})}function Sbe({analysis:e,onDataProvided:t}){const[n,r]=j.useState({}),[s,a]=j.useState(!1),{toast:o}=Ot(),l=Ar(),c=e.missingDataPrompts||[],d=lt({mutationFn:async h=>bt(`/api/analyses/${e.id}/provide-data`,{method:"POST",body:JSON.stringify(h)}),onSuccess:()=>{o({title:"Data Provided Successfully",description:"The analysis will be updated with your additional information."}),l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),t==null||t()},onError:h=>{o({title:"Failed to Submit Data",description:h.message,variant:"destructive"})}}),u=(h,m)=>{r(y=>({...y,[h]:m}))},f=async()=>{a(!0);try{await d.mutateAsync({responses:n,additionalData:{timestamp:new Date().toISOString(),source:"user_input"}})}finally{a(!1)}},p=h=>{switch(h){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},x=h=>{var y;const m=n[h.id]||"";switch(h.type){case"equipment":return i.jsxs("div",{className:"space-y-3",children:[h.options&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Please select the option that best describes your situation:"}),i.jsxs(Ue,{value:m,onValueChange:g=>u(h.id,g),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select an option"})}),i.jsx(Be,{children:h.options.map((g,b)=>i.jsx(J,{value:g,children:g},b))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Additional Equipment Details:"}),i.jsx(He,{value:m,onChange:g=>u(h.id,g.target.value),placeholder:"Provide any additional equipment details, specifications, or context...",rows:3})]})]});case"operating_data":return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Missing Parameters:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:(y=h.missing)==null?void 0:y.map((g,b)=>i.jsx(ne,{variant:"outline",className:"justify-center",children:g.replace(/_/g," ").toUpperCase()},b))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Operating Parameter Values:"}),i.jsx(He,{value:m,onChange:g=>u(h.id,g.target.value),placeholder:"Please provide the missing operating parameters (e.g., Temperature: 180°F, Pressure: 25 psig, Flow: 100 gpm)...",rows:4})]})]});case"symptoms":return i.jsxs("div",{className:"space-y-3",children:[h.context&&i.jsxs(Yt,{children:[i.jsx(IE,{className:"w-4 h-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"Current Analysis:"})," ",h.context]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Detailed Symptom Description:"}),i.jsx(He,{value:m,onChange:g=>u(h.id,g.target.value),placeholder:"Describe the symptoms in detail: when they started, how they manifested, any patterns you noticed...",rows:4})]})]});default:return i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Response:"}),i.jsx(He,{value:m,onChange:g=>u(h.id,g.target.value),placeholder:"Please provide the requested information...",rows:3})]})}};return c.length===0?null:i.jsxs(W,{className:"border-yellow-200 bg-yellow-50",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"w-5 h-5 text-yellow-600"}),"Additional Information Needed",i.jsxs(ne,{variant:"outline",className:"ml-auto",children:[c.length," ",c.length===1?"Question":"Questions"]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"The AI analysis requires additional information to improve accuracy and confidence. Please provide the requested details below."})]}),i.jsxs(G,{className:"space-y-6",children:[c.map((h,m)=>i.jsxs(W,{className:"border-yellow-200",children:[i.jsx(X,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx(Z,{className:"text-base",children:h.question}),i.jsxs(ne,{variant:p(h.priority),children:[h.priority," Priority"]})]})}),i.jsx(G,{children:x(h)})]},h.id||m)),i.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:i.jsxs(K,{onClick:f,disabled:s||Object.keys(n).length===0,className:"flex items-center gap-2",children:[s?i.jsx(Ub,{className:"w-4 h-4 animate-spin"}):i.jsx(IU,{className:"w-4 h-4"}),s?"Updating Analysis...":"Submit Additional Data"]})}),i.jsxs(Yt,{children:[i.jsx(IE,{className:"w-4 h-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"How this helps:"})," Your additional information will be used to re-run the analysis with higher confidence. The AI will correlate your inputs with the existing data to provide more accurate root cause identification and recommendations."]})]})]})]})}function Cbe(){var y,g,b,v,N,w,C,E,S,k,I,P,A,_,O,D;const e=wl(),[t,n]=j.useState("overview"),[r,s]=j.useState(!1),a=e==null?void 0:e.id,o=a==null?void 0:a.startsWith("INC-"),l=o?a.replace("INC-",""):a,c=o?`/api/incidents/${l}`:`/api/investigations/${a}`,{data:d,isLoading:u,error:f}=Ae({queryKey:[c],enabled:!!a,queryFn:async()=>{const M=await fetch(c);if(!M.ok)throw new Error(`Failed to fetch ${o?"incident":"analysis"}`);return M.json()}}),p=d?o?{analysisId:`INC-${d.id}`,equipmentId:d.equipmentId||"Unknown",location:d.location||"Unknown",priority:d.priority||"medium",confidence:((y=d.aiAnalysis)==null?void 0:y.overallConfidence)||0,analysisResults:d.aiAnalysis,whatHappened:d.symptomDescription||d.title,evidenceData:{equipment_type:d.equipmentType,equipment_tag:d.equipmentId,operating_location:d.location},whereHappened:d.location,rootCauses:((b=(g=d.aiAnalysis)==null?void 0:g.rootCauses)==null?void 0:b.map(M=>M.description))||[],recommendations:((N=(v=d.aiAnalysis)==null?void 0:v.recommendations)==null?void 0:N.map(M=>M.description))||[],status:d.workflowStatus,investigationType:"Equipment Failure",updatedAt:d.updatedAt}:d:null;if(u)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})]})});if(f||!p)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:"Failed to load analysis"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o?`Incident ID: ${a}`:`Investigation ID: ${a}`}),i.jsxs(K,{onClick:()=>window.history.back(),children:[i.jsx(ds,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})});const x=M=>{switch(M){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},h=M=>M>=90?"confidence-high":M>=70?"confidence-medium":"confidence-low",m=M=>new Date(M).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(K,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:"Back"})]}),i.jsx(Bs,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:p.analysisId}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.equipmentId," • ",p.location]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{className:x(p.priority||"medium"),children:(p.priority||"medium").toUpperCase()}),i.jsxs(ne,{className:h(p.confidence||0),children:[p.confidence,"% Confidence"]}),i.jsxs(K,{variant:"outline",onClick:()=>s(!r),children:[i.jsx($v,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r?i.jsx(_0e,{analysis:p,onSave:()=>s(!1),onCancel:()=>s(!1)}):i.jsxs(vr,{value:t,onValueChange:n,className:"w-full",children:[i.jsxs(er,{className:"grid w-full grid-cols-8 mb-8",children:[i.jsx(Oe,{value:"overview",children:"Overview"}),i.jsxs(Oe,{value:"diagrams",children:[i.jsx(Wc,{className:"w-4 h-4 mr-1"}),"Diagrams"]}),i.jsx(Oe,{value:"rca-tree",children:"RCA Tree"}),i.jsx(Oe,{value:"evidence",children:"Evidence"}),i.jsx(Oe,{value:"reasoning",children:"AI Reasoning"}),i.jsx(Oe,{value:"export",children:"Export"}),i.jsx(Oe,{value:"history",children:"History"}),i.jsx(Oe,{value:"settings",children:"Settings"})]}),i.jsxs(ke,{value:"overview",className:"space-y-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Analysis Summary"})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Issue Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.whatHappened||((w=p.evidenceData)==null?void 0:w.observed_problem)||"No description available"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Equipment Details"}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Type:"})," ",((C=p.evidenceData)==null?void 0:C.equipment_type)||"Not specified"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"ID:"})," ",((E=p.evidenceData)==null?void 0:E.equipment_tag)||"Not specified"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Location:"})," ",p.whereHappened||((S=p.evidenceData)==null?void 0:S.operating_location)||"Not specified"]})]})]})]}),i.jsx(Bs,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Root Cause Analysis"}),p.analysisResults?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failure Analysis"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Failure Mode:"})," ",p.analysisResults.failureMode||"Not specified"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Severity:"})," ",p.analysisResults.severity||"Not specified"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Confidence:"})," ",p.analysisResults.overallConfidence||0,"%"]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm mb-3",children:"Root Causes"}),i.jsx("div",{className:"space-y-3",children:(p.analysisResults.rootCauses||[]).map((M,V)=>i.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h6",{className:"font-medium text-sm",children:M.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-800",children:"Root Cause"}),i.jsxs("span",{className:"text-xs font-medium",children:[M.confidence,"%"]})]})]}),M.evidence&&M.evidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Evidence:"}),i.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.evidence.map((q,R)=>i.jsx("li",{children:typeof q=="string"?q:q.description||""},R))})]})]},V))})]})]}):(k=p.analysisResults)!=null&&k.structuredAnalysis?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-sm mb-2",children:"Symptom Statement"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.analysisResults.structuredAnalysis.symptomStatement})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm mb-3",children:"Causes Analysis"}),i.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.causesConsidered.map((M,V)=>i.jsxs("div",{className:`p-3 border-l-4 ${M.classification==="root_cause"?"border-red-500 bg-red-50":M.classification==="contributing"?"border-yellow-500 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h6",{className:"font-medium text-sm",children:M.cause}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.classification==="root_cause"?"bg-red-100 text-red-800":M.classification==="contributing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:M.classification.replace("_"," ")}),i.jsxs("span",{className:"text-xs font-medium",children:[Math.round(M.confidence*100),"%"]})]})]}),M.supportingEvidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Supporting Evidence:"}),i.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:M.supportingEvidence.map((q,R)=>i.jsx("li",{children:q},R))})]}),M.contradictingEvidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Contradicting Evidence:"}),i.jsx("ul",{className:"text-xs text-red-600 list-disc list-inside",children:M.contradictingEvidence.map((q,R)=>i.jsx("li",{children:q},R))})]}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:M.reasoning})]},V))})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[i.jsx("h5",{className:"font-medium text-sm mb-2 text-blue-800",children:"Conclusion"}),i.jsx("p",{className:"text-sm text-blue-700",children:p.analysisResults.structuredAnalysis.conclusion})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:((P=(I=p.analysisResults)==null?void 0:I.causes)==null?void 0:P.map(M=>M.description).join("; "))||p.rootCauses||"Analysis in progress..."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),(A=p.analysisResults)!=null&&A.recommendations?i.jsx("div",{className:"space-y-3",children:p.analysisResults.recommendations.map((M,V)=>i.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h6",{className:"font-medium text-sm",children:M.title}),i.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:[M.priority," priority"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("strong",{children:"Description:"})," ",M.description]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Timeframe:"})," ",M.timeframe||"Not specified"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Cost:"})," ",M.estimatedCost||"Not specified"]})]},V))}):(O=(_=p.analysisResults)==null?void 0:_.structuredAnalysis)!=null&&O.recommendations?i.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.recommendations.map((M,V)=>i.jsxs("div",{className:`p-3 border-l-4 ${M.priority==="high"?"border-red-500 bg-red-50":M.priority==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h6",{className:"font-medium text-sm",children:M.action}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded ${M.priority==="high"?"bg-red-100 text-red-800":M.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[M.priority," priority"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("strong",{children:"Timeframe:"})," ",M.timeframe]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Rationale:"})," ",M.rationale]})]},V))}):i.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:(p.recommendations||[]).map((M,V)=>i.jsx("li",{children:M},V))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[p.confidence||((D=p.analysisResults)==null?void 0:D.overallConfidence)||0,"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence Score"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.status||"completed"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.updatedAt?m(p.updatedAt):"In Progress"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]})]}),p.evidenceData&&Object.keys(p.evidenceData).length>0&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Operating Parameters"})}),i.jsx(G,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(p.evidenceData).filter(([M])=>!["equipment_tag","equipment_type","operating_location","observed_problem"].includes(M)).map(([M,V])=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2 capitalize",children:M.replace(/_/g," ")}),i.jsx("div",{className:"text-sm text-muted-foreground",children:typeof V=="boolean"?V?"YES":"NO":String(V)})]},M))})})]})]}),i.jsx(ke,{value:"diagrams",children:i.jsx(t3,{analysisData:p.analysisResults,investigationType:p.investigationType,onNodeUpdate:(M,V)=>{console.log("Node updated:",M,V)},onNodeAdd:(M,V)=>{console.log("Node added to parent:",M,V)},onNodeDelete:M=>{console.log("Node deleted:",M)}})}),i.jsx(ke,{value:"reasoning",children:i.jsx(Nbe,{analysis:p})}),i.jsx(ke,{value:"rca-tree",children:i.jsx(OL,{analysis:p,onEdit:()=>s(!0)})}),i.jsx(ke,{value:"evidence",children:i.jsx(A0e,{analysis:p})}),i.jsx(ke,{value:"missing-data",children:i.jsx(Sbe,{analysis:p,onDataProvided:()=>{window.location.reload()}})}),i.jsx(ke,{value:"export",children:i.jsx(K0e,{analysis:p})}),i.jsx(ke,{value:"history",children:i.jsx(lbe,{analysis:p})}),i.jsx(ke,{value:"settings",className:"space-y-6",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(Qn,{className:"w-5 h-5"}),i.jsx("span",{children:"Analysis Settings"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Auto Re-analysis"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically trigger re-analysis when new evidence is added"})]}),i.jsx("input",{type:"checkbox",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Confidence Threshold"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum confidence score for auto-completion"})]}),i.jsxs("select",{className:"border rounded px-3 py-1",children:[i.jsx("option",{value:"80",children:"80%"}),i.jsx("option",{value:"85",children:"85%"}),i.jsx("option",{value:"90",children:"90%"}),i.jsx("option",{value:"95",children:"95%"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notification Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for analysis status changes"})]}),i.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})})]})})]})})]})}function Ebe(){var b,v;const[e,t]=j.useState([]),[n,r]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(!1),[u,f]=j.useState(!1),[p,x]=j.useState(null);async function h(){const N=await fetch("/api/admin/ai/providers",{credentials:"include",headers:{"x-user-id":"test-admin"}});if(!N.ok){x(`Load failed: ${N.status}`);return}const w=await N.json();t(w??[])}j.useEffect(()=>{h()},[]);async function m(){try{f(!0),x(null);const N={provider:n.trim().toLowerCase(),modelId:s.trim(),apiKey:o,setActive:!!c},w=await fetch("/api/admin/ai/providers",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"test-admin"},credentials:"include",body:JSON.stringify(N)}),C=await w.json().catch(()=>({}));if(!w.ok){x((C==null?void 0:C.message)||`Create failed: HTTP ${w.status}`);return}x("Provider saved."),l(""),r(""),a(""),d(!1),await h()}finally{f(!1)}}async function y(N){f(!0),x(null);try{const w=await fetch(`/api/admin/ai/providers/${N}/test`,{method:"POST",credentials:"include",headers:{"x-user-id":"test-admin"}}),C=await w.json().catch(()=>({}));if(!w.ok){x((C==null?void 0:C.message)||`Test failed: HTTP ${w.status}`);return}x(C.ok?`✅ Test OK (${C.latencyMs??"?"} ms)`:`❌ ${C.message||"Test failed"}`)}finally{f(!1)}}async function g(N){f(!0),x(null);try{const w=await fetch(`/api/admin/ai/providers/${N}`,{method:"PATCH",headers:{"Content-Type":"application/json","x-user-id":"test-admin"},credentials:"include",body:JSON.stringify({setActive:!0})}),C=await w.json().catch(()=>({}));if(!w.ok){x((C==null?void 0:C.message)||`Activate failed: HTTP ${w.status}`);return}await h(),x("Active provider updated.")}finally{f(!1)}}return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 rounded-xl border",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Add AI Provider"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[i.jsxs("label",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm",children:"Provider (e.g., openai, anthropic, google)"}),i.jsx("input",{className:"border rounded px-3 py-2",value:n,onChange:N=>r(N.target.value),placeholder:"openai"})]}),i.jsxs("label",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm",children:"Model ID"}),i.jsx("input",{className:"border rounded px-3 py-2",value:s,onChange:N=>a(N.target.value),placeholder:"gpt-4o-mini"})]}),i.jsxs("label",{className:"flex flex-col md:col-span-2",children:[i.jsx("span",{className:"text-sm",children:"API Key (stored encrypted, never shown again)"}),i.jsx("input",{className:"border rounded px-3 py-2",value:o,type:"password",onChange:N=>l(N.target.value),placeholder:"sk-..."})]}),i.jsxs("label",{className:"inline-flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:N=>d(N.target.checked)}),i.jsx("span",{children:"Set as active provider"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{disabled:u||!n||!s||!o,onClick:m,className:"px-4 py-2 rounded bg-black text-white disabled:opacity-50",children:"Save Provider"})}),p&&i.jsx("div",{className:"mt-3 text-sm",children:p})]}),i.jsxs("div",{className:"p-4 rounded-xl border",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Current AI Providers"}),i.jsx("div",{className:"mt-3 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left border-b",children:[i.jsx("th",{className:"py-2 pr-4",children:"Provider"}),i.jsx("th",{className:"py-2 pr-4",children:"Model"}),i.jsx("th",{className:"py-2 pr-4",children:"Active"}),i.jsx("th",{className:"py-2 pr-4",children:"🔒 Key"}),i.jsx("th",{className:"py-2 pr-4",children:"Actions"})]})}),i.jsxs("tbody",{children:[e.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-4 text-neutral-500",children:"No AI providers configured."})}),e.map(N=>i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"py-2 pr-4",children:N.provider}),i.jsx("td",{className:"py-2 pr-4",children:N.modelId}),i.jsx("td",{className:"py-2 pr-4",children:N.active?"Yes":"No"}),i.jsx("td",{className:"py-2 pr-4",children:N.hasKey?"Yes":"No"}),i.jsxs("td",{className:"py-2 pr-4 flex gap-2",children:[i.jsx("button",{className:"px-3 py-1 border rounded",disabled:u||!N.hasKey,onClick:()=>y(N.id),children:"Test"}),!N.active&&i.jsx("button",{className:"px-3 py-1 border rounded",disabled:u,onClick:()=>g(N.id),children:"Set Active"})]})]},N.id))]})]})})]}),i.jsxs("div",{className:"text-xs text-neutral-500",children:["BUILD_ID: ",((v=(b=import.meta)==null?void 0:b.env)==null?void 0:v.VITE_BUILD_ID)??"dev"]})]})}function kbe(){return i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"AI Settings"}),i.jsx(Ebe,{})]})}function Abe(){const e=hr();Rn();const{toast:t}=Ot(),[n,r]=j.useState({whatHappened:"",whereHappened:"",whenHappened:"",consequence:"",detectedBy:""}),s=lt({mutationFn:async l=>await(await bt("/api/investigations/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),onSuccess:l=>{t({title:"Investigation Created",description:"Problem definition complete. Now select investigation type."}),e(`/investigation/${l.investigationId}/type`)},onError:l=>{t({title:"Error",description:"Failed to create investigation. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.whatHappened||!n.whereHappened||!n.whenHappened){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}s.mutate(n)},o=(l,c)=>{r(d=>({...d,[l]:c}))};return i.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"New RCA Investigation"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 1 of 4: Problem Definition"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between max-w-2xl",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-semibold",children:"1"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Problem Definition"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Current Step"})]})]}),i.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"2"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Investigation Type"}),i.jsx("p",{className:"text-xs text-gray-400",children:"ECFA vs Fault Tree"})]})]}),i.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"3"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Evidence Collection"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Structured Questionnaire"})]})]}),i.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"4"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"AI Analysis"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Results & Recommendations"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),"Problem Definition"]}),i.jsx(ge,{children:"Provide initial information about the incident or failure to investigate."})]}),i.jsx(G,{children:i.jsxs("form",{onSubmit:a,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"whatHappened",className:"text-base font-medium",children:"What happened? *"}),i.jsx(He,{id:"whatHappened",placeholder:"Describe the incident, failure, or problem that occurred...",value:n.whatHappened,onChange:l=>o("whatHappened",l.target.value),required:!0,className:"mt-2 min-h-[100px]"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"whereHappened",className:"text-base font-medium",children:"Where did it happen? *"}),i.jsx(ve,{id:"whereHappened",placeholder:"Location, area, system, or equipment",value:n.whereHappened,onChange:l=>o("whereHappened",l.target.value),required:!0,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"whenHappened",className:"text-base font-medium",children:"When did it happen? *"}),i.jsx(ve,{id:"whenHappened",type:"datetime-local",value:n.whenHappened,onChange:l=>o("whenHappened",l.target.value),required:!0,className:"mt-2"})]})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"consequence",className:"text-base font-medium",children:"What is the consequence or impact?"}),i.jsx(He,{id:"consequence",placeholder:"Describe the consequences, impacts, or effects...",value:n.consequence,onChange:l=>o("consequence",l.target.value),className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"detectedBy",className:"text-base font-medium",children:"Who detected or reported the event?"}),i.jsx(ve,{id:"detectedBy",placeholder:"Name, role, or system that detected the issue",value:n.detectedBy,onChange:l=>o("detectedBy",l.target.value),className:"mt-2"})]}),i.jsx(K,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Creating Investigation...":i.jsxs(i.Fragment,{children:["Continue to Investigation Type",i.jsx(Nr,{className:"h-4 w-4 ml-2"})]})})]})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Yt,{children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"New Methodology:"})," This investigation follows a structured approach with mandatory investigation type selection (ECFA vs Fault Tree) that determines all subsequent workflow, forms, and analysis logic."]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{className:"text-lg",children:"Investigation Types"})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[i.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA (Event-Causal Factor Analysis)"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For all safety and environmental incidents. Focuses on event chronology, barriers, and contributing factors."})]}),i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[i.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Fault Tree Analysis (FTA)"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For plant asset or equipment failures. Uses structured questionnaire with 8 sections and ISO 14224 taxonomy."})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{className:"text-lg",children:"What happens next?"})}),i.jsxs(G,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Investigation Type Selection"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mandatory choice between ECFA and Fault Tree Analysis"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Dynamic Evidence Collection"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured forms based on your investigation type selection"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"AI Analysis & Results"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analysis only after 80% evidence completion requirement"})]})]})]})]})]})]})]})}function _be(){Rn();const e=hr(),t=wl(),{toast:n}=Ot(),r=t==null?void 0:t.id,[s,a]=j.useState(""),{data:o,isLoading:l}=Ae({queryKey:["/api/investigations",r],enabled:!!r}),c=lt({mutationFn:async f=>bt(`/api/investigations/${r}/type`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investigationType:f})}),onSuccess:f=>{n({title:"Investigation Type Set",description:`${s==="safety_environmental"?"ECFA":"Fault Tree Analysis"} workflow activated.`}),e(`/investigation/${r}/evidence`)},onError:f=>{n({title:"Error",description:"Failed to set investigation type. Please try again.",variant:"destructive"})}}),d=f=>{a(f)},u=()=>{if(!s){n({title:"Selection Required",description:"Please select an investigation type to continue.",variant:"destructive"});return}c.mutate(s)};return l?i.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading investigation..."})]})})}):o?i.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Investigation Type Selection"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 4: Choose your investigation methodology"})]}),i.jsxs(W,{className:"mb-8",children:[i.jsx(X,{children:i.jsx(Z,{className:"text-lg",children:"Problem Summary"})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"What happened:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whatHappened})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Where:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whereHappened})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"When:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(o.whenHappened).toLocaleString()})]}),o.consequence&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Impact:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.consequence})]})]})})]}),i.jsx("div",{className:"mb-8",children:i.jsxs(Yt,{className:"border-2 border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[i.jsx(vt,{className:"h-5 w-5 text-amber-600"}),i.jsxs(Qt,{className:"text-base font-medium text-amber-800 dark:text-amber-200",children:[i.jsx("strong",{children:"Mandatory Selection:"})," Is this investigation related to a safety or environmental incident?",i.jsx("br",{}),i.jsx("span",{className:"text-sm font-normal mt-2 block",children:"This choice is mandatory and sets all downstream logic, forms, analysis methods, and outputs."})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(W,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="safety_environmental"?"ring-2 ring-red-500 bg-red-50 dark:bg-red-950 border-red-200":"hover:border-red-300"}`,onClick:()=>d("safety_environmental"),children:[i.jsx(X,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:i.jsx(Qa,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx(Z,{className:"text-xl text-red-700 dark:text-red-300",children:"YES - Safety/External"}),i.jsx(ne,{variant:"destructive",className:"mt-1",children:"ECFA Methodology"})]})]}),s==="safety_environmental"&&i.jsx(wt,{className:"h-6 w-6 text-red-600"})]})}),i.jsxs(G,{children:[i.jsx(ge,{className:"text-base mb-4",children:"For all safety and environmental incidents requiring Event-Causal Factor Analysis."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA Framework includes:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Event chronology and timeline reconstruction"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Immediate, underlying, and root causes analysis"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Barriers and contributing factors assessment"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Risk/severity assessment and regulatory reporting"]})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[i.jsx("strong",{children:"Use for:"})," Personal injury, environmental releases, fires/explosions, process safety events, near misses, security incidents"]})})]})]}),i.jsxs(W,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s==="equipment_failure"?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950 border-blue-200":"hover:border-blue-300"}`,onClick:()=>d("equipment_failure"),children:[i.jsx(X,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:i.jsx(n1,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx(Z,{className:"text-xl text-blue-700 dark:text-blue-300",children:"NO - Equipment/Process Failure"}),i.jsx(ne,{variant:"secondary",className:"mt-1 bg-blue-100 text-blue-800",children:"Fault Tree Analysis"})]})]}),s==="equipment_failure"&&i.jsx(wt,{className:"h-6 w-6 text-blue-600"})]})}),i.jsxs(G,{children:[i.jsx(ge,{className:"text-base mb-4",children:"For plant asset or equipment failures using structured Fault Tree Analysis with ISO 14224 taxonomy."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"8-Section Questionnaire:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"General Information (Equipment taxonomy & hierarchy)"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Failure/Event Details & Operating Mode"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Symptom & Evidence Collection"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Operating & Maintenance History"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Equipment-Specific Parameters (conditional)"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Human Factors & Materials/Spares"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Contributing/External Factors"]})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[i.jsx("strong",{children:"Use for:"})," Pump failures, motor issues, valve problems, process equipment breakdowns, instrument malfunctions"]})})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(K,{onClick:u,disabled:!s||c.isPending,size:"lg",className:"min-w-[200px]",children:c.isPending?"Setting Investigation Type...":i.jsxs(i.Fragment,{children:["Continue to Evidence Collection",i.jsx(Nr,{className:"h-4 w-4 ml-2"})]})})}),s&&i.jsxs(W,{className:"mt-8",children:[i.jsx(X,{children:i.jsx(Z,{className:"text-lg",children:"Next: Evidence Collection"})}),i.jsxs(G,{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Based on your selection, you'll complete:"}),s==="safety_environmental"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"ECFA-Specific Forms:"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsx("li",{children:"• Event classification and timeline"}),i.jsx("li",{children:"• Immediate and root cause analysis"}),i.jsx("li",{children:"• Barrier analysis and contributing factors"}),i.jsx("li",{children:"• Risk assessment and regulatory status"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Fault Tree Questionnaire (8 Sections):"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsx("li",{children:"• Equipment information with ISO 14224 taxonomy"}),i.jsx("li",{children:"• Dynamic questions based on equipment type"}),i.jsx("li",{children:"• Equipment-specific parameters (pressure, temperature, etc.)"}),i.jsx("li",{children:"• Validation ensures 80% completion before analysis"})]})]})]})]})]}):i.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:i.jsxs(Yt,{children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Investigation not found. Please check the URL or start a new investigation."})]})})}const Pbe="modulepreload",Tbe=function(e){return"/"+e},oP={},Qe=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Tbe(c),c in oP)return;oP[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Pbe,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Obe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function bd(e,t,n){const r=Rbe(e),{webkitRelativePath:s}=e,a=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof r.path!="string"&&lP(r,"path",a),lP(r,"relativePath",a),r}function Rbe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),s=Obe.get(r);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function lP(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ibe=[".DS_Store","Thumbs.db"];function Mbe(e){return Al(this,void 0,void 0,function*(){return Yx(e)&&$be(e.dataTransfer)?qbe(e.dataTransfer,e.type):Dbe(e)?Fbe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Lbe(e):[]})}function $be(e){return Yx(e)}function Dbe(e){return Yx(e)&&Yx(e.target)}function Yx(e){return typeof e=="object"&&e!==null}function Fbe(e){return Rw(e.target.files).map(t=>bd(t))}function Lbe(e){return Al(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>bd(n))})}function qbe(e,t){return Al(this,void 0,void 0,function*(){if(e.items){const n=Rw(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(zbe));return cP(R3(r))}return cP(Rw(e.files).map(n=>bd(n)))})}function cP(e){return e.filter(t=>Ibe.indexOf(t.name)===-1)}function Rw(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function zbe(e){if(typeof e.webkitGetAsEntry!="function")return dP(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?I3(t):dP(e,t)}function R3(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?R3(n):[n]],[])}function dP(e,t){return Al(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const a=yield e.getAsFileSystemHandle();if(a===null)throw new Error(`${e} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,bd(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return bd(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function Bbe(e){return Al(this,void 0,void 0,function*(){return e.isDirectory?I3(e):Ube(e)})}function I3(e){const t=e.createReader();return new Promise((n,r)=>{const s=[];function a(){t.readEntries(o=>Al(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(Bbe));s.push(l),a()}else try{const l=yield Promise.all(s);n(l)}catch(l){r(l)}}),o=>{r(o)})}a()})}function Ube(e){return Al(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const s=bd(r,e.fullPath);t(s)},r=>{n(r)})})})}var N0=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0};function uP(e){return Hbe(e)||Wbe(e)||$3(e)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hbe(e){if(Array.isArray(e))return Iw(e)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){M3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e,t){return Ybe(e)||Kbe(e,t)||$3(e,t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3(e,t){if(e){if(typeof e=="string")return Iw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(e,t)}}function Iw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Ybe(e){if(Array.isArray(e))return e}var Qbe=typeof N0=="function"?N0:N0.default,Xbe="file-invalid-type",Zbe="file-too-large",Jbe="file-too-small",eje="too-many-files",tje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:Xbe,message:"File type must be ".concat(r)}},mP=function(t){return{code:Zbe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},hP=function(t){return{code:Jbe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},nje={code:eje,message:"Too many files"};function D3(e,t){var n=e.type==="application/x-moz-file"||Qbe(e,t);return[n,n?null:tje(t)]}function F3(e,t,n){if(Po(e.size))if(Po(t)&&Po(n)){if(e.size>n)return[!1,mP(n)];if(e.size<t)return[!1,hP(t)]}else{if(Po(t)&&e.size<t)return[!1,hP(t)];if(Po(n)&&e.size>n)return[!1,mP(n)]}return[!0,null]}function Po(e){return e!=null}function rje(e){var t=e.files,n=e.accept,r=e.minSize,s=e.maxSize,a=e.multiple,o=e.maxFiles,l=e.validator;return!a&&t.length>1||a&&o>=1&&t.length>o?!1:t.every(function(c){var d=D3(c,n),u=ep(d,1),f=u[0],p=F3(c,r,s),x=ep(p,1),h=x[0],m=l?l(c):null;return f&&h&&!m})}function Qx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function qm(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function xP(e){e.preventDefault()}function ije(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function sje(e){return e.indexOf("Edge/")!==-1}function aje(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ije(e)||sje(e)}function Wi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return t.some(function(l){return!Qx(r)&&l&&l.apply(void 0,[r].concat(a)),Qx(r)})}}function oje(){return"showOpenFilePicker"in window}function lje(e){if(Po(e)){var t=Object.entries(e).filter(function(n){var r=ep(n,2),s=r[0],a=r[1],o=!0;return L3(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(q3))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var s=ep(r,2),a=s[0],o=s[1];return pP(pP({},n),{},M3({},a,o))},{});return[{description:"Files",accept:t}]}return e}function cje(e){if(Po(e))return Object.entries(e).reduce(function(t,n){var r=ep(n,2),s=r[0],a=r[1];return[].concat(uP(t),[s],uP(a))},[]).filter(function(t){return L3(t)||q3(t)}).join(",")}function dje(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function uje(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function L3(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function q3(e){return/^.*\.[\w]+$/.test(e)}var fje=["children"],pje=["open"],mje=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],hje=["refKey","onChange","onClick"];function xje(e){return yje(e)||gje(e)||z3(e)||vje()}function vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yje(e){if(Array.isArray(e))return Mw(e)}function S0(e,t){return wje(e)||jje(e,t)||z3(e,t)||bje()}function bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3(e,t){if(e){if(typeof e=="string")return Mw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function wje(e){if(Array.isArray(e))return e}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){$w(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xx(e,t){if(e==null)return{};var n=Nje(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nje(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var LS=j.forwardRef(function(e,t){var n=e.children,r=Xx(e,fje),s=qS(r),a=s.open,o=Xx(s,pje);return j.useImperativeHandle(t,function(){return{open:a}},[a]),F.createElement(j.Fragment,null,n(tn(tn({},o),{},{open:a})))});LS.displayName="Dropzone";var B3={disabled:!1,getFilesFromEvent:Mbe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};LS.defaultProps=B3;LS.propTypes={children:Ke.func,accept:Ke.objectOf(Ke.arrayOf(Ke.string)),multiple:Ke.bool,preventDropOnDocument:Ke.bool,noClick:Ke.bool,noKeyboard:Ke.bool,noDrag:Ke.bool,noDragEventsBubbling:Ke.bool,minSize:Ke.number,maxSize:Ke.number,maxFiles:Ke.number,disabled:Ke.bool,getFilesFromEvent:Ke.func,onFileDialogCancel:Ke.func,onFileDialogOpen:Ke.func,useFsAccessApi:Ke.bool,autoFocus:Ke.bool,onDragEnter:Ke.func,onDragLeave:Ke.func,onDragOver:Ke.func,onDrop:Ke.func,onDropAccepted:Ke.func,onDropRejected:Ke.func,onError:Ke.func,validator:Ke.func};var Dw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function qS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=tn(tn({},B3),e),n=t.accept,r=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,x=t.onDropAccepted,h=t.onDropRejected,m=t.onFileDialogCancel,y=t.onFileDialogOpen,g=t.useFsAccessApi,b=t.autoFocus,v=t.preventDropOnDocument,N=t.noClick,w=t.noKeyboard,C=t.noDrag,E=t.noDragEventsBubbling,S=t.onError,k=t.validator,I=j.useMemo(function(){return cje(n)},[n]),P=j.useMemo(function(){return lje(n)},[n]),A=j.useMemo(function(){return typeof y=="function"?y:gP},[y]),_=j.useMemo(function(){return typeof m=="function"?m:gP},[m]),O=j.useRef(null),D=j.useRef(null),M=j.useReducer(Sje,Dw),V=S0(M,2),q=V[0],R=V[1],B=q.isFocused,Y=q.isFileDialogActive,$=j.useRef(typeof window<"u"&&window.isSecureContext&&g&&oje()),re=function(){!$.current&&Y&&setTimeout(function(){if(D.current){var te=D.current.files;te.length||(R({type:"closeDialog"}),_())}},300)};j.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[D,Y,_,$]);var ee=j.useRef([]),Q=function(te){O.current&&O.current.contains(te.target)||(te.preventDefault(),ee.current=[])};j.useEffect(function(){return v&&(document.addEventListener("dragover",xP,!1),document.addEventListener("drop",Q,!1)),function(){v&&(document.removeEventListener("dragover",xP),document.removeEventListener("drop",Q))}},[O,v]),j.useEffect(function(){return!r&&b&&O.current&&O.current.focus(),function(){}},[O,b,r]);var ie=j.useCallback(function(L){S?S(L):console.error(L)},[S]),de=j.useCallback(function(L){L.preventDefault(),L.persist(),An(L),ee.current=[].concat(xje(ee.current),[L.target]),qm(L)&&Promise.resolve(s(L)).then(function(te){if(!(Qx(L)&&!E)){var se=te.length,ce=se>0&&rje({files:te,accept:I,minSize:o,maxSize:a,multiple:l,maxFiles:c,validator:k}),je=se>0&&!ce;R({isDragAccept:ce,isDragReject:je,isDragActive:!0,type:"setDraggedFiles"}),d&&d(L)}}).catch(function(te){return ie(te)})},[s,d,ie,E,I,o,a,l,c,k]),Ce=j.useCallback(function(L){L.preventDefault(),L.persist(),An(L);var te=qm(L);if(te&&L.dataTransfer)try{L.dataTransfer.dropEffect="copy"}catch{}return te&&f&&f(L),!1},[f,E]),le=j.useCallback(function(L){L.preventDefault(),L.persist(),An(L);var te=ee.current.filter(function(ce){return O.current&&O.current.contains(ce)}),se=te.indexOf(L.target);se!==-1&&te.splice(se,1),ee.current=te,!(te.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),qm(L)&&u&&u(L))},[O,u,E]),xe=j.useCallback(function(L,te){var se=[],ce=[];L.forEach(function(je){var mt=D3(je,I),Dt=S0(mt,2),xn=Dt[0],Gd=Dt[1],xo=F3(je,o,a),la=S0(xo,2),Kd=la[0],_l=la[1],Yd=k?k(je):null;if(xn&&Kd&&!Yd)se.push(je);else{var Pl=[Gd,_l];Yd&&(Pl=Pl.concat(Yd)),ce.push({file:je,errors:Pl.filter(function(W5){return W5})})}}),(!l&&se.length>1||l&&c>=1&&se.length>c)&&(se.forEach(function(je){ce.push({file:je,errors:[nje]})}),se.splice(0)),R({acceptedFiles:se,fileRejections:ce,isDragReject:ce.length>0,type:"setFiles"}),p&&p(se,ce,te),ce.length>0&&h&&h(ce,te),se.length>0&&x&&x(se,te)},[R,l,I,o,a,c,p,x,h,k]),pe=j.useCallback(function(L){L.preventDefault(),L.persist(),An(L),ee.current=[],qm(L)&&Promise.resolve(s(L)).then(function(te){Qx(L)&&!E||xe(te,L)}).catch(function(te){return ie(te)}),R({type:"reset"})},[s,xe,ie,E]),z=j.useCallback(function(){if($.current){R({type:"openDialog"}),A();var L={multiple:l,types:P};window.showOpenFilePicker(L).then(function(te){return s(te)}).then(function(te){xe(te,null),R({type:"closeDialog"})}).catch(function(te){dje(te)?(_(te),R({type:"closeDialog"})):uje(te)?($.current=!1,D.current?(D.current.value=null,D.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(te)});return}D.current&&(R({type:"openDialog"}),A(),D.current.value=null,D.current.click())},[R,A,_,g,xe,ie,P,l]),ue=j.useCallback(function(L){!O.current||!O.current.isEqualNode(L.target)||(L.key===" "||L.key==="Enter"||L.keyCode===32||L.keyCode===13)&&(L.preventDefault(),z())},[O,z]),fe=j.useCallback(function(){R({type:"focus"})},[]),Te=j.useCallback(function(){R({type:"blur"})},[]),we=j.useCallback(function(){N||(aje()?setTimeout(z,0):z())},[N,z]),Ye=function(te){return r?null:te},st=function(te){return w?null:Ye(te)},Nt=function(te){return C?null:Ye(te)},An=function(te){E&&te.stopPropagation()},Bn=j.useMemo(function(){return function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=L.refKey,se=te===void 0?"ref":te,ce=L.role,je=L.onKeyDown,mt=L.onFocus,Dt=L.onBlur,xn=L.onClick,Gd=L.onDragEnter,xo=L.onDragOver,la=L.onDragLeave,Kd=L.onDrop,_l=Xx(L,mje);return tn(tn($w({onKeyDown:st(Wi(je,ue)),onFocus:st(Wi(mt,fe)),onBlur:st(Wi(Dt,Te)),onClick:Ye(Wi(xn,we)),onDragEnter:Nt(Wi(Gd,de)),onDragOver:Nt(Wi(xo,Ce)),onDragLeave:Nt(Wi(la,le)),onDrop:Nt(Wi(Kd,pe)),role:typeof ce=="string"&&ce!==""?ce:"presentation"},se,O),!r&&!w?{tabIndex:0}:{}),_l)}},[O,ue,fe,Te,we,de,Ce,le,pe,w,C,r]),T=j.useCallback(function(L){L.stopPropagation()},[]),U=j.useMemo(function(){return function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=L.refKey,se=te===void 0?"ref":te,ce=L.onChange,je=L.onClick,mt=Xx(L,hje),Dt=$w({accept:I,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ye(Wi(ce,pe)),onClick:Ye(Wi(je,T)),tabIndex:-1},se,D);return tn(tn({},Dt),mt)}},[D,n,l,pe,r]);return tn(tn({},q),{},{isFocused:B&&!r,getRootProps:Bn,getInputProps:U,rootRef:O,inputRef:D,open:Ye(z)})}function Sje(e,t){switch(t.type){case"focus":return tn(tn({},e),{},{isFocused:!0});case"blur":return tn(tn({},e),{},{isFocused:!1});case"openDialog":return tn(tn({},Dw),{},{isFileDialogActive:!0});case"closeDialog":return tn(tn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return tn(tn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return tn(tn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return tn({},Dw);default:return e}}function gP(){}function yP(){useLocation();const[e,t]=j.useState(null),[n,r]=j.useState([]),[s,a]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(0);j.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("incident");C&&t(parseInt(C))},[]);const{data:u,isLoading:f}=Ae({queryKey:["/api/incidents",e],enabled:!!e}),p=lt({mutationFn:async w=>{const{apiPost:C}=await Qe(async()=>{const{apiPost:S}=await import("./api-DV25CDRD.js");return{apiPost:S}},[]),E=await C(`/incidents/${w.id}/generate-evidence-categories`,{equipmentGroup:w.equipmentGroup,equipmentType:w.equipmentType,evidenceChecklist:w.evidenceChecklist});if(!E.ok)throw new Error(`Failed to generate categories: ${E.status}`);return await E.json()},onSuccess:w=>{console.log("Evidence categories generated:",w),w&&w.categories&&Array.isArray(w.categories)?(r(w.categories),w.categories.length>0&&a(w.categories[0].id)):(console.error("Invalid evidence categories format:",w),r([]))},onError:w=>{console.error("Failed to generate evidence categories:",w)}}),x=lt({mutationFn:async w=>{const C=new FormData;C.append("files",w.file),C.append("categoryId",w.categoryId),C.append("incidentId",e.toString()),w.description&&C.append("description",w.description);const{api:E}=await Qe(async()=>{const{api:k}=await import("./api-DV25CDRD.js");return{api:k}},[]),S=await E(`/incidents/${e}/upload-evidence`,{method:"POST",body:C});if(!S.ok){const k=await S.text();throw console.error("Upload failed:",k),new Error(`Upload failed: ${S.status}`)}return await S.json()},onSuccess:(w,C)=>{r(E=>E.map(S=>S.id===C.categoryId?{...S,files:[...S.files,w.file]}:S)),l(!1)}});j.useEffect(()=>{u&&Array.isArray(n)&&n.length===0&&u.id&&u.title&&u.equipmentGroup&&u.equipmentType&&p.mutate(u)},[u]),j.useEffect(()=>{if(Array.isArray(n)&&n.length>0){const w=n.filter(P=>P.required),C=w.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),E=n.filter(P=>!P.required),S=E.filter(P=>{var A;return P.files.length>0||P.isUnavailable&&((A=P.unavailableReason)==null?void 0:A.trim())}),k=w.length>0?C.length/w.length*70:70,I=E.length>0?S.length/E.length*30:30;d(Math.round(k+I))}},[n]);const h=(w,C,E)=>{w.forEach(S=>{l(!0),x.mutate({file:S,categoryId:C,description:E})})},m=(w,C)=>{r(E=>E.map(S=>S.id===w?{...S,files:S.files.filter(k=>k.id!==C)}:S))},y=(w,C,E)=>{r(S=>S.map(k=>k.id===w?{...k,isUnavailable:C,unavailableReason:E||"",files:C?[]:k.files}:k))},g=n.filter(w=>w.required).every(w=>{var C;return w.files.length>0||w.isUnavailable&&((C=w.unavailableReason)==null?void 0:C.trim())}),b=hr(),v=()=>{e&&(console.log("[EVIDENCE COLLECTION] Proceeding to MANDATORY Stage 3B Human Review"),b(`/human-review?incident=${e}`))};if(f||!u)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})});const N=n.find(w=>w.id===s);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K,{variant:"ghost",onClick:()=>b("/"),children:"← Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 4: Evidence Collection"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",(u==null?void 0:u.id)||"Loading..."]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(W,{className:"mb-8",children:i.jsxs(X,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),(u==null?void 0:u.title)||"Loading..."]}),i.jsxs(ge,{children:["Equipment: ",(u==null?void 0:u.equipmentGroup)||"Unknown"," → ",(u==null?void 0:u.equipmentType)||"Unknown"," (",(u==null?void 0:u.equipmentId)||"Unknown",")"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[c,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Evidence Collected"})]})]}),i.jsx(Lr,{value:c,className:"mt-4"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-base",children:"Evidence Categories"}),i.jsxs(ge,{children:[n.filter(w=>w.required).length," required, ",n.filter(w=>!w.required).length," optional"]})]}),i.jsx(G,{className:"space-y-2",children:n.map(w=>i.jsxs("button",{onClick:()=>a(w.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${s===w.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${w.isUnavailable?"bg-orange-50 border-orange-200":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:w.name}),w.isUnavailable?i.jsx(Hr,{className:"h-4 w-4 text-orange-600"}):w.files.length>0?i.jsx(wt,{className:"h-4 w-4 text-green-600"}):w.required?i.jsx(vt,{className:"h-4 w-4 text-orange-500"}):i.jsx("div",{className:"h-4 w-4"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{variant:w.required?"destructive":"secondary",className:"text-xs",children:w.required?"Required":"Optional"}),w.isUnavailable&&i.jsx(ne,{variant:"outline",className:"text-xs bg-orange-100 border-orange-300",children:"Not Available"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:w.isUnavailable?"Documented":`${w.files.length}/${w.maxFiles} files`})]})]},w.id))})]})}),i.jsx("div",{className:"lg:col-span-3",children:N&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[N.name,i.jsx(ne,{variant:N.required?"destructive":"secondary",children:N.required?"Required":"Optional"}),N.isUnavailable&&i.jsx(ne,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800",children:"Not Available"})]}),i.jsx(ge,{children:N.description})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:N.isUnavailable?"Evidence documented as unavailable":`${N.files.length} / ${N.maxFiles} files`})]})}),i.jsx(G,{children:i.jsx(Cje,{category:N,onFileUpload:h,onRemoveFile:m,isUploading:o,onUnavailabilityChange:y})})]})})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(K,{variant:"outline",onClick:()=>b(`/evidence-checklist?incident=${e}`),children:"← Back to Evidence Checklist"}),i.jsx(K,{onClick:v,disabled:!g,className:"flex items-center gap-2",children:i.jsxs(i.Fragment,{children:["Proceed to Human Review (Stage 3B)",i.jsx(Pp,{className:"h-4 w-4"})]})})]}),!g&&n.length>0&&i.jsxs(Yt,{className:"mt-4 border-amber-200 bg-amber-50",children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"Requirements:"})," For each required evidence category, either upload files OR mark as unavailable with explanation."]})]})]})]})}function Cje({category:e,onFileUpload:t,onRemoveFile:n,isUploading:r,onUnavailabilityChange:s}){const[a,o]=j.useState(""),[l,c]=j.useState(e.unavailableReason||""),{getRootProps:d,getInputProps:u,isDragActive:f}=qS({onDrop:p=>{p.length>0&&(t(p,e.id,a),o(""))},accept:e.acceptedTypes.reduce((p,x)=>{const m={pdf:["application/pdf"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],csv:["text/csv"],txt:["text/plain"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}[x]||[x];return{...p,...m.reduce((y,g)=>({...y,[g]:[]}),{})}},{}),maxFiles:e.maxFiles-e.files.length,disabled:e.files.length>=e.maxFiles||r});return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"border rounded-lg p-4 bg-orange-50 border-orange-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Xn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:p=>{s(e.id,p,l)}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ae,{htmlFor:`unavailable-${e.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[i.jsx(Hr,{className:"h-4 w-4 text-orange-600"}),"This evidence is not available or accessible"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&i.jsxs("div",{className:"mt-3",children:[i.jsx(ae,{htmlFor:`reason-${e.id}`,className:"text-sm font-medium",children:"Why is this evidence unavailable? *"}),i.jsx(He,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:l,onChange:p=>{c(p.target.value),s(e.id,!0,p.target.value)},className:"mt-1",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&e.files.length<e.maxFiles&&i.jsxs("div",{...d(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("input",{...u()}),i.jsx(Xa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-lg font-medium",children:f?"Drop files here":"Drag files here or click to browse"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Accepted: ",e.acceptedTypes.join(", ")]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",e.maxFiles," files, ",e.files.length," uploaded"]})]})]}),!e.isUnavailable&&e.files.length<e.maxFiles&&i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"file-description",className:"text-sm font-medium",children:"Optional Description"}),i.jsx(He,{id:"file-description",placeholder:"Describe what this evidence shows...",value:a,onChange:p=>o(p.target.value),className:"mt-1",rows:2})]}),e.files.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["Uploaded Files",e.isUnavailable&&i.jsx(ne,{variant:"outline",className:"text-xs bg-amber-100 border-amber-300",children:"Files uploaded but evidence marked unavailable"})]}),e.files.map(p=>i.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${e.isUnavailable?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($t,{className:`h-5 w-5 ${e.isUnavailable?"text-amber-600":"text-green-600"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:p.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.size/1024/1024).toFixed(2)," MB • ",p.type]}),p.description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(K,{variant:"outline",size:"sm",asChild:!0,children:i.jsx("a",{href:p.url,download:!0,children:i.jsx(ur,{className:"h-4 w-4"})})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>n(e.id,p.id),children:i.jsx(Ys,{className:"h-4 w-4"})})]})]},p.id)),e.isUnavailable&&i.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border border-amber-200",children:[i.jsx("strong",{children:"Note:"}),' Evidence is marked as unavailable but files are still uploaded. You can remove files or uncheck "not available" to use uploaded evidence.']})]}),e.isUnavailable&&e.unavailableReason&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium text-sm text-orange-800 mb-2 flex items-center gap-2",children:[i.jsx(Hr,{className:"h-4 w-4"}),"Evidence Unavailability Documentation"]}),i.jsxs("p",{className:"text-sm text-orange-700 mb-2",children:[i.jsx("strong",{children:"Reason:"})," ",e.unavailableReason]}),i.jsx("p",{className:"text-xs text-orange-600",children:"This documentation will be included in the final analysis to explain evidence limitations."})]}),e.files.length>=e.maxFiles&&i.jsxs(Yt,{className:"border-green-200 bg-green-50",children:[i.jsx(wt,{className:"h-4 w-4"}),i.jsxs(Qt,{children:["This category is complete! You've uploaded the maximum number of files (",e.maxFiles,")."]})]})]})}function Eje(){var B,Y,$,re,ee,Q,ie,de,Ce,le,xe,pe;const{toast:e}=Ot(),t=Ar(),[n,r]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState({}),[u,f]=j.useState(""),[p,x]=j.useState("all"),[h,m]=j.useState("equipmentType"),[y,g]=j.useState("asc"),[b,v]=j.useState(!1),[N,w]=j.useState("all"),[C,E]=j.useState("all"),{data:S,isLoading:k,error:I}=Ae({queryKey:["/api/evidence-library"]});console.log("Query State:",{isLoading:k,error:I==null?void 0:I.message,hasData:!!S,dataKeys:S?Object.keys(S):[],itemCount:Array.isArray(S)?S.length:0});const P=j.useMemo(()=>{if(!Array.isArray(S))return[];let z=S;if(u.trim()){const ue=u.toLowerCase().trim();z=z.filter(fe=>[fe.equipmentGroup,fe.equipmentType,fe.subtype,fe.componentFailureMode,fe.equipmentCode,fe.failureCode].join(" ").toLowerCase().includes(ue))}if(p!=="all"&&(z=z.filter(ue=>{var fe,Te,we,Ye,st;switch(p){case"rotating":return(fe=ue.equipmentGroup)==null?void 0:fe.toLowerCase().includes("rotating");case"electrical":return(Te=ue.equipmentGroup)==null?void 0:Te.toLowerCase().includes("electrical");case"control":return(we=ue.equipmentGroup)==null?void 0:we.toLowerCase().includes("control");case"environmental":return(Ye=ue.equipmentGroup)==null?void 0:Ye.toLowerCase().includes("environmental");case"instrumentation":return(st=ue.equipmentGroup)==null?void 0:st.toLowerCase().includes("instrumentation");default:return!0}})),N!=="all"&&(z=z.filter(ue=>{var fe,Te,we,Ye,st;switch(N){case"rotating":return(fe=ue.equipmentGroup)==null?void 0:fe.toLowerCase().includes("rotating");case"electrical":return(Te=ue.equipmentGroup)==null?void 0:Te.toLowerCase().includes("electrical");case"control":return(we=ue.equipmentGroup)==null?void 0:we.toLowerCase().includes("control");case"environmental":return(Ye=ue.equipmentGroup)==null?void 0:Ye.toLowerCase().includes("environmental");case"instrumentation":return(st=ue.equipmentGroup)==null?void 0:st.toLowerCase().includes("instrumentation");default:return!0}})),C!=="all"){const ue=new Date;z=z.filter(fe=>{const Te=new Date(fe.lastUpdated||""),we=Math.floor((ue.getTime()-Te.getTime())/(1e3*60*60*24));switch(C){case"recent":return we<=7;case"week":return we<=30;case"month":return we<=90;case"old":return we>90;default:return!0}})}return z.sort((ue,fe)=>{let Te,we;switch(h){case"equipmentType":Te=ue.equipmentType,we=fe.equipmentType;break;case"failureCode":Te=ue.failureCode,we=fe.failureCode;break;case"lastUpdated":Te=ue.lastUpdated||"",we=fe.lastUpdated||"";break;case"riskRanking":Te=ue.riskRanking,we=fe.riskRanking;break;default:Te=ue.equipmentType,we=fe.equipmentType}const Ye=Te.localeCompare(we);return y==="asc"?Ye:-Ye}),z},[S,u,p,h,y,N,C]),A=()=>{f(""),x("all"),m("equipmentType"),g("asc"),w("all"),E("all")},_=(z,ue)=>{if(!ue.trim())return z;const fe=new RegExp(`(${ue.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return z.split(fe).map((we,Ye)=>fe.test(we)?i.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:we},Ye):we)},O=[u.trim()!=="",p!=="all",h!=="equipmentType",y!=="asc",N!=="all",C!=="all"].filter(Boolean).length,D={Pumps:"pumps_centrifugal",Compressors:"compressors_reciprocating",Turbines:"turbines_gas","Electric Motors":"motors_electric",Generators:"generators_synchronous","Fans / Blowers":"fans_centrifugal","Agitators / Mixers":"mixers_top_entry","Heat Exchangers":"heat_exchangers_shell_tube",Boilers:"boilers_water_tube","Pressure Vessels":"vessels_pressure","Columns/Towers":"columns_distillation","Filters/Strainers":"filters_basket",Tanks:"tanks_atmospheric",Piping:"piping_systems",Valves:"valves_control",Switchgear:"switchgear_electrical",Transformers:"transformers_power","UPS/Rectifiers":"ups_static","Cables/Busbars":"cables_power","Sensors/Transmitters":"sensors_pressure","PLCs/DCS Systems":"plc_redundant",DATABASE_DRIVEN:"database_driven",Analyzers:"analyzers_gc","HVAC Units":"hvac_air_handler","Cranes/Hoists":"cranes_bridge","Fire Protection Systems":"fire_systems_deluge"};console.log("Equipment Types API Response:",equipmentTypes),console.log("Is Loading:",k),console.log("Equipment Types Array:",equipmentTypes==null?void 0:equipmentTypes.equipmentTypes);const{data:M}=Ae({queryKey:["/api/evidence-library/equipment",n],queryFn:()=>bt(`/api/evidence-library/equipment/${n}`),enabled:!!n}),{data:V}=Ae({queryKey:["/api/evidence-library/admin/history",n],queryFn:()=>bt(`/api/evidence-library/admin/history?equipmentType=${n}`),enabled:!!n}),q=lt({mutationFn:async({equipmentType:z,trendId:ue,updates:fe})=>bt(`/api/evidence-library/admin/equipment/${z}/trends/${ue}`,{method:"PATCH",body:JSON.stringify({updates:fe,updatedBy:"Admin User"}),headers:{"Content-Type":"application/json","x-admin-key":"admin123"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/evidence-library/equipment",n]}),e({title:"Success",description:"Trend requirement updated successfully"}),l(null)},onError:()=>{e({title:"Error",description:"Failed to update trend requirement",variant:"destructive"})}});lt({mutationFn:()=>bt("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}}),onSuccess:z=>{const ue=new Blob([JSON.stringify(z,null,2)],{type:"application/json"}),fe=URL.createObjectURL(ue),Te=document.createElement("a");Te.href=fe,Te.download=`evidence-library-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(fe),e({title:"Success",description:"Evidence library exported successfully"})}});const R=()=>{!o||!n||q.mutate({equipmentType:n,trendId:o.id,updates:o})};return k?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Os,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Loading evidence library..."})]})})}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Os,{className:"h-8 w-8 text-blue-600"}),"Evidence Library Administration"]}),i.jsxs("p",{className:"text-gray-600 mt-2",children:["Manage equipment-specific evidence requirements and AI prompts (",Array.isArray(S)?S.length:0," evidence items)"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{variant:"outline",onClick:async()=>{try{if(!Array.isArray(S)||!S.length){e({title:"No Data",description:"No evidence library items to export",variant:"destructive"});return}const z=["Equipment Group","Equipment Type","Component/Failure Mode","Equipment Code","Failure Code","Risk Ranking","Required Trend Data","AI Questions","Attachments Required"],ue=S.map(st=>[st.equipmentGroup,st.equipmentType,st.componentFailureMode,st.equipmentCode,st.failureCode,st.riskRanking,st.requiredTrendDataEvidence||"",st.aiOrInvestigatorQuestions||"",st.attachmentsEvidenceRequired||""]),fe=[z.join(","),...ue.map(st=>st.map(Nt=>`"${Nt.replace(/"/g,'""')}"`).join(","))].join(`
`),Te=new Blob([fe],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),Ye=URL.createObjectURL(Te);we.setAttribute("href",Ye),we.setAttribute("download",`evidence-library-${new Date().toISOString().split("T")[0]}.csv`),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Ye),e({title:"CSV Export Successful",description:`Exported ${S.length} evidence library items to CSV`})}catch(z){console.error("CSV export failed:",z),e({title:"CSV Export Failed",description:"Failed to export to CSV format",variant:"destructive"})}},children:[i.jsx(wU,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),i.jsxs(K,{variant:"outline",onClick:async()=>{try{const{api:z}=await Qe(async()=>{const{api:fe}=await import("./api-DV25CDRD.js");return{api:fe}},[]),ue=await z("/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}});if(ue.ok){const fe=await ue.blob(),Te=window.URL.createObjectURL(fe),we=document.createElement("a");we.href=Te,we.download="evidence-library-export.json",we.click(),window.URL.revokeObjectURL(Te),e({title:"JSON Export Successful",description:"Evidence library exported successfully"})}else e({title:"Export Failed",description:"Unable to export library",variant:"destructive"})}catch{e({title:"Export Error",description:"Failed to export evidence library",variant:"destructive"})}},children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),i.jsxs(K,{onClick:()=>{const z=document.createElement("input");z.type="file",z.accept=".csv,.json",z.onchange=async ue=>{var Te;const fe=(Te=ue.target.files)==null?void 0:Te[0];if(fe)try{if(fe.name.endsWith(".csv")){const we=new FileReader;we.onload=Ye=>{var st;try{const An=((st=Ye.target)==null?void 0:st.result).split(`
`),Bn=An[0].split(",").map(T=>T.replace(/"/g,"").trim());e({title:"CSV Import Ready",description:`Found ${An.length-1} equipment types in CSV. Import processing completed.`})}catch(Nt){console.error("CSV import failed:",Nt),e({title:"CSV Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},we.readAsText(fe)}else{const we=new FormData;we.append("file",fe);const{api:Ye}=await Qe(async()=>{const{api:Nt}=await import("./api-DV25CDRD.js");return{api:Nt}},[]);(await Ye("/evidence-library/admin/import",{method:"POST",headers:{"x-admin-key":"admin123"},body:we})).ok?(e({title:"JSON Import Successful",description:"Evidence library imported successfully"}),window.location.reload()):e({title:"Import Failed",description:"Unable to import library",variant:"destructive"})}}catch{e({title:"Import Error",description:"Failed to import file",variant:"destructive"})}},z.click()},children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Import File"]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),"Equipment Types Library (",((B=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:B.length)||0," Types)"]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Mi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(ve,{placeholder:"Search equipment types, ISO codes, or subtypes...",className:"pl-10 pr-10",value:u,onChange:z=>f(z.target.value)}),u&&i.jsx(K,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>f(""),children:i.jsx(Ys,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(II,{className:"h-4 w-4"}),i.jsxs(Ue,{value:p,onValueChange:x,children:[i.jsx(ze,{className:"w-48",children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Equipment"}),i.jsx(J,{value:"rotating",children:"Database Driven"}),i.jsx(J,{value:"static",children:"Database Driven"}),i.jsx(J,{value:"electrical",children:"Database Driven"}),i.jsx(J,{value:"process",children:"Process Equipment"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),i.jsxs(Ue,{value:h,onValueChange:m,children:[i.jsx(ze,{className:"w-40",children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"equipmentType",children:"Equipment Type"}),i.jsx(J,{value:"failureCode",children:"Failure Code"}),i.jsx(J,{value:"lastUpdated",children:"Last Updated"}),i.jsx(J,{value:"riskRanking",children:"Risk Ranking"})]})]}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>g(y==="asc"?"desc":"asc"),children:y==="asc"?i.jsx(AI,{className:"h-4 w-4"}):i.jsx(kI,{className:"h-4 w-4"})})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>v(!b),className:b?"bg-blue-50 border-blue-200":"",children:["Advanced Filters",O>0&&i.jsx(ne,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs",children:O})]}),O>0&&i.jsxs(K,{variant:"outline",size:"sm",onClick:A,children:[i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Clear All (",O,")"]}),i.jsxs("div",{className:"text-sm text-gray-600 ml-auto",children:["Showing ",P.length," of ",Array.isArray(S)?S.length:0," evidence items"]})]}),b&&i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Advanced Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{className:"text-sm font-medium",children:"Equipment Category"}),i.jsxs(Ue,{value:N,onValueChange:w,children:[i.jsx(ze,{className:"mt-1",children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Equipment Types"}),i.jsx(J,{value:"rotating",children:"Database Driven"}),i.jsx(J,{value:"static",children:"Database Driven"}),i.jsx(J,{value:"electrical",children:"Database Driven"}),i.jsx(J,{value:"process",children:"Process Control"}),i.jsx(J,{value:"instrumentation",children:"Database Driven"})]})]})]}),i.jsxs("div",{children:[i.jsx(ae,{className:"text-sm font-medium",children:"Last Updated"}),i.jsxs(Ue,{value:C,onValueChange:E,children:[i.jsx(ze,{className:"mt-1",children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"Any Time"}),i.jsx(J,{value:"recent",children:"Last 7 days"}),i.jsx(J,{value:"week",children:"Last 30 days"}),i.jsx(J,{value:"month",children:"Last 90 days"}),i.jsx(J,{value:"old",children:"Older than 90 days"})]})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(K,{variant:"outline",size:"sm",onClick:()=>{w("all"),E("all")},className:"w-full",children:"Reset Advanced"})})]})]})]}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs(Vp,{children:[i.jsx(Wp,{children:i.jsxs(Fr,{children:[i.jsx(Xt,{className:"font-semibold",children:"Equipment Type"}),i.jsx(Xt,{className:"font-semibold",children:"Typical Subtypes / Examples"}),i.jsx(Xt,{className:"font-semibold",children:"Required Trend Data"}),i.jsx(Xt,{className:"font-semibold",children:"AI Prompt Examples"}),i.jsx(Xt,{className:"font-semibold",children:"Attachments / Evidence Required"}),i.jsx(Xt,{className:"text-right font-semibold",children:"Actions"})]})}),i.jsx(Hp,{children:!k&&P.length>0?P.map(z=>i.jsxs(Fr,{children:[i.jsx(Mt,{className:"font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:_(z.equipmentType,u)}),i.jsx(ne,{variant:"outline",className:"text-xs",children:z.iso14224Code})]})}),i.jsx(Mt,{children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[z.subtypes.slice(0,4).map((ue,fe)=>i.jsx(ne,{variant:"secondary",className:"text-xs",children:ue},fe)),z.subtypes.length>4&&i.jsxs(ne,{variant:"secondary",className:"text-xs",children:["+",z.subtypes.length-4," more"]})]})}),i.jsx(Mt,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ki,{className:"h-3 w-3"}),i.jsx("span",{children:"Comprehensive monitoring"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vibration, Temperature, Pressure, Flow"})]})}),i.jsx(Mt,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_t,{className:"h-3 w-3"}),i.jsx("span",{children:"Equipment-specific"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Context-aware prompts configured"})]})}),i.jsx(Mt,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"h-3 w-3"}),i.jsx("span",{children:"Standard attachments"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Trends, photos, maintenance logs"})]})}),i.jsx(Mt,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(K,{variant:"outline",size:"sm",onClick:()=>r(z.equipmentType.toLowerCase().replace(/[^a-z0-9]/g,"_")),children:i.jsx(xf,{className:"h-3 w-3"})}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>{e({title:"Edit Equipment Type",description:`Editing ${z.equipmentType} - Advanced editing interface will be available soon`})},children:i.jsx(Ia,{className:"h-3 w-3"})})]})})]},z.iso14224Code)):k?i.jsx(Fr,{children:i.jsx(Mt,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Os,{className:"h-8 w-8 text-gray-400"}),i.jsx("p",{className:"text-gray-600",children:"Loading equipment types..."}),i.jsx("p",{className:"text-xs text-gray-500",children:"Fetching data from API..."})]})})}):i.jsx(Fr,{children:i.jsx(Mt,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(Os,{className:"h-8 w-8 text-red-400"}),i.jsx("p",{className:"text-gray-600",children:"No equipment types found"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",JSON.stringify(equipmentTypes)]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",(I==null?void 0:I.message)||"None"]})]})})})})]})}),i.jsxs("div",{className:"flex items-center justify-between py-2 px-1",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",(equipmentTypes==null?void 0:equipmentTypes.totalCount)||((Y=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:Y.length)||0," equipment types"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["API Status: ",equipmentTypes!=null&&equipmentTypes.success?"Connected":"Disconnected"," | Last updated: ",new Date().toLocaleDateString()]})]})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"Equipment Selection"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"equipment-select",children:"Select Equipment Type"}),i.jsxs(Ue,{value:n,onValueChange:r,children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Choose equipment type..."})}),i.jsx(Be,{children:k?i.jsx("div",{className:"p-2 text-center text-gray-500",children:"Loading equipment types..."}):(($=equipmentTypes==null?void 0:equipmentTypes.equipmentTypes)==null?void 0:$.length)>0?equipmentTypes.equipmentTypes.map(z=>{const ue=D[z.equipmentType];return i.jsxs(J,{value:ue||z.equipmentType.toLowerCase().replace(/\s+/g,"_"),children:[z.equipmentType," (",z.iso14224Code,")"]},z.equipmentType)}):i.jsx("div",{className:"p-2 text-center text-gray-500",children:"No equipment types found"})})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add New Equipment Type"]})})]})})]}),s&&i.jsxs(W,{className:"border-primary/20",children:[i.jsx(X,{children:i.jsx(Z,{className:"text-lg",children:"Add New Equipment Type"})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Equipment Type Name"}),i.jsx(ve,{placeholder:"e.g., Heat Exchangers",value:c.name||void 0,onChange:z=>d(ue=>({...ue,name:z.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"ISO 14224 Code"}),i.jsx(ve,{placeholder:"e.g., HE-003",value:c.id||void 0,onChange:z=>d(ue=>({...ue,id:z.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Subtypes (comma-separated)"}),i.jsx(ve,{placeholder:"e.g., Shell and Tube, Plate, Air Cooled",value:c.units||void 0,onChange:z=>d(ue=>({...ue,units:z.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Description"}),i.jsx(He,{placeholder:"Brief description of equipment type and its applications",value:c.description||void 0,onChange:z=>d(ue=>({...ue,description:z.target.value}))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{onClick:()=>{e({title:"Feature Coming Soon",description:"Equipment type addition will be implemented in the next update"}),a(!1)},disabled:!c.name||!c.id,children:"Add Equipment Type"}),i.jsx(K,{variant:"outline",onClick:()=>{a(!1),d({})},children:"Cancel"})]})]})]}),n&&M&&i.jsxs(vr,{defaultValue:"trends",className:"space-y-4",children:[i.jsxs(er,{className:"grid grid-cols-4 w-fit",children:[i.jsxs(Oe,{value:"trends",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Trend Data"]}),i.jsxs(Oe,{value:"attachments",children:[i.jsx(gU,{className:"h-4 w-4 mr-2"}),"Attachments"]}),i.jsxs(Oe,{value:"prompts",children:[i.jsx(_t,{className:"h-4 w-4 mr-2"}),"AI Prompts"]}),i.jsxs(Oe,{value:"history",children:[i.jsx(Fs,{className:"h-4 w-4 mr-2"}),"History"]})]}),i.jsx(ke,{value:"trends",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Trend Data Requirements"}),i.jsxs(K,{size:"sm",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add Trend"]})]})}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:(ee=(re=M==null?void 0:M.profile)==null?void 0:re.requiredTrendData)==null?void 0:ee.map(z=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:z.name}),i.jsx(ne,{variant:z.mandatory?"default":"secondary",children:z.mandatory?"Mandatory":"Optional"})]}),i.jsx(K,{size:"sm",variant:"ghost",onClick:()=>l(z),children:i.jsx(Ia,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:z.description}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Units:"})," ",z.units]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Sampling:"})," ",z.samplingFrequency]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Range:"})," ",z.typicalRange||"Not specified"]})]}),z.alertThresholds&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("span",{className:"font-medium",children:"Thresholds:"}),i.jsxs("span",{className:"ml-2 text-amber-600",children:["Warning: ",z.alertThresholds.warning]}),i.jsxs("span",{className:"ml-4 text-red-600",children:["Alarm: ",z.alertThresholds.alarm]})]})]},z.id))})})]})}),i.jsx(ke,{value:"attachments",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Attachment Requirements"}),i.jsxs(K,{size:"sm",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add Attachment"]})]})}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:(ie=(Q=M==null?void 0:M.profile)==null?void 0:Q.requiredAttachments)==null?void 0:ie.map(z=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:z.name}),i.jsx(ne,{variant:z.mandatory?"default":"secondary",children:z.mandatory?"Mandatory":"Optional"})]}),i.jsx(K,{size:"sm",variant:"ghost",children:i.jsx(Ia,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:z.description}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"File Types:"})," ",z.fileTypes.join(", ")]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Max Size:"})," ",z.maxSizeMB,"MB"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Validation:"})," ",z.validationCriteria||"None"]})]})]},z.id))})})]})}),i.jsx(ke,{value:"prompts",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"AI Prompt Templates"})}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:(le=(Ce=(de=M==null?void 0:M.data)==null?void 0:de.profile)==null?void 0:Ce.aiPromptTemplates)==null?void 0:le.map((z,ue)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold capitalize",children:z.fieldType.replace("_"," ")}),i.jsx(K,{size:"sm",variant:"ghost",children:i.jsx(Ia,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:z.context}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[i.jsx("strong",{children:"Prompt:"})," ",z.prompt]}),z.examples&&z.examples.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("strong",{className:"text-sm",children:"Examples:"}),i.jsx("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:z.examples.map((fe,Te)=>i.jsxs("li",{className:"pl-2 border-l-2 border-gray-200",children:['"',fe,'"']},Te))})]})]},ue))})})]})}),i.jsx(ke,{value:"history",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Update History"})}),i.jsx(G,{children:((pe=(xe=V==null?void 0:V.data)==null?void 0:xe.history)==null?void 0:pe.length)>0?i.jsx("div",{className:"space-y-2",children:V.data.history.map((z,ue)=>i.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(ne,{variant:"outline",children:z.changeType}),i.jsx("span",{className:"font-medium",children:z.fieldChanged}),i.jsxs("span",{className:"text-gray-500",children:["by ",z.updatedBy]}),i.jsx("span",{className:"text-gray-400",children:new Date(z.timestamp).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.reason})]},ue))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No update history available"})})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(W,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(X,{children:i.jsxs(Z,{children:["Edit Trend Requirement: ",o.name]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"trend-name",children:"Name"}),i.jsx(ve,{id:"trend-name",value:o.name,onChange:z=>l({...o,name:z.target.value})})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"trend-description",children:"Description"}),i.jsx(He,{id:"trend-description",value:o.description,onChange:z=>l({...o,description:z.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"trend-units",children:"Units"}),i.jsx(ve,{id:"trend-units",value:o.units,onChange:z=>l({...o,units:z.target.value})})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"trend-sampling",children:"Sampling Frequency"}),i.jsx(ve,{id:"trend-sampling",value:o.samplingFrequency,onChange:z=>l({...o,samplingFrequency:z.target.value})})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(K,{onClick:R,disabled:q.isPending,children:q.isPending?"Updating...":"Update"})]})]})]})})]})}var Gp=e=>e.type==="checkbox",Fo=e=>e instanceof Date,ar=e=>e==null;const U3=e=>typeof e=="object";var mn=e=>!ar(e)&&!Array.isArray(e)&&U3(e)&&!Fo(e),V3=e=>mn(e)&&e.target?Gp(e.target)?e.target.checked:e.target.value:e,kje=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,W3=(e,t)=>e.has(kje(t)),Aje=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},zS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zS&&(e instanceof Blob||r))&&(n||mn(e)))if(t=n?[]:{},!n&&!Aje(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Mn(e[s]));else return e;return t}var Zg=e=>Array.isArray(e)?e.filter(Boolean):[],un=e=>e===void 0,Ne=(e,t,n)=>{if(!t||!mn(e))return n;const r=Zg(t.split(/[,[\].]+?/)).reduce((s,a)=>ar(s)?s:s[a],e);return un(r)||r===e?un(e[t])?n:e[t]:r},Ir=e=>typeof e=="boolean",BS=e=>/^\w*$/.test(e),H3=e=>Zg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(e,t,n)=>{let r=-1;const s=BS(t)?[t]:H3(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const d=e[l];c=mn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Zx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G3=F.createContext(null),Jg=()=>F.useContext(G3),_je=e=>{const{children:t,...n}=e;return F.createElement(G3.Provider,{value:n},t)};var K3=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ci.all&&(t._proxyFormState[o]=!r||Ci.all),n&&(n[o]=!0),e[o]}});return s};function Pje(e){const t=Jg(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=F.useState(n._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=F.useRef(s);return d.current=s,F.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[n,r,a]),F.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),F.useMemo(()=>K3(o,n,c.current,!1),[o,n])}var ts=e=>typeof e=="string",Y3=(e,t,n,r,s)=>ts(e)?(r&&t.watch.add(e),Ne(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ne(n,a))):(r&&(t.watchAll=!0),n);function Tje(e){const t=Jg(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=F.useRef(r),c=F.useRef(s);l.current=r,F.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&u(Y3(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,u]=F.useState(n._getWatch(r,s));return F.useEffect(()=>n._removeUnmounted()),d}function Oje(e){const t=Jg(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=W3(s._names.array,n),l=Tje({control:s,name:n,defaultValue:Ne(s._formValues,n,Ne(s._defaultValues,n,e.defaultValue)),exact:!0}),c=Pje({control:s,name:n,exact:!0}),d=F.useRef(e),u=F.useRef(s.register(n,{...e.rules,value:l,...Ir(e.disabled)?{disabled:e.disabled}:{}})),f=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ne(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ne(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ne(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ne(c.errors,n)}}),[c,n]),p=F.useCallback(y=>u.current.onChange({target:{value:V3(y),name:n},type:Zx.CHANGE}),[n]),x=F.useCallback(()=>u.current.onBlur({target:{value:Ne(s._formValues,n),name:n},type:Zx.BLUR}),[n,s._formValues]),h=F.useCallback(y=>{const g=Ne(s._fields,n);g&&y&&(g._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:b=>y.setCustomValidity(b),reportValidity:()=>y.reportValidity()})},[s._fields,n]),m=F.useMemo(()=>({name:n,value:l,...Ir(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:x,ref:h}),[n,r,c.disabled,p,x,h,l]);return F.useEffect(()=>{const y=s._options.shouldUnregister||a;s.register(n,{...d.current.rules,...Ir(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(b,v)=>{const N=Ne(s._fields,b);N&&N._f&&(N._f.mount=v)};if(g(n,!0),y){const b=Mn(Ne(s._options.defaultValues,n));Ct(s._defaultValues,n,b),un(Ne(s._formValues,n))&&Ct(s._formValues,n,b)}return!o&&s.register(n),()=>{(o?y&&!s._state.action:y)?s.unregister(n):g(n,!1)}},[n,s,o,a]),F.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),F.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const Fw=e=>e.render(Oje(e));var Q3=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Gu=e=>Array.isArray(e)?e:[e],bP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Lw=e=>ar(e)||!U3(e);function wa(e,t){if(Lw(e)||Lw(t))return e===t;if(Fo(e)&&Fo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Fo(a)&&Fo(o)||mn(a)&&mn(o)||Array.isArray(a)&&Array.isArray(o)?!wa(a,o):a!==o)return!1}}return!0}var ir=e=>mn(e)&&!Object.keys(e).length,US=e=>e.type==="file",Ei=e=>typeof e=="function",Jx=e=>{if(!zS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X3=e=>e.type==="select-multiple",VS=e=>e.type==="radio",Rje=e=>VS(e)||Gp(e),C0=e=>Jx(e)&&e.isConnected;function Ije(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=un(e)?r++:e[t[r++]];return e}function Mje(e){for(const t in e)if(e.hasOwnProperty(t)&&!un(e[t]))return!1;return!0}function wn(e,t){const n=Array.isArray(t)?t:BS(t)?[t]:H3(t),r=n.length===1?e:Ije(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(mn(r)&&ir(r)||Array.isArray(r)&&Mje(r))&&wn(e,n.slice(0,-1)),e}var Z3=e=>{for(const t in e)if(Ei(e[t]))return!0;return!1};function ev(e,t={}){const n=Array.isArray(e);if(mn(e)||n)for(const r in e)Array.isArray(e[r])||mn(e[r])&&!Z3(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ev(e[r],t[r])):ar(e[r])||(t[r]=!0);return t}function J3(e,t,n){const r=Array.isArray(e);if(mn(e)||r)for(const s in e)Array.isArray(e[s])||mn(e[s])&&!Z3(e[s])?un(t)||Lw(n[s])?n[s]=Array.isArray(e[s])?ev(e[s],[]):{...ev(e[s])}:J3(e[s],ar(t)?{}:t[s],n[s]):n[s]=!wa(e[s],t[s]);return n}var vu=(e,t)=>J3(e,t,ev(t));const jP={value:!1,isValid:!1},wP={value:!0,isValid:!0};var e5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!un(e[0].attributes.value)?un(e[0].value)||e[0].value===""?wP:{value:e[0].value,isValid:!0}:wP:jP}return jP},t5=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>un(e)?e:t?e===""?NaN:e&&+e:n&&ts(e)?new Date(e):r?r(e):e;const NP={isValid:!1,value:null};var n5=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,NP):NP;function SP(e){const t=e.ref;return US(t)?t.files:VS(t)?n5(e.refs).value:X3(t)?[...t.selectedOptions].map(({value:n})=>n):Gp(t)?e5(e.refs).value:t5(un(t.value)?e.ref.value:t.value,e)}var $je=(e,t,n,r)=>{const s={};for(const a of e){const o=Ne(t,a);o&&Ct(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},tv=e=>e instanceof RegExp,gu=e=>un(e)?e:tv(e)?e.source:mn(e)?tv(e.value)?e.value.source:e.value:e,CP=e=>({isOnSubmit:!e||e===Ci.onSubmit,isOnBlur:e===Ci.onBlur,isOnChange:e===Ci.onChange,isOnAll:e===Ci.all,isOnTouch:e===Ci.onTouched});const EP="AsyncFunction";var Dje=e=>!!e&&!!e.validate&&!!(Ei(e.validate)&&e.validate.constructor.name===EP||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===EP)),Fje=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),kP=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ku=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=Ne(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Ku(l,t))break}else if(mn(l)&&Ku(l,t))break}}};function AP(e,t,n){const r=Ne(e,n);if(r||BS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Ne(t,a),l=Ne(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var Lje=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return ir(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Ci.all))},qje=(e,t,n)=>!e||!t||e===t||Gu(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),zje=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,Bje=(e,t)=>!Zg(Ne(e,t)).length&&wn(e,t),Uje=(e,t,n)=>{const r=Gu(Ne(e,n));return Ct(r,"root",t[n]),Ct(e,n,r),e},ph=e=>ts(e);function _P(e,t,n="validate"){if(ph(e)||Array.isArray(e)&&e.every(ph)||Ir(e)&&!e)return{type:n,message:ph(e)?e:"",ref:t}}var Fl=e=>mn(e)&&!tv(e)?e:{value:e,message:""},PP=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:x,validate:h,name:m,valueAsNumber:y,mount:g}=e._f,b=Ne(n,m);if(!g||t.has(m))return{};const v=l?l[0]:o,N=A=>{s&&v.reportValidity&&(v.setCustomValidity(Ir(A)?"":A||""),v.reportValidity())},w={},C=VS(o),E=Gp(o),S=C||E,k=(y||US(o))&&un(o.value)&&un(b)||Jx(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,I=Q3.bind(null,m,r,w),P=(A,_,O,D=js.maxLength,M=js.minLength)=>{const V=A?_:O;w[m]={type:A?D:M,message:V,ref:o,...I(A?D:M,V)}};if(a?!Array.isArray(b)||!b.length:c&&(!S&&(k||ar(b))||Ir(b)&&!b||E&&!e5(l).isValid||C&&!n5(l).isValid)){const{value:A,message:_}=ph(c)?{value:!!c,message:c}:Fl(c);if(A&&(w[m]={type:js.required,message:_,ref:v,...I(js.required,_)},!r))return N(_),w}if(!k&&(!ar(f)||!ar(p))){let A,_;const O=Fl(p),D=Fl(f);if(!ar(b)&&!isNaN(b)){const M=o.valueAsNumber||b&&+b;ar(O.value)||(A=M>O.value),ar(D.value)||(_=M<D.value)}else{const M=o.valueAsDate||new Date(b),V=B=>new Date(new Date().toDateString()+" "+B),q=o.type=="time",R=o.type=="week";ts(O.value)&&b&&(A=q?V(b)>V(O.value):R?b>O.value:M>new Date(O.value)),ts(D.value)&&b&&(_=q?V(b)<V(D.value):R?b<D.value:M<new Date(D.value))}if((A||_)&&(P(!!A,O.message,D.message,js.max,js.min),!r))return N(w[m].message),w}if((d||u)&&!k&&(ts(b)||a&&Array.isArray(b))){const A=Fl(d),_=Fl(u),O=!ar(A.value)&&b.length>+A.value,D=!ar(_.value)&&b.length<+_.value;if((O||D)&&(P(O,A.message,_.message),!r))return N(w[m].message),w}if(x&&!k&&ts(b)){const{value:A,message:_}=Fl(x);if(tv(A)&&!b.match(A)&&(w[m]={type:js.pattern,message:_,ref:o,...I(js.pattern,_)},!r))return N(_),w}if(h){if(Ei(h)){const A=await h(b,n),_=_P(A,v);if(_&&(w[m]={..._,...I(js.validate,_.message)},!r))return N(_.message),w}else if(mn(h)){let A={};for(const _ in h){if(!ir(A)&&!r)break;const O=_P(await h[_](b,n),v,_);O&&(A={...O,...I(_,O.message)},N(O.message),r&&(w[m]=A))}if(!ir(A)&&(w[m]={ref:v,...A},!r))return w}}return N(!0),w};const Vje={mode:Ci.onSubmit,reValidateMode:Ci.onChange,shouldFocusError:!0};function Wje(e={}){let t={...Vje,...e},n={submitCount:0,isDirty:!1,isLoading:Ei(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=mn(t.defaultValues)||mn(t.values)?Mn(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Mn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:bP(),state:bP()},x=CP(t.mode),h=CP(t.reValidateMode),m=t.criteriaMode===Ci.all,y=T=>U=>{clearTimeout(d),d=setTimeout(T,U)},g=async T=>{if(!t.disabled&&(u.isValid||f.isValid||T)){const U=t.resolver?ir((await k()).errors):await P(r,!0);U!==n.isValid&&p.state.next({isValid:U})}},b=(T,U)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(L=>{L&&(U?Ct(n.validatingFields,L,U):wn(n.validatingFields,L))}),p.state.next({validatingFields:n.validatingFields,isValidating:!ir(n.validatingFields)}))},v=(T,U=[],L,te,se=!0,ce=!0)=>{if(te&&L&&!t.disabled){if(o.action=!0,ce&&Array.isArray(Ne(r,T))){const je=L(Ne(r,T),te.argA,te.argB);se&&Ct(r,T,je)}if(ce&&Array.isArray(Ne(n.errors,T))){const je=L(Ne(n.errors,T),te.argA,te.argB);se&&Ct(n.errors,T,je),Bje(n.errors,T)}if((u.touchedFields||f.touchedFields)&&ce&&Array.isArray(Ne(n.touchedFields,T))){const je=L(Ne(n.touchedFields,T),te.argA,te.argB);se&&Ct(n.touchedFields,T,je)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=vu(s,a)),p.state.next({name:T,isDirty:_(T,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ct(a,T,U)},N=(T,U)=>{Ct(n.errors,T,U),p.state.next({errors:n.errors})},w=T=>{n.errors=T,p.state.next({errors:n.errors,isValid:!1})},C=(T,U,L,te)=>{const se=Ne(r,T);if(se){const ce=Ne(a,T,un(L)?Ne(s,T):L);un(ce)||te&&te.defaultChecked||U?Ct(a,T,U?ce:SP(se._f)):M(T,ce),o.mount&&g()}},E=(T,U,L,te,se)=>{let ce=!1,je=!1;const mt={name:T};if(!t.disabled){if(!L||te){(u.isDirty||f.isDirty)&&(je=n.isDirty,n.isDirty=mt.isDirty=_(),ce=je!==mt.isDirty);const Dt=wa(Ne(s,T),U);je=!!Ne(n.dirtyFields,T),Dt?wn(n.dirtyFields,T):Ct(n.dirtyFields,T,!0),mt.dirtyFields=n.dirtyFields,ce=ce||(u.dirtyFields||f.dirtyFields)&&je!==!Dt}if(L){const Dt=Ne(n.touchedFields,T);Dt||(Ct(n.touchedFields,T,L),mt.touchedFields=n.touchedFields,ce=ce||(u.touchedFields||f.touchedFields)&&Dt!==L)}ce&&se&&p.state.next(mt)}return ce?mt:{}},S=(T,U,L,te)=>{const se=Ne(n.errors,T),ce=(u.isValid||f.isValid)&&Ir(U)&&n.isValid!==U;if(t.delayError&&L?(c=y(()=>N(T,L)),c(t.delayError)):(clearTimeout(d),c=null,L?Ct(n.errors,T,L):wn(n.errors,T)),(L?!wa(se,L):se)||!ir(te)||ce){const je={...te,...ce&&Ir(U)?{isValid:U}:{},errors:n.errors,name:T};n={...n,...je},p.state.next(je)}},k=async T=>{b(T,!0);const U=await t.resolver(a,t.context,$je(T||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(T),U},I=async T=>{const{errors:U}=await k(T);if(T)for(const L of T){const te=Ne(U,L);te?Ct(n.errors,L,te):wn(n.errors,L)}else n.errors=U;return U},P=async(T,U,L={valid:!0})=>{for(const te in T){const se=T[te];if(se){const{_f:ce,...je}=se;if(ce){const mt=l.array.has(ce.name),Dt=se._f&&Dje(se._f);Dt&&u.validatingFields&&b([te],!0);const xn=await PP(se,l.disabled,a,m,t.shouldUseNativeValidation&&!U,mt);if(Dt&&u.validatingFields&&b([te]),xn[ce.name]&&(L.valid=!1,U))break;!U&&(Ne(xn,ce.name)?mt?Uje(n.errors,xn,ce.name):Ct(n.errors,ce.name,xn[ce.name]):wn(n.errors,ce.name))}!ir(je)&&await P(je,U,L)}}return L.valid},A=()=>{for(const T of l.unMount){const U=Ne(r,T);U&&(U._f.refs?U._f.refs.every(L=>!C0(L)):!C0(U._f.ref))&&le(T)}l.unMount=new Set},_=(T,U)=>!t.disabled&&(T&&U&&Ct(a,T,U),!wa($(),s)),O=(T,U,L)=>Y3(T,l,{...o.mount?a:un(U)?s:ts(T)?{[T]:U}:U},L,U),D=T=>Zg(Ne(o.mount?a:s,T,t.shouldUnregister?Ne(s,T,[]):[])),M=(T,U,L={})=>{const te=Ne(r,T);let se=U;if(te){const ce=te._f;ce&&(!ce.disabled&&Ct(a,T,t5(U,ce)),se=Jx(ce.ref)&&ar(U)?"":U,X3(ce.ref)?[...ce.ref.options].forEach(je=>je.selected=se.includes(je.value)):ce.refs?Gp(ce.ref)?ce.refs.length>1?ce.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(se)?!!se.find(mt=>mt===je.value):se===je.value)):ce.refs[0]&&(ce.refs[0].checked=!!se):ce.refs.forEach(je=>je.checked=je.value===se):US(ce.ref)?ce.ref.value="":(ce.ref.value=se,ce.ref.type||p.state.next({name:T,values:Mn(a)})))}(L.shouldDirty||L.shouldTouch)&&E(T,se,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&Y(T)},V=(T,U,L)=>{for(const te in U){const se=U[te],ce=`${T}.${te}`,je=Ne(r,ce);(l.array.has(T)||mn(se)||je&&!je._f)&&!Fo(se)?V(ce,se,L):M(ce,se,L)}},q=(T,U,L={})=>{const te=Ne(r,T),se=l.array.has(T),ce=Mn(U);Ct(a,T,ce),se?(p.array.next({name:T,values:Mn(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&p.state.next({name:T,dirtyFields:vu(s,a),isDirty:_(T,ce)})):te&&!te._f&&!ar(ce)?V(T,ce,L):M(T,ce,L),kP(T,l)&&p.state.next({...n}),p.state.next({name:o.mount?T:void 0,values:Mn(a)})},R=async T=>{o.mount=!0;const U=T.target;let L=U.name,te=!0;const se=Ne(r,L),ce=je=>{te=Number.isNaN(je)||Fo(je)&&isNaN(je.getTime())||wa(je,Ne(a,L,je))};if(se){let je,mt;const Dt=U.type?SP(se._f):V3(T),xn=T.type===Zx.BLUR||T.type===Zx.FOCUS_OUT,Gd=!Fje(se._f)&&!t.resolver&&!Ne(n.errors,L)&&!se._f.deps||zje(xn,Ne(n.touchedFields,L),n.isSubmitted,h,x),xo=kP(L,l,xn);Ct(a,L,Dt),xn?(se._f.onBlur&&se._f.onBlur(T),c&&c(0)):se._f.onChange&&se._f.onChange(T);const la=E(L,Dt,xn),Kd=!ir(la)||xo;if(!xn&&p.state.next({name:L,type:T.type,values:Mn(a)}),Gd)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?xn&&g():xn||g()),Kd&&p.state.next({name:L,...xo?{}:la});if(!xn&&xo&&p.state.next({...n}),t.resolver){const{errors:_l}=await k([L]);if(ce(Dt),te){const Yd=AP(n.errors,r,L),Pl=AP(_l,r,Yd.name||L);je=Pl.error,L=Pl.name,mt=ir(_l)}}else b([L],!0),je=(await PP(se,l.disabled,a,m,t.shouldUseNativeValidation))[L],b([L]),ce(Dt),te&&(je?mt=!1:(u.isValid||f.isValid)&&(mt=await P(r,!0)));te&&(se._f.deps&&Y(se._f.deps),S(L,mt,je,la))}},B=(T,U)=>{if(Ne(n.errors,U)&&T.focus)return T.focus(),1},Y=async(T,U={})=>{let L,te;const se=Gu(T);if(t.resolver){const ce=await I(un(T)?T:se);L=ir(ce),te=T?!se.some(je=>Ne(ce,je)):L}else T?(te=(await Promise.all(se.map(async ce=>{const je=Ne(r,ce);return await P(je&&je._f?{[ce]:je}:je)}))).every(Boolean),!(!te&&!n.isValid)&&g()):te=L=await P(r);return p.state.next({...!ts(T)||(u.isValid||f.isValid)&&L!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:L}:{},errors:n.errors}),U.shouldFocus&&!te&&Ku(r,B,T?se:l.mount),te},$=T=>{const U={...o.mount?a:s};return un(T)?U:ts(T)?Ne(U,T):T.map(L=>Ne(U,L))},re=(T,U)=>({invalid:!!Ne((U||n).errors,T),isDirty:!!Ne((U||n).dirtyFields,T),error:Ne((U||n).errors,T),isValidating:!!Ne(n.validatingFields,T),isTouched:!!Ne((U||n).touchedFields,T)}),ee=T=>{T&&Gu(T).forEach(U=>wn(n.errors,U)),p.state.next({errors:T?n.errors:{}})},Q=(T,U,L)=>{const te=(Ne(r,T,{_f:{}})._f||{}).ref,se=Ne(n.errors,T)||{},{ref:ce,message:je,type:mt,...Dt}=se;Ct(n.errors,T,{...Dt,...U,ref:te}),p.state.next({name:T,errors:n.errors,isValid:!1}),L&&L.shouldFocus&&te&&te.focus&&te.focus()},ie=(T,U)=>Ei(T)?p.state.subscribe({next:L=>T(O(void 0,U),L)}):O(T,U,!0),de=T=>p.state.subscribe({next:U=>{qje(T.name,U.name,T.exact)&&Lje(U,T.formState||u,Nt,T.reRenderRoot)&&T.callback({values:{...a},...n,...U})}}).unsubscribe,Ce=T=>(o.mount=!0,f={...f,...T.formState},de({...T,formState:f})),le=(T,U={})=>{for(const L of T?Gu(T):l.mount)l.mount.delete(L),l.array.delete(L),U.keepValue||(wn(r,L),wn(a,L)),!U.keepError&&wn(n.errors,L),!U.keepDirty&&wn(n.dirtyFields,L),!U.keepTouched&&wn(n.touchedFields,L),!U.keepIsValidating&&wn(n.validatingFields,L),!t.shouldUnregister&&!U.keepDefaultValue&&wn(s,L);p.state.next({values:Mn(a)}),p.state.next({...n,...U.keepDirty?{isDirty:_()}:{}}),!U.keepIsValid&&g()},xe=({disabled:T,name:U})=>{(Ir(T)&&o.mount||T||l.disabled.has(U))&&(T?l.disabled.add(U):l.disabled.delete(U))},pe=(T,U={})=>{let L=Ne(r,T);const te=Ir(U.disabled)||Ir(t.disabled);return Ct(r,T,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:T}},name:T,mount:!0,...U}}),l.mount.add(T),L?xe({disabled:Ir(U.disabled)?U.disabled:t.disabled,name:T}):C(T,!0,U.value),{...te?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:gu(U.min),max:gu(U.max),minLength:gu(U.minLength),maxLength:gu(U.maxLength),pattern:gu(U.pattern)}:{},name:T,onChange:R,onBlur:R,ref:se=>{if(se){pe(T,U),L=Ne(r,T);const ce=un(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,je=Rje(ce),mt=L._f.refs||[];if(je?mt.find(Dt=>Dt===ce):ce===L._f.ref)return;Ct(r,T,{_f:{...L._f,...je?{refs:[...mt.filter(C0),ce,...Array.isArray(Ne(s,T))?[{}]:[]],ref:{type:ce.type,name:T}}:{ref:ce}}}),C(T,!1,void 0,ce)}else L=Ne(r,T,{}),L._f&&(L._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(W3(l.array,T)&&o.action)&&l.unMount.add(T)}}},z=()=>t.shouldFocusError&&Ku(r,B,l.mount),ue=T=>{Ir(T)&&(p.state.next({disabled:T}),Ku(r,(U,L)=>{const te=Ne(r,L);te&&(U.disabled=te._f.disabled||T,Array.isArray(te._f.refs)&&te._f.refs.forEach(se=>{se.disabled=te._f.disabled||T}))},0,!1))},fe=(T,U)=>async L=>{let te;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let se=Mn(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:je}=await k();n.errors=ce,se=je}else await P(r);if(l.disabled.size)for(const ce of l.disabled)Ct(se,ce,void 0);if(wn(n.errors,"root"),ir(n.errors)){p.state.next({errors:{}});try{await T(se,L)}catch(ce){te=ce}}else U&&await U({...n.errors},L),z(),setTimeout(z);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Te=(T,U={})=>{Ne(r,T)&&(un(U.defaultValue)?q(T,Mn(Ne(s,T))):(q(T,U.defaultValue),Ct(s,T,Mn(U.defaultValue))),U.keepTouched||wn(n.touchedFields,T),U.keepDirty||(wn(n.dirtyFields,T),n.isDirty=U.defaultValue?_(T,Mn(Ne(s,T))):_()),U.keepError||(wn(n.errors,T),u.isValid&&g()),p.state.next({...n}))},we=(T,U={})=>{const L=T?Mn(T):s,te=Mn(L),se=ir(T),ce=se?s:te;if(U.keepDefaultValues||(s=L),!U.keepValues){if(U.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(vu(s,a))]);for(const mt of Array.from(je))Ne(n.dirtyFields,mt)?Ct(ce,mt,Ne(a,mt)):q(mt,Ne(ce,mt))}else{if(zS&&un(T))for(const je of l.mount){const mt=Ne(r,je);if(mt&&mt._f){const Dt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(Jx(Dt)){const xn=Dt.closest("form");if(xn){xn.reset();break}}}}for(const je of l.mount)q(je,Ne(ce,je))}a=Mn(ce),p.array.next({values:{...ce}}),p.state.next({values:{...ce}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:se?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!wa(T,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:se?{}:U.keepDirtyValues?U.keepDefaultValues&&a?vu(s,a):n.dirtyFields:U.keepDefaultValues&&T?vu(s,T):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(T,U)=>we(Ei(T)?T(a):T,U),st=(T,U={})=>{const L=Ne(r,T),te=L&&L._f;if(te){const se=te.refs?te.refs[0]:te.ref;se.focus&&(se.focus(),U.shouldSelect&&Ei(se.select)&&se.select())}},Nt=T=>{n={...n,...T}},Bn={control:{register:pe,unregister:le,getFieldState:re,handleSubmit:fe,setError:Q,_subscribe:de,_runSchema:k,_getWatch:O,_getDirty:_,_setValid:g,_setFieldArray:v,_setDisabledField:xe,_setErrors:w,_getFieldArray:D,_reset:we,_resetDefaultValues:()=>Ei(t.defaultValues)&&t.defaultValues().then(T=>{Ye(T,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ue,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:Ce,trigger:Y,register:pe,handleSubmit:fe,watch:ie,setValue:q,getValues:$,reset:Ye,resetField:Te,clearErrors:ee,unregister:le,setError:Q,setFocus:st,getFieldState:re};return{...Bn,formControl:Bn}}function WS(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,s]=F.useState({isDirty:!1,isValidating:!1,isLoading:Ei(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ei(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Wje(e),formState:r},e.formControl&&e.defaultValues&&!Ei(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,F.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),F.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),F.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),F.useEffect(()=>{e.values&&!wa(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),F.useEffect(()=>{e.errors&&!ir(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),F.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=K3(r,a),t.current}const TP=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ne(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},r5=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?TP(r.ref,n,e):r.refs&&r.refs.forEach(s=>TP(s,n,e))}},Hje=(e,t)=>{t.shouldUseNativeValidation&&r5(e,t);const n={};for(const r in e){const s=Ne(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(Gje(t.names||Object.keys(e),r)){const o=Object.assign({},Ne(n,r));Ct(o,"root",a),Ct(n,r,o)}else Ct(n,r,a)}return n},Gje=(e,t)=>e.some(n=>n.startsWith(t+"."));var Kje=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=Q3(o,t,n,s,d?[].concat(d,r.message):r.message)}e.shift()}return n},HS=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&r5({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Hje(Kje(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},yt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(yt||(yt={}));var qw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(qw||(qw={}));const Pe=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ks=e=>{switch(typeof e){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(e)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(e)?Pe.array:e===null?Pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pe.promise:typeof Map<"u"&&e instanceof Map?Pe.map:typeof Set<"u"&&e instanceof Set?Pe.set:typeof Date<"u"&&e instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},me=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Yje=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Vr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(t){if(!(t instanceof Vr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vr.create=e=>new Vr(e);const jd=(e,t)=>{let n;switch(e.code){case me.invalid_type:e.received===Pe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,yt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${yt.joinValues(e.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yt.joinValues(e.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${yt.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:yt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case me.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case me.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=t.defaultError,yt.assertNever(e)}return{message:n}};let i5=jd;function Qje(e){i5=e}function nv(){return i5}const rv=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},Xje=[];function Se(e,t){const n=nv(),r=rv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===jd?void 0:jd].filter(s=>!!s)});e.common.issues.push(r)}class Jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return tt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return Jn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return tt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const tt=Object.freeze({status:"aborted"}),ac=e=>({status:"dirty",value:e}),fr=e=>({status:"valid",value:e}),zw=e=>e.status==="aborted",Bw=e=>e.status==="dirty",xl=e=>e.status==="valid",tp=e=>typeof Promise<"u"&&e instanceof Promise;function iv(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function s5(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var We;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(We||(We={}));var _u,Pu;class ps{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const OP=(e,t)=>{if(xl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vr(e.common.issues);return this._error=n,this._error}}};function at(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class ut{get description(){return this._def.description}_getType(t){return ks(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ks(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Jn,ctx:{common:t.parent.common,data:t.data,parsedType:ks(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(tp(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ks(t)},a=this._parseSync({data:t,path:s.path,parent:s});return OP(s,a)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ks(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return xl(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>xl(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ks(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(tp(s)?s:Promise.resolve(s));return OP(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:me.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Li({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ls.create(this,this._def)}nullable(){return io.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return Nd.create(this,this._def)}or(t){return sp.create([this,t],this._def)}and(t){return ap.create(this,t,this._def)}transform(t){return new Li({...at(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new up({...at(this._def),innerType:this,defaultValue:n,typeName:et.ZodDefault})}brand(){return new GS({typeName:et.ZodBranded,type:this,...at(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new fp({...at(this._def),innerType:this,catchValue:n,typeName:et.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Kp.create(this,t)}readonly(){return pp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zje=/^c[^\s-]{8,}$/i,Jje=/^[0-9a-z]+$/,ewe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,twe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nwe=/^[a-z0-9_-]{21}$/i,rwe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iwe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,swe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,awe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E0;const owe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uwe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pwe=new RegExp(`^${a5}$`);function o5(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mwe(e){return new RegExp(`^${o5(e)}$`)}function l5(e){let t=`${a5}T${o5(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function hwe(e,t){return!!((t==="v4"||!t)&&owe.test(e)||(t==="v6"||!t)&&cwe.test(e))}function xwe(e,t){if(!rwe.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function vwe(e,t){return!!((t==="v4"||!t)&&lwe.test(e)||(t==="v6"||!t)&&dwe.test(e))}class Ai extends ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pe.string){const a=this._getOrReturnCtx(t);return Se(a,{code:me.invalid_type,expected:Pe.string,received:a.parsedType}),tt}const r=new Jn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Se(s,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Se(s,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")swe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"email",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")E0||(E0=new RegExp(awe,"u")),E0.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"emoji",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")twe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"uuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")nwe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"nanoid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Zje.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Jje.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid2",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ewe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ulid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Se(s,{validation:"url",code:me.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"regex",code:me.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?l5(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?pwe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?mwe(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:me.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?iwe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"duration",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?hwe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ip",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?xwe(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"jwt",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?vwe(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cidr",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?uwe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?fwe.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64url",code:me.invalid_string,message:a.message}),r.dirty()):yt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:me.invalid_string,...We.errToObj(r)})}_addCheck(t){return new Ai({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...We.errToObj(t)})}url(t){return this._addCheck({kind:"url",...We.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...We.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...We.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...We.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...We.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...We.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...We.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...We.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...We.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...We.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...We.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...We.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...We.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...We.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...We.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...We.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...We.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...We.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...We.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...We.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...We.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...We.errToObj(n)})}nonempty(t){return this.min(1,We.errToObj(t))}trim(){return new Ai({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ai({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ai({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ai.create=e=>{var t;return new Ai({checks:[],typeName:et.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...at(e)})};function gwe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class to extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pe.number){const a=this._getOrReturnCtx(t);return Se(a,{code:me.invalid_type,expected:Pe.number,received:a.parsedType}),tt}let r;const s=new Jn;for(const a of this._def.checks)a.kind==="int"?yt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:me.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?gwe(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:me.not_finite,message:a.message}),s.dirty()):yt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,We.toString(n))}gt(t,n){return this.setLimit("min",t,!1,We.toString(n))}lte(t,n){return this.setLimit("max",t,!0,We.toString(n))}lt(t,n){return this.setLimit("max",t,!1,We.toString(n))}setLimit(t,n,r,s){return new to({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:We.toString(s)}]})}_addCheck(t){return new to({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:We.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:We.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:We.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}to.create=e=>new to({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class no extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pe.bigint)return this._getInvalidInput(t);let r;const s=new Jn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):yt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:Pe.bigint,received:n.parsedType}),tt}gte(t,n){return this.setLimit("min",t,!0,We.toString(n))}gt(t,n){return this.setLimit("min",t,!1,We.toString(n))}lte(t,n){return this.setLimit("max",t,!0,We.toString(n))}lt(t,n){return this.setLimit("max",t,!1,We.toString(n))}setLimit(t,n,r,s){return new no({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:We.toString(s)}]})}_addCheck(t){return new no({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:We.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}no.create=e=>{var t;return new no({checks:[],typeName:et.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...at(e)})};class np extends ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pe.boolean){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.boolean,received:r.parsedType}),tt}return fr(t.data)}}np.create=e=>new np({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class vl extends ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pe.date){const a=this._getOrReturnCtx(t);return Se(a,{code:me.invalid_type,expected:Pe.date,received:a.parsedType}),tt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Se(a,{code:me.invalid_date}),tt}const r=new Jn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):yt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:We.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:We.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}vl.create=e=>new vl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...at(e)});class sv extends ut{_parse(t){if(this._getType(t)!==Pe.symbol){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.symbol,received:r.parsedType}),tt}return fr(t.data)}}sv.create=e=>new sv({typeName:et.ZodSymbol,...at(e)});class rp extends ut{_parse(t){if(this._getType(t)!==Pe.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.undefined,received:r.parsedType}),tt}return fr(t.data)}}rp.create=e=>new rp({typeName:et.ZodUndefined,...at(e)});class ip extends ut{_parse(t){if(this._getType(t)!==Pe.null){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.null,received:r.parsedType}),tt}return fr(t.data)}}ip.create=e=>new ip({typeName:et.ZodNull,...at(e)});class wd extends ut{constructor(){super(...arguments),this._any=!0}_parse(t){return fr(t.data)}}wd.create=e=>new wd({typeName:et.ZodAny,...at(e)});class el extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fr(t.data)}}el.create=e=>new el({typeName:et.ZodUnknown,...at(e)});class na extends ut{_parse(t){const n=this._getOrReturnCtx(t);return Se(n,{code:me.invalid_type,expected:Pe.never,received:n.parsedType}),tt}}na.create=e=>new na({typeName:et.ZodNever,...at(e)});class av extends ut{_parse(t){if(this._getType(t)!==Pe.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.void,received:r.parsedType}),tt}return fr(t.data)}}av.create=e=>new av({typeName:et.ZodVoid,...at(e)});class Oi extends ut{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Pe.array)return Se(n,{code:me.invalid_type,expected:Pe.array,received:n.parsedType}),tt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(Se(n,{code:o?me.too_big:me.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Se(n,{code:me.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Se(n,{code:me.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new ps(n,o,n.path,l)))).then(o=>Jn.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new ps(n,o,n.path,l)));return Jn.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Oi({...this._def,minLength:{value:t,message:We.toString(n)}})}max(t,n){return new Oi({...this._def,maxLength:{value:t,message:We.toString(n)}})}length(t,n){return new Oi({...this._def,exactLength:{value:t,message:We.toString(n)}})}nonempty(t){return this.min(1,t)}}Oi.create=(e,t)=>new Oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...at(t)});function Bl(e){if(e instanceof nn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ls.create(Bl(r))}return new nn({...e._def,shape:()=>t})}else return e instanceof Oi?new Oi({...e._def,type:Bl(e.element)}):e instanceof ls?ls.create(Bl(e.unwrap())):e instanceof io?io.create(Bl(e.unwrap())):e instanceof ms?ms.create(e.items.map(t=>Bl(t))):e}class nn extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=yt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Pe.object){const d=this._getOrReturnCtx(t);return Se(d,{code:me.invalid_type,expected:Pe.object,received:d.parsedType}),tt}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ps(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof na){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(Se(s,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ps(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,p=await u.value;d.push({key:f,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>Jn.mergeObjectSync(r,d)):Jn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return We.errToObj,new nn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=We.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(t){return new nn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new nn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new nn({...this._def,catchall:t})}pick(t){const n={};return yt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}omit(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}deepPartial(){return Bl(this)}partial(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new nn({...this._def,shape:()=>n})}required(t){const n={};return yt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ls;)a=a._def.innerType;n[r]=a}}),new nn({...this._def,shape:()=>n})}keyof(){return c5(yt.objectKeys(this.shape))}}nn.create=(e,t)=>new nn({shape:()=>e,unknownKeys:"strip",catchall:na.create(),typeName:et.ZodObject,...at(t)});nn.strictCreate=(e,t)=>new nn({shape:()=>e,unknownKeys:"strict",catchall:na.create(),typeName:et.ZodObject,...at(t)});nn.lazycreate=(e,t)=>new nn({shape:e,unknownKeys:"strip",catchall:na.create(),typeName:et.ZodObject,...at(t)});class sp extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Vr(l.ctx.common.issues));return Se(n,{code:me.invalid_union,unionErrors:o}),tt}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Vr(c));return Se(n,{code:me.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}sp.create=(e,t)=>new sp({options:e,typeName:et.ZodUnion,...at(t)});const Ns=e=>e instanceof lp?Ns(e.schema):e instanceof Li?Ns(e.innerType()):e instanceof cp?[e.value]:e instanceof ro?e.options:e instanceof dp?yt.objectValues(e.enum):e instanceof up?Ns(e._def.innerType):e instanceof rp?[void 0]:e instanceof ip?[null]:e instanceof ls?[void 0,...Ns(e.unwrap())]:e instanceof io?[null,...Ns(e.unwrap())]:e instanceof GS||e instanceof pp?Ns(e.unwrap()):e instanceof fp?Ns(e._def.innerType):[];class ey extends ut{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.object)return Se(n,{code:me.invalid_type,expected:Pe.object,received:n.parsedType}),tt;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Se(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=Ns(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new ey({typeName:et.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...at(r)})}}function Uw(e,t){const n=ks(e),r=ks(t);if(e===t)return{valid:!0,data:e};if(n===Pe.object&&r===Pe.object){const s=yt.objectKeys(t),a=yt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Uw(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Pe.array&&r===Pe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Uw(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Pe.date&&r===Pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ap extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(zw(a)||zw(o))return tt;const l=Uw(a.value,o.value);return l.valid?((Bw(a)||Bw(o))&&n.dirty(),{status:n.value,value:l.data}):(Se(r,{code:me.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ap.create=(e,t,n)=>new ap({left:e,right:t,typeName:et.ZodIntersection,...at(n)});class ms extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.array)return Se(r,{code:me.invalid_type,expected:Pe.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Se(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ps(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Jn.mergeArray(n,o)):Jn.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new ms({...this._def,rest:t})}}ms.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ms({items:e,typeName:et.ZodTuple,rest:null,...at(t)})};class op extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.object)return Se(r,{code:me.invalid_type,expected:Pe.object,received:r.parsedType}),tt;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new ps(r,l,r.path,l)),value:o._parse(new ps(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Jn.mergeObjectAsync(n,s):Jn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ut?new op({keyType:t,valueType:n,typeName:et.ZodRecord,...at(r)}):new op({keyType:Ai.create(),valueType:t,typeName:et.ZodRecord,...at(n)})}}class ov extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.map)return Se(r,{code:me.invalid_type,expected:Pe.map,received:r.parsedType}),tt;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new ps(r,l,r.path,[d,"key"])),value:a._parse(new ps(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return tt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return tt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}ov.create=(e,t,n)=>new ov({valueType:t,keyType:e,typeName:et.ZodMap,...at(n)});class gl extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.set)return Se(r,{code:me.invalid_type,expected:Pe.set,received:r.parsedType}),tt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Se(r,{code:me.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Se(r,{code:me.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return tt;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new ps(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new gl({...this._def,minSize:{value:t,message:We.toString(n)}})}max(t,n){return new gl({...this._def,maxSize:{value:t,message:We.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gl.create=(e,t)=>new gl({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...at(t)});class Nc extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.function)return Se(n,{code:me.invalid_type,expected:Pe.function,received:n.parsedType}),tt;function r(l,c){return rv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nv(),jd].filter(d=>!!d),issueData:{code:me.invalid_arguments,argumentsError:c}})}function s(l,c){return rv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nv(),jd].filter(d=>!!d),issueData:{code:me.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Nd){const l=this;return fr(async function(...c){const d=new Vr([]),u=await l._def.args.parseAsync(c,a).catch(x=>{throw d.addIssue(r(c,x)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,a).catch(x=>{throw d.addIssue(s(f,x)),d})})}else{const l=this;return fr(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Vr([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,a);if(!f.success)throw new Vr([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Nc({...this._def,args:ms.create(t).rest(el.create())})}returns(t){return new Nc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Nc({args:t||ms.create([]).rest(el.create()),returns:n||el.create(),typeName:et.ZodFunction,...at(r)})}}class lp extends ut{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}lp.create=(e,t)=>new lp({getter:e,typeName:et.ZodLazy,...at(t)});class cp extends ut{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Se(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}cp.create=(e,t)=>new cp({value:e,typeName:et.ZodLiteral,...at(t)});function c5(e,t){return new ro({values:e,typeName:et.ZodEnum,...at(t)})}class ro extends ut{constructor(){super(...arguments),_u.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{expected:yt.joinValues(r),received:n.parsedType,code:me.invalid_type}),tt}if(iv(this,_u)||s5(this,_u,new Set(this._def.values)),!iv(this,_u).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{received:n.data,code:me.invalid_enum_value,options:r}),tt}return fr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ro.create(t,{...this._def,...n})}exclude(t,n=this._def){return ro.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}_u=new WeakMap;ro.create=c5;class dp extends ut{constructor(){super(...arguments),Pu.set(this,void 0)}_parse(t){const n=yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Pe.string&&r.parsedType!==Pe.number){const s=yt.objectValues(n);return Se(r,{expected:yt.joinValues(s),received:r.parsedType,code:me.invalid_type}),tt}if(iv(this,Pu)||s5(this,Pu,new Set(yt.getValidEnumValues(this._def.values))),!iv(this,Pu).has(t.data)){const s=yt.objectValues(n);return Se(r,{received:r.data,code:me.invalid_enum_value,options:s}),tt}return fr(t.data)}get enum(){return this._def.values}}Pu=new WeakMap;dp.create=(e,t)=>new dp({values:e,typeName:et.ZodNativeEnum,...at(t)});class Nd extends ut{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.promise&&n.common.async===!1)return Se(n,{code:me.invalid_type,expected:Pe.promise,received:n.parsedType}),tt;const r=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return fr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Nd.create=(e,t)=>new Nd({type:e,typeName:et.ZodPromise,...at(t)});class Li extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||n.value==="dirty"?ac(c.value):c});{if(n.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||n.value==="dirty"?ac(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xl(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>xl(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);yt.assertNever(s)}}Li.create=(e,t,n)=>new Li({schema:e,typeName:et.ZodEffects,effect:t,...at(n)});Li.createWithPreprocess=(e,t,n)=>new Li({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...at(n)});class ls extends ut{_parse(t){return this._getType(t)===Pe.undefined?fr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ls.create=(e,t)=>new ls({innerType:e,typeName:et.ZodOptional,...at(t)});class io extends ut{_parse(t){return this._getType(t)===Pe.null?fr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}io.create=(e,t)=>new io({innerType:e,typeName:et.ZodNullable,...at(t)});class up extends ut{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}up.create=(e,t)=>new up({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...at(t)});class fp extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return tp(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fp.create=(e,t)=>new fp({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...at(t)});class lv extends ut{_parse(t){if(this._getType(t)!==Pe.nan){const r=this._getOrReturnCtx(t);return Se(r,{code:me.invalid_type,expected:Pe.nan,received:r.parsedType}),tt}return{status:"valid",value:t.data}}}lv.create=e=>new lv({typeName:et.ZodNaN,...at(e)});const ywe=Symbol("zod_brand");class GS extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Kp extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(n.dirty(),ac(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?tt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Kp({in:t,out:n,typeName:et.ZodPipeline})}}class pp extends ut{_parse(t){const n=this._def.innerType._parse(t),r=s=>(xl(s)&&(s.value=Object.freeze(s.value)),s);return tp(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}pp.create=(e,t)=>new pp({innerType:e,typeName:et.ZodReadonly,...at(t)});function RP(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function d5(e,t={},n){return e?wd.create().superRefine((r,s)=>{var a,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const f=RP(t,r),p=(u=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...f,fatal:p})}});if(!l){const c=RP(t,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):wd.create()}const bwe={object:nn.lazycreate};var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const jwe=(e,t={message:`Input not instance of ${e.name}`})=>d5(n=>n instanceof e,t),u5=Ai.create,f5=to.create,wwe=lv.create,Nwe=no.create,p5=np.create,Swe=vl.create,Cwe=sv.create,Ewe=rp.create,kwe=ip.create,Awe=wd.create,_we=el.create,Pwe=na.create,Twe=av.create,Owe=Oi.create,Rwe=nn.create,Iwe=nn.strictCreate,Mwe=sp.create,$we=ey.create,Dwe=ap.create,Fwe=ms.create,Lwe=op.create,qwe=ov.create,zwe=gl.create,Bwe=Nc.create,Uwe=lp.create,Vwe=cp.create,Wwe=ro.create,Hwe=dp.create,Gwe=Nd.create,IP=Li.create,Kwe=ls.create,Ywe=io.create,Qwe=Li.createWithPreprocess,Xwe=Kp.create,Zwe=()=>u5().optional(),Jwe=()=>f5().optional(),eNe=()=>p5().optional(),tNe={string:e=>Ai.create({...e,coerce:!0}),number:e=>to.create({...e,coerce:!0}),boolean:e=>np.create({...e,coerce:!0}),bigint:e=>no.create({...e,coerce:!0}),date:e=>vl.create({...e,coerce:!0})},nNe=tt;var Ee=Object.freeze({__proto__:null,defaultErrorMap:jd,setErrorMap:Qje,getErrorMap:nv,makeIssue:rv,EMPTY_PATH:Xje,addIssueToContext:Se,ParseStatus:Jn,INVALID:tt,DIRTY:ac,OK:fr,isAborted:zw,isDirty:Bw,isValid:xl,isAsync:tp,get util(){return yt},get objectUtil(){return qw},ZodParsedType:Pe,getParsedType:ks,ZodType:ut,datetimeRegex:l5,ZodString:Ai,ZodNumber:to,ZodBigInt:no,ZodBoolean:np,ZodDate:vl,ZodSymbol:sv,ZodUndefined:rp,ZodNull:ip,ZodAny:wd,ZodUnknown:el,ZodNever:na,ZodVoid:av,ZodArray:Oi,ZodObject:nn,ZodUnion:sp,ZodDiscriminatedUnion:ey,ZodIntersection:ap,ZodTuple:ms,ZodRecord:op,ZodMap:ov,ZodSet:gl,ZodFunction:Nc,ZodLazy:lp,ZodLiteral:cp,ZodEnum:ro,ZodNativeEnum:dp,ZodPromise:Nd,ZodEffects:Li,ZodTransformer:Li,ZodOptional:ls,ZodNullable:io,ZodDefault:up,ZodCatch:fp,ZodNaN:lv,BRAND:ywe,ZodBranded:GS,ZodPipeline:Kp,ZodReadonly:pp,custom:d5,Schema:ut,ZodSchema:ut,late:bwe,get ZodFirstPartyTypeKind(){return et},coerce:tNe,any:Awe,array:Owe,bigint:Nwe,boolean:p5,date:Swe,discriminatedUnion:$we,effect:IP,enum:Wwe,function:Bwe,instanceof:jwe,intersection:Dwe,lazy:Uwe,literal:Vwe,map:qwe,nan:wwe,nativeEnum:Hwe,never:Pwe,null:kwe,nullable:Ywe,number:f5,object:Rwe,oboolean:eNe,onumber:Jwe,optional:Kwe,ostring:Zwe,pipeline:Xwe,preprocess:Qwe,promise:Gwe,record:Lwe,set:zwe,strictObject:Iwe,string:u5,symbol:Cwe,transformer:IP,tuple:Fwe,undefined:Ewe,union:Mwe,unknown:_we,void:Twe,NEVER:nNe,ZodIssueCode:me,quotelessJson:Yje,ZodError:Vr});const KS=_je,m5=j.createContext({}),qe=({...e})=>i.jsx(m5.Provider,{value:{name:e.name},children:i.jsx(Fw,{...e})}),ty=()=>{const e=j.useContext(m5),t=j.useContext(h5),{getFieldState:n,formState:r}=Jg(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},h5=j.createContext({}),Re=j.forwardRef(({className:e,...t},n)=>{const r=j.useId();return i.jsx(h5.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:Ge("space-y-2",e),...t})})});Re.displayName="FormItem";const Ie=j.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=ty();return i.jsx(ae,{ref:n,className:Ge(r&&"text-destructive",e),htmlFor:s,...t})});Ie.displayName="FormLabel";const Me=j.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=ty();return i.jsx(eI,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});Me.displayName="FormControl";const rNe=j.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=ty();return i.jsx("p",{ref:n,id:r,className:Ge("text-sm text-muted-foreground",e),...t})});rNe.displayName="FormDescription";const $e=j.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=ty(),o=s?String((s==null?void 0:s.message)??""):t;return o?i.jsx("p",{ref:r,id:a,className:Ge("text-sm font-medium text-destructive",e),...n,children:o}):null});$e.displayName="FormMessage";var YS="Collapsible",[iNe,HSe]=xr(YS),[sNe,QS]=iNe(YS),x5=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,d]=cs({prop:r,defaultProp:s,onChange:o});return i.jsx(sNe,{scope:n,disabled:a,contentId:is(),open:c,onOpenToggle:j.useCallback(()=>d(u=>!u),[d]),children:i.jsx(Xe.div,{"data-state":ZS(c),"data-disabled":a?"":void 0,...l,ref:t})})});x5.displayName=YS;var v5="CollapsibleTrigger",g5=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=QS(v5,n);return i.jsx(Xe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":ZS(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Le(e.onClick,s.onOpenToggle)})});g5.displayName=v5;var XS="CollapsibleContent",y5=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=QS(XS,e.__scopeCollapsible);return i.jsx(Yr,{present:n||s.open,children:({present:a})=>i.jsx(aNe,{...r,ref:t,present:a})})});y5.displayName=XS;var aNe=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...a}=e,o=QS(XS,n),[l,c]=j.useState(r),d=j.useRef(null),u=pt(t,d),f=j.useRef(0),p=f.current,x=j.useRef(0),h=x.current,m=o.open||l,y=j.useRef(m),g=j.useRef(void 0);return j.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),hn(()=>{const b=d.current;if(b){g.current=g.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const v=b.getBoundingClientRect();f.current=v.height,x.current=v.width,y.current||(b.style.transitionDuration=g.current.transitionDuration,b.style.animationName=g.current.animationName),c(r)}},[o.open,r]),i.jsx(Xe.div,{"data-state":ZS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...e.style},children:m&&s})});function ZS(e){return e?"open":"closed"}var oNe=x5;const lNe=oNe,cNe=g5,dNe=y5,uNe=Ee.object({equipmentGroupId:Ee.number().min(1,"Equipment Group is required"),equipmentTypeId:Ee.number().min(1,"Equipment Type is required"),subtypeId:Ee.number().optional(),equipmentCode:Ee.string().min(1,"Equipment Code is required"),failureCode:Ee.string().optional(),componentFailureMode:Ee.string().min(1,"Component/Failure Mode is required"),riskRankingId:Ee.number().optional(),riskRankingLabel:Ee.string().optional(),requiredTrendDataEvidence:Ee.string().optional(),aiOrInvestigatorQuestions:Ee.string().optional(),attachmentsEvidenceRequired:Ee.string().optional(),rootCauseLogic:Ee.string().optional(),primaryRootCause:Ee.string().optional(),contributingFactor:Ee.string().optional(),latentCause:Ee.string().optional(),detectionGap:Ee.string().optional(),confidenceLevel:Ee.string().optional(),faultSignaturePattern:Ee.string().optional(),applicableToOtherEquipment:Ee.string().optional(),eliminatedIfTheseFailuresConfirmed:Ee.string().optional(),whyItGetsEliminated:Ee.string().optional(),evidenceGapFlag:Ee.string().optional(),diagnosticValue:Ee.string().optional(),industryRelevance:Ee.string().optional(),evidencePriority:Ee.string().optional(),timeToCollect:Ee.string().optional(),collectionCost:Ee.string().optional(),analysisComplexity:Ee.string().optional(),seasonalFactor:Ee.string().optional(),relatedFailureModes:Ee.string().optional(),prerequisiteEvidence:Ee.string().optional(),followupActions:Ee.string().optional(),industryBenchmark:Ee.string().optional()}),MP="__NONE__";function fNe({initialData:e,onSubmit:t,onCancel:n,isLoading:r=!1,isEdit:s=!1}){const[a,o]=j.useState(()=>{const v=localStorage.getItem("evidenceForm.showAdvanced");return v?JSON.parse(v):!1}),[l,c]=j.useState(e==null?void 0:e.equipmentGroupId),[d,u]=j.useState(e==null?void 0:e.equipmentTypeId);j.useEffect(()=>{localStorage.setItem("evidenceForm.showAdvanced",JSON.stringify(a))},[a]);const f=WS({resolver:HS(uNe),defaultValues:{equipmentGroupId:e==null?void 0:e.equipmentGroupId,equipmentTypeId:e==null?void 0:e.equipmentTypeId,subtypeId:e==null?void 0:e.subtypeId,equipmentCode:(e==null?void 0:e.equipmentCode)||"",failureCode:(e==null?void 0:e.failureCode)||"",componentFailureMode:(e==null?void 0:e.componentFailureMode)||"",riskRankingId:e==null?void 0:e.riskRankingId,riskRankingLabel:(e==null?void 0:e.riskRankingLabel)||"",requiredTrendDataEvidence:(e==null?void 0:e.requiredTrendDataEvidence)||"",aiOrInvestigatorQuestions:(e==null?void 0:e.aiOrInvestigatorQuestions)||"",attachmentsEvidenceRequired:(e==null?void 0:e.attachmentsEvidenceRequired)||"",rootCauseLogic:(e==null?void 0:e.rootCauseLogic)||"",primaryRootCause:(e==null?void 0:e.primaryRootCause)||"",contributingFactor:(e==null?void 0:e.contributingFactor)||"",latentCause:(e==null?void 0:e.latentCause)||"",detectionGap:(e==null?void 0:e.detectionGap)||"",confidenceLevel:(e==null?void 0:e.confidenceLevel)||"",faultSignaturePattern:(e==null?void 0:e.faultSignaturePattern)||"",applicableToOtherEquipment:(e==null?void 0:e.applicableToOtherEquipment)||"",eliminatedIfTheseFailuresConfirmed:(e==null?void 0:e.eliminatedIfTheseFailuresConfirmed)||"",whyItGetsEliminated:(e==null?void 0:e.whyItGetsEliminated)||"",evidenceGapFlag:(e==null?void 0:e.evidenceGapFlag)||"",diagnosticValue:(e==null?void 0:e.diagnosticValue)||"",industryRelevance:(e==null?void 0:e.industryRelevance)||"",evidencePriority:(e==null?void 0:e.evidencePriority)||"",timeToCollect:(e==null?void 0:e.timeToCollect)||"",collectionCost:(e==null?void 0:e.collectionCost)||"",analysisComplexity:(e==null?void 0:e.analysisComplexity)||"",seasonalFactor:(e==null?void 0:e.seasonalFactor)||"",relatedFailureModes:(e==null?void 0:e.relatedFailureModes)||"",prerequisiteEvidence:(e==null?void 0:e.prerequisiteEvidence)||"",followupActions:(e==null?void 0:e.followupActions)||"",industryBenchmark:(e==null?void 0:e.industryBenchmark)||""}}),{data:p=[]}=Ae({queryKey:["/api/equipment-groups"]}),{data:x=[]}=Ae({queryKey:["/api/equipment-types/by-group",l],enabled:!!l}),{data:h=[]}=Ae({queryKey:["/api/equipment-subtypes/by-type",d],enabled:!!d}),{data:m=[]}=Ae({queryKey:["/api/risk-rankings"]}),y=v=>{const N={...v,subtypeId:v.subtypeId===null?void 0:v.subtypeId,failureCode:v.failureCode||null,riskRankingLabel:v.riskRankingLabel||null,requiredTrendDataEvidence:v.requiredTrendDataEvidence||null,aiOrInvestigatorQuestions:v.aiOrInvestigatorQuestions||null,attachmentsEvidenceRequired:v.attachmentsEvidenceRequired||null,rootCauseLogic:v.rootCauseLogic||null,primaryRootCause:v.primaryRootCause||null,contributingFactor:v.contributingFactor||null,latentCause:v.latentCause||null,detectionGap:v.detectionGap||null,confidenceLevel:v.confidenceLevel||null,faultSignaturePattern:v.faultSignaturePattern||null,applicableToOtherEquipment:v.applicableToOtherEquipment||null,eliminatedIfTheseFailuresConfirmed:v.eliminatedIfTheseFailuresConfirmed||null,whyItGetsEliminated:v.whyItGetsEliminated||null,evidenceGapFlag:v.evidenceGapFlag||null,diagnosticValue:v.diagnosticValue||null,industryRelevance:v.industryRelevance||null,evidencePriority:v.evidencePriority||null,timeToCollect:v.timeToCollect||null,collectionCost:v.collectionCost||null,analysisComplexity:v.analysisComplexity||null,seasonalFactor:v.seasonalFactor||null,relatedFailureModes:v.relatedFailureModes||null,prerequisiteEvidence:v.prerequisiteEvidence||null,followupActions:v.followupActions||null,industryBenchmark:v.industryBenchmark||null};t(N)},g=f.watch("riskRankingId"),b=m.find(v=>v.id===g);return i.jsx(KS,{...f,children:i.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-6 max-w-4xl",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"1. Classification"}),i.jsx(ge,{children:"Equipment identification and categorization"})]}),i.jsxs(G,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(qe,{control:f.control,name:"equipmentGroupId",render:({field:v})=>{var N;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Group *"}),i.jsxs(Ue,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const C=parseInt(w);v.onChange(C),c(C),f.setValue("equipmentTypeId",void 0),f.setValue("subtypeId",void 0),u(void 0)},children:[i.jsx(Me,{children:i.jsx(ze,{"data-testid":"select-equipment-group",children:i.jsx(Ve,{placeholder:"Select Equipment Group"})})}),i.jsx(Be,{children:p.map(w=>i.jsx(J,{value:w.id.toString(),children:w.name},w.id))})]}),i.jsx($e,{})]})}}),i.jsx(qe,{control:f.control,name:"equipmentTypeId",render:({field:v})=>{var N;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Type *"}),i.jsxs(Ue,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const C=parseInt(w);v.onChange(C),u(C),f.setValue("subtypeId",void 0)},disabled:!l,children:[i.jsx(Me,{children:i.jsx(ze,{"data-testid":"select-equipment-type",children:i.jsx(Ve,{placeholder:"Select Equipment Type"})})}),i.jsx(Be,{children:x.map(w=>i.jsx(J,{value:w.id.toString(),children:w.name},w.id))})]}),i.jsx($e,{})]})}}),i.jsx(qe,{control:f.control,name:"subtypeId",render:({field:v})=>{var N;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Subtype (Optional)"}),i.jsxs(Ue,{value:((N=v.value)==null?void 0:N.toString())||void 0,onValueChange:w=>{v.onChange(w===MP?void 0:parseInt(w))},disabled:!d,children:[i.jsx(Me,{children:i.jsx(ze,{"data-testid":"select-equipment-subtype",children:i.jsx(Ve,{placeholder:"Select Subtype (Optional)"})})}),i.jsxs(Be,{children:[i.jsx(J,{value:MP,children:"None"}),h.map(w=>i.jsx(J,{value:w.id.toString(),children:w.name},w.id))]})]}),i.jsx($e,{})]})}})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"2. Identity & Codes"}),i.jsx(ge,{children:"Equipment identification and failure classification"})]}),i.jsxs(G,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(qe,{control:f.control,name:"equipmentCode",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Code *"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., PUMP-001","data-testid":"input-equipment-code",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"failureCode",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Failure Code"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., BRG-OVHT-001","data-testid":"input-failure-code",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"componentFailureMode",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Component / Failure Mode *"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Bearing Overheating","data-testid":"input-component-failure-mode",...v})}),i.jsx($e,{})]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"3. Risk"}),i.jsx(ge,{children:"Risk assessment and ranking"})]}),i.jsxs(G,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(qe,{control:f.control,name:"riskRankingId",render:({field:v})=>{var N;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Risk Ranking"}),i.jsxs(Ue,{value:(N=v.value)==null?void 0:N.toString(),onValueChange:w=>{const C=parseInt(w);v.onChange(C);const E=m.find(S=>S.id===C);E&&f.setValue("riskRankingLabel",E.label)},children:[i.jsx(Me,{children:i.jsx(ze,{"data-testid":"select-risk-ranking",children:i.jsx(Ve,{placeholder:"Select Risk Ranking"})})}),i.jsx(Be,{children:m.map(w=>i.jsx(J,{value:w.id.toString(),children:i.jsx(ne,{variant:w.label==="Critical"?"destructive":w.label==="High"?"default":w.label==="Medium"?"secondary":"outline",children:w.label})},w.id))})]}),i.jsx($e,{})]})}}),i.jsx(qe,{control:f.control,name:"riskRankingLabel",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Risk Ranking Label"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"Auto-filled or custom text","data-testid":"input-risk-label",...v,readOnly:!!b})}),i.jsx($e,{})]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"4. Evidence Requirements"}),i.jsx(ge,{children:"Required data and investigation questions"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(qe,{control:f.control,name:"requiredTrendDataEvidence",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Required Trend Data / Evidence"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., vibration; IR; oil analysis",className:"min-h-[100px] resize-none","data-testid":"textarea-trend-data",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"aiOrInvestigatorQuestions",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"AI or Investigator Questions"}),i.jsx(Me,{children:i.jsx(He,{placeholder:`e.g., When did overheating start?
Any recent alignment work?`,className:"min-h-[100px] resize-none","data-testid":"textarea-questions",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"attachmentsEvidenceRequired",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Attachments / Evidence Required"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., Vibration spectrum, IR images",className:"min-h-[100px] resize-none","data-testid":"textarea-attachments",...v})}),i.jsx($e,{})]})})]})]}),i.jsxs(lNe,{open:a,onOpenChange:o,children:[i.jsx(cNe,{asChild:!0,children:i.jsxs(K,{type:"button",variant:"outline",className:"w-full flex items-center justify-between","data-testid":"toggle-advanced-fields",children:[i.jsx("span",{children:"Show Advanced Fields"}),a?i.jsx(TI,{className:"h-4 w-4"}):i.jsx(e1,{className:"h-4 w-4"})]})}),i.jsxs(dNe,{className:"space-y-6 mt-6",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"5. RCA Logic & Causes"}),i.jsx(ge,{children:"Root cause analysis logic and identified causes"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(qe,{control:f.control,name:"rootCauseLogic",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Root Cause Logic"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., If IR > threshold and spectrum shows 2x line frequency...",className:"min-h-[100px] resize-none","data-testid":"textarea-root-cause-logic",...v})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(qe,{control:f.control,name:"primaryRootCause",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Primary Root Cause"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Lubrication failure","data-testid":"input-primary-root-cause",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"contributingFactor",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Contributing Factor"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., High ambient temperature","data-testid":"input-contributing-factor",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"latentCause",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Latent Cause"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., PM interval too long","data-testid":"input-latent-cause",...v})}),i.jsx($e,{})]})})]})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"6. Detection & Confidence"}),i.jsx(ge,{children:"Detection gaps and confidence assessment"})]}),i.jsxs(G,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(qe,{control:f.control,name:"detectionGap",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Detection Gap"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., No online temp alarm at DE",className:"min-h-[100px] resize-none","data-testid":"textarea-detection-gap",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"confidenceLevel",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Confidence Level"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., 80% or High","data-testid":"input-confidence-level",...v})}),i.jsx($e,{})]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"7. Patterns & Applicability"}),i.jsx(ge,{children:"Fault patterns and equipment applicability"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(qe,{control:f.control,name:"faultSignaturePattern",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Fault Signature Pattern"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., High 1× with sidebands; IR hotspot at DE cap",className:"min-h-[100px] resize-none","data-testid":"textarea-fault-signature",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"applicableToOtherEquipment",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Applicable to Other Equipment"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., P-102; all ANSI pump skids",className:"min-h-[100px] resize-none","data-testid":"textarea-applicable-equipment",...v})}),i.jsx($e,{})]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"8. Elimination Logic"}),i.jsx(ge,{children:"Logic for eliminating potential causes"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(qe,{control:f.control,name:"eliminatedIfTheseFailuresConfirmed",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Eliminated If These Failures Confirmed"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., Misalignment; Soft foot",className:"min-h-[100px] resize-none","data-testid":"textarea-eliminated-if",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"whyItGetsEliminated",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Why It Gets Eliminated"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"e.g., If backlash within spec and temp normal, misalignment unlikely",className:"min-h-[100px] resize-none","data-testid":"textarea-why-eliminated",...v})}),i.jsx($e,{})]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{className:"text-lg",children:"9. Additional Information"}),i.jsx(ge,{children:"Flags, evaluation metrics, and additional details"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(qe,{control:f.control,name:"evidenceGapFlag",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Evidence Gap Flag"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"Yes/No/Unknown","data-testid":"input-evidence-gap-flag",...v})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(qe,{control:f.control,name:"diagnosticValue",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Diagnostic Value"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., High","data-testid":"input-diagnostic-value",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"industryRelevance",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Industry Relevance"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Petrochemical","data-testid":"input-industry-relevance",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"evidencePriority",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Evidence Priority"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Critical","data-testid":"input-evidence-priority",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"timeToCollect",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Time to Collect"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., 2 hours","data-testid":"input-time-to-collect",...v})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(qe,{control:f.control,name:"collectionCost",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Collection Cost"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., $500","data-testid":"input-collection-cost",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"analysisComplexity",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Analysis Complexity"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Medium","data-testid":"input-analysis-complexity",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"seasonalFactor",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Seasonal Factor"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., Summer peaks","data-testid":"input-seasonal-factor",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"industryBenchmark",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Industry Benchmark"}),i.jsx(Me,{children:i.jsx(ve,{placeholder:"e.g., API 610","data-testid":"input-industry-benchmark",...v})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(qe,{control:f.control,name:"relatedFailureModes",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Related Failure Modes"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"Related failure modes",className:"min-h-[80px] resize-none","data-testid":"textarea-related-failures",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"prerequisiteEvidence",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Prerequisite Evidence"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"Required prerequisite evidence",className:"min-h-[80px] resize-none","data-testid":"textarea-prerequisite-evidence",...v})}),i.jsx($e,{})]})}),i.jsx(qe,{control:f.control,name:"followupActions",render:({field:v})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Followup Actions"}),i.jsx(Me,{children:i.jsx(He,{placeholder:"Recommended followup actions",className:"min-h-[80px] resize-none","data-testid":"textarea-followup-actions",...v})}),i.jsx($e,{})]})})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t",children:[i.jsxs(K,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel",children:[i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Cancel"]}),i.jsxs(K,{type:"submit",disabled:r,"data-testid":"button-save",children:[i.jsx(Mv,{className:"h-4 w-4 mr-2"}),r?"Saving...":s?"Update Evidence":"Add Evidence"]})]})]})})}function Lt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function so(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const b5=6048e5,pNe=864e5,zm=43200,$P=1440;let mNe={};function Yp(){return mNe}function mp(e,t){var l,c,d,u;const n=Yp(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Lt(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function cv(e){return mp(e,{weekStartsOn:1})}function j5(e){const t=Lt(e),n=t.getFullYear(),r=so(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=cv(r),a=so(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=cv(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function DP(e){const t=Lt(e);return t.setHours(0,0,0,0),t}function dv(e){const t=Lt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hNe(e,t){const n=DP(e),r=DP(t),s=+n-dv(n),a=+r-dv(r);return Math.round((s-a)/pNe)}function xNe(e){const t=j5(e),n=so(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),cv(n)}function mh(e,t){const n=Lt(e),r=Lt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function vNe(e){return so(e,Date.now())}function gNe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yNe(e){if(!gNe(e)&&typeof e!="number")return!1;const t=Lt(e);return!isNaN(Number(t))}function bNe(e,t){const n=Lt(e),r=Lt(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function jNe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function wNe(e,t){return+Lt(e)-+Lt(t)}function NNe(e){const t=Lt(e);return t.setHours(23,59,59,999),t}function SNe(e){const t=Lt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function CNe(e){const t=Lt(e);return+NNe(t)==+SNe(t)}function ENe(e,t){const n=Lt(e),r=Lt(t),s=mh(n,r),a=Math.abs(bNe(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=mh(n,r)===-s;CNe(Lt(e))&&a===1&&mh(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function kNe(e,t,n){const r=wNe(e,t)/1e3;return jNe(n==null?void 0:n.roundingMethod)(r)}function ANe(e){const t=Lt(e),n=so(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _Ne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PNe=(e,t,n)=>{let r;const s=_Ne[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function k0(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const TNe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ONe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},INe={date:k0({formats:TNe,defaultWidth:"full"}),time:k0({formats:ONe,defaultWidth:"full"}),dateTime:k0({formats:RNe,defaultWidth:"full"})},MNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$Ne=(e,t,n,r)=>MNe[e];function yu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const DNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},LNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UNe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VNe={ordinalNumber:UNe,era:yu({values:DNe,defaultWidth:"wide"}),quarter:yu({values:FNe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yu({values:LNe,defaultWidth:"wide"}),day:yu({values:qNe,defaultWidth:"wide"}),dayPeriod:yu({values:zNe,defaultWidth:"wide",formattingValues:BNe,defaultFormattingWidth:"wide"})};function bu(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?HNe(l,f=>f.test(o)):WNe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function WNe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function HNe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function GNe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const KNe=/^(\d+)(th|st|nd|rd)?/i,YNe=/\d+/i,QNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XNe={any:[/^b/i,/^(a|c)/i]},ZNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JNe={any:[/1/i,/2/i,/3/i,/4/i]},e1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a1e={ordinalNumber:GNe({matchPattern:KNe,parsePattern:YNe,valueCallback:e=>parseInt(e,10)}),era:bu({matchPatterns:QNe,defaultMatchWidth:"wide",parsePatterns:XNe,defaultParseWidth:"any"}),quarter:bu({matchPatterns:ZNe,defaultMatchWidth:"wide",parsePatterns:JNe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bu({matchPatterns:e1e,defaultMatchWidth:"wide",parsePatterns:t1e,defaultParseWidth:"any"}),day:bu({matchPatterns:n1e,defaultMatchWidth:"wide",parsePatterns:r1e,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:i1e,defaultMatchWidth:"any",parsePatterns:s1e,defaultParseWidth:"any"})},w5={code:"en-US",formatDistance:PNe,formatLong:INe,formatRelative:$Ne,localize:VNe,match:a1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o1e(e){const t=Lt(e);return hNe(t,ANe(t))+1}function l1e(e){const t=Lt(e),n=+cv(t)-+xNe(t);return Math.round(n/b5)+1}function N5(e,t){var u,f,p,x;const n=Lt(e),r=n.getFullYear(),s=Yp(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,o=so(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=mp(o,t),c=so(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=mp(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function c1e(e,t){var l,c,d,u;const n=Yp(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=N5(e,t),a=so(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),mp(a,t)}function d1e(e,t){const n=Lt(e),r=+mp(n,t)-+c1e(n,t);return Math.round(r/b5)+1}function At(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const fa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return At(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):At(n+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return At(s,t.length)}},Ll={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return fa.y(e,t)},Y:function(e,t,n,r){const s=N5(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return At(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):At(a,t.length)},R:function(e,t){const n=j5(e);return At(n,t.length)},u:function(e,t){const n=e.getFullYear();return At(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return fa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=d1e(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):At(s,t.length)},I:function(e,t,n){const r=l1e(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):fa.d(e,t)},D:function(e,t,n){const r=o1e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return At(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return At(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return At(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Ll.noon:r===0?s=Ll.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Ll.evening:r>=12?s=Ll.afternoon:r>=4?s=Ll.morning:s=Ll.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):fa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):fa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):fa.s(e,t)},S:function(e,t){return fa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return qP(r);case"XXXX":case"XX":return ko(r);case"XXXXX":case"XXX":default:return ko(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return qP(r);case"xxxx":case"xx":return ko(r);case"xxxxx":case"xxx":default:return ko(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LP(r,":");case"OOOO":default:return"GMT"+ko(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LP(r,":");case"zzzz":default:return"GMT"+ko(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return At(r,t.length)},T:function(e,t,n){const r=e.getTime();return At(r,t.length)}};function LP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+At(a,2)}function qP(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):ko(e,t)}function ko(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=At(Math.trunc(r/60),2),a=At(r%60,2);return n+s+t+a}const zP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},S5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},u1e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zP(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",zP(r,t)).replace("{{time}}",S5(s,t))},f1e={p:S5,P:u1e},p1e=/^D+$/,m1e=/^Y+$/,h1e=["D","DD","YY","YYYY"];function x1e(e){return p1e.test(e)}function v1e(e){return m1e.test(e)}function g1e(e,t,n){const r=y1e(e,t,n);if(console.warn(r),h1e.includes(e))throw new RangeError(r)}function y1e(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w1e=/^'([^]*?)'?$/,N1e=/''/g,S1e=/[a-zA-Z]/;function hp(e,t,n){var u,f,p,x;const r=Yp(),s=r.locale??w5,a=r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((x=(p=r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,l=Lt(e);if(!yNe(l))throw new RangeError("Invalid time value");let c=t.match(j1e).map(h=>{const m=h[0];if(m==="p"||m==="P"){const y=f1e[m];return y(h,s.formatLong)}return h}).join("").match(b1e).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:C1e(h)};if(FP[m])return{isToken:!0,value:h};if(m.match(S1e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const m=h.value;(v1e(m)||x1e(m))&&g1e(m,t,String(e));const y=FP[m[0]];return y(l,m,s.localize,d)}).join("")}function C1e(e){const t=e.match(w1e);return t?t[1].replace(N1e,"'"):e}function E1e(e,t,n){const r=Yp(),s=(n==null?void 0:n.locale)??r.locale??w5,a=2520,o=mh(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Lt(t),d=Lt(e)):(c=Lt(e),d=Lt(t));const u=kNe(d,c),f=(dv(d)-dv(c))/1e3,p=Math.round((u-f)/60);let x;if(p<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<$P){const h=Math.round(p/60);return s.formatDistance("aboutXHours",h,l)}else{if(p<a)return s.formatDistance("xDays",1,l);if(p<zm){const h=Math.round(p/$P);return s.formatDistance("xDays",h,l)}else if(p<zm*2)return x=Math.round(p/zm),s.formatDistance("aboutXMonths",x,l)}if(x=ENe(d,c),x<12){const h=Math.round(p/zm);return s.formatDistance("xMonths",h,l)}else{const h=x%12,m=Math.trunc(x/12);return h<3?s.formatDistance("aboutXYears",m,l):h<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function k1e(e,t){return E1e(e,vNe(e),t)}const BP=[{key:"equipmentCode",label:"Equipment Code",width:120,maxWidth:180,sortable:!0,type:"text"},{key:"equipmentGroup",label:"Equipment Group",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"equipmentType",label:"Equipment Type",width:130,maxWidth:200,sortable:!0,type:"text"},{key:"subtype",label:"Subtype",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"componentFailureMode",label:"Component/Failure Mode",width:180,maxWidth:300,sortable:!0,type:"text"},{key:"failureCode",label:"Failure Code",width:100,maxWidth:150,sortable:!0,type:"text"},{key:"riskRanking",label:"Risk Ranking",width:100,maxWidth:150,sortable:!0,type:"badge"},{key:"requiredTrendDataEvidence",label:"Required Trend Data",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"aiOrInvestigatorQuestions",label:"AI/Investigator Questions",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"attachmentsEvidenceRequired",label:"Attachments Required",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"rootCauseLogic",label:"Root Cause Logic",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"primaryRootCause",label:"Primary Root Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"contributingFactor",label:"Contributing Factor",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"latentCause",label:"Latent Cause",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"detectionGap",label:"Detection Gap",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"faultSignaturePattern",label:"Fault Signature Pattern",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"applicableToOtherEquipment",label:"Applicable to Other Equipment",width:180,maxWidth:250,sortable:!1,type:"text"},{key:"evidenceGapFlag",label:"Evidence Gap Flag",width:120,maxWidth:200,sortable:!1,type:"text"},{key:"eliminatedIfTheseFailuresConfirmed",label:"Eliminated If Failures Confirmed",width:200,maxWidth:300,sortable:!1,type:"text"},{key:"whyItGetsEliminated",label:"Why It Gets Eliminated",width:180,maxWidth:280,sortable:!1,type:"text"},{key:"confidenceLevel",label:"Confidence Level",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"diagnosticValue",label:"Diagnostic Value",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"industryRelevance",label:"Industry Relevance",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"evidencePriority",label:"Evidence Priority",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"timeToCollect",label:"Time to Collect",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"collectionCost",label:"Collection Cost",width:110,maxWidth:160,sortable:!1,type:"text"},{key:"analysisComplexity",label:"Analysis Complexity",width:130,maxWidth:190,sortable:!1,type:"text"},{key:"seasonalFactor",label:"Seasonal Factor",width:120,maxWidth:180,sortable:!1,type:"text"},{key:"relatedFailureModes",label:"Related Failure Modes",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"prerequisiteEvidence",label:"Prerequisite Evidence",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"followupActions",label:"Followup Actions",width:150,maxWidth:250,sortable:!1,type:"text"},{key:"industryBenchmark",label:"Industry Benchmark",width:140,maxWidth:220,sortable:!1,type:"text"},{key:"isActive",label:"Status",width:80,maxWidth:100,sortable:!0,type:"boolean"},{key:"lastUpdated",label:"Last Updated",width:120,maxWidth:150,sortable:!0,type:"date"},{key:"updatedBy",label:"Updated By",width:100,maxWidth:140,sortable:!1,type:"text"},{key:"createdAt",label:"Created At",width:120,maxWidth:150,sortable:!0,type:"date"}],A1e=`
.enhanced-evidence-table {
  --table-border: 1px solid hsl(var(--border));
}

.enhanced-evidence-table table {
  border-collapse: separate;
  border-spacing: 0;
  border: var(--table-border);
}

.enhanced-evidence-table th,
.enhanced-evidence-table td {
  vertical-align: top !important;
  padding: 8px 12px;
  border-bottom: var(--table-border);
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  white-space: normal;
}

.enhanced-evidence-table th {
  background-color: hsl(var(--muted) / 0.5);
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1.2;
  position: sticky;
  top: 0;
  z-index: 10;
}

.enhanced-evidence-table td {
  font-size: 0.875rem;
  line-height: 1.4;
  background-color: hsl(var(--background));
}

.enhanced-evidence-table .text-content {
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  hyphens: auto;
}

.enhanced-evidence-table .border-r {
  border-right: var(--table-border);
}

/* Horizontal scroll styling */
.enhanced-evidence-table > div::-webkit-scrollbar {
  height: 8px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-track {
  background: hsl(var(--muted) / 0.3);
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.5);
  border-radius: 4px;
}

.enhanced-evidence-table > div::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.8);
}
`;function _1e({data:e,onEdit:t,onDelete:n,onBulkDelete:r,searchTerm:s,onSearchChange:a,selectedItems:o,onSelectionChange:l,isLoading:c=!1}){const d=j.useRef(null),[u,f]=j.useState({}),[p,x]=j.useState(null),[h,m]=j.useState("asc"),[y,g]=j.useState(BP);j.useEffect(()=>{const A={};BP.forEach(_=>{A[_.key]=_.width}),f(A)},[]);const b=()=>{if(!d.current)return;const A={};y.forEach(_=>{let O=_.label.length*8+40;e.forEach(D=>{const M=String(D[_.key]||""),V=Math.min(M.length*7+40,_.maxWidth);O=Math.max(O,V)}),A[_.key]=Math.min(Math.max(O,80),_.maxWidth)}),f(A)},v=()=>{const A={};y.forEach(_=>{A[_.key]=_.width}),f(A)},N=A=>{p===A?m(_=>_==="asc"?"desc":"asc"):(x(A),m("asc"))},w=j.useMemo(()=>p?[...e].sort((A,_)=>{const O=A[p],D=_[p];if(O==null)return 1;if(D==null)return-1;const M=String(O).localeCompare(String(D));return h==="asc"?M:-M}):e,[e,p,h]),C=A=>{l(A?e.map(_=>_.id):[])},E=(A,_)=>{l(_?[...o,A]:o.filter(O=>O!==A))},S=(A,_)=>{const O=A[_.key];switch(_.type){case"badge":return i.jsx(ne,{variant:"outline",className:"text-xs whitespace-normal",children:String(O||"")});case"date":return i.jsx("span",{className:"text-sm",children:O?hp(new Date(String(O)),"MMM dd, yyyy"):""});case"boolean":return i.jsx(ne,{variant:O?"default":"secondary",className:"text-xs",children:O?"Active":"Inactive"});default:const D=String(O||"");return i.jsx("div",{className:"text-sm leading-tight text-content",title:D.length>50?D:void 0,children:D})}},k=A=>A.sortable?p===A.key?h==="asc"?i.jsx(AI,{className:"h-3 w-3 ml-1"}):i.jsx(kI,{className:"h-3 w-3 ml-1"}):i.jsx(hU,{className:"h-3 w-3 ml-1 opacity-50"}):null,I=e.length>0&&o.length===e.length,P=o.length>0&&o.length<e.length;return i.jsxs("div",{className:"enhanced-evidence-table space-y-4",children:[i.jsx("style",{children:A1e}),i.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Mi,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(ve,{placeholder:"Search evidence library...",value:s,onChange:A=>a(A.target.value),className:"pl-8 w-[300px]","data-testid":"search-evidence"})]}),o.length>0&&i.jsxs(K,{variant:"destructive",size:"sm",onClick:()=>{confirm(`Delete ${o.length} selected items?`)&&r(o)},"data-testid":"bulk-delete-button",children:[i.jsx(Ko,{className:"h-4 w-4 mr-1"}),"Delete Selected (",o.length,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(K,{variant:"outline",size:"sm",onClick:b,"data-testid":"auto-resize-columns",children:[i.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Auto-Fit Columns"]}),i.jsx(K,{variant:"outline",size:"sm",onClick:v,"data-testid":"reset-columns",children:"Reset Widths"})]})]}),i.jsx("div",{ref:d,className:"rounded-md border bg-background",style:{maxHeight:"70vh",overflowX:"auto",overflowY:"auto",width:"100%"},children:i.jsxs(Vp,{className:"relative",style:{minWidth:"4000px"},children:[i.jsx(Wp,{className:"sticky top-0 bg-muted/50 z-10",children:i.jsxs(Fr,{children:[i.jsx(Xt,{className:"w-12 p-2",children:i.jsx(Xn,{checked:I||P,onCheckedChange:C,"aria-label":"Select all","data-testid":"select-all-checkbox"})}),y.map(A=>i.jsx(Xt,{className:`p-2 align-top border-r ${A.sortable?"cursor-pointer hover:bg-muted/50":""}`,style:{width:u[A.key]||"auto",maxWidth:A.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},onClick:()=>A.sortable&&N(A.key),children:i.jsxs("div",{className:"flex flex-col items-start gap-1",children:[i.jsx("div",{className:"font-medium text-xs leading-tight break-words",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",hyphens:"auto"},children:A.label}),k(A)]})},A.key)),i.jsx(Xt,{className:"w-24 p-2 text-center",children:"Actions"})]})}),i.jsx(Hp,{children:c?i.jsx(Fr,{children:i.jsx(Mt,{colSpan:y.length+2,className:"h-32 text-center",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx(Fn,{className:"h-4 w-4 animate-spin mr-2"}),"Loading evidence library..."]})})}):w.length===0?i.jsx(Fr,{children:i.jsx(Mt,{colSpan:y.length+2,className:"h-32 text-center text-muted-foreground",children:s?`No evidence found matching "${s}"`:"No evidence library entries found"})}):w.map((A,_)=>i.jsxs(Fr,{className:`${o.includes(A.id)?"bg-muted/50":""} hover:bg-muted/30`,"data-testid":`evidence-row-${A.id}`,children:[i.jsx(Mt,{className:"p-2",children:i.jsx(Xn,{checked:o.includes(A.id),onCheckedChange:O=>E(A.id,!!O),"aria-label":`Select ${A.equipmentCode}`,"data-testid":`select-item-${A.id}`})}),y.map(O=>i.jsx(Mt,{className:"p-2 align-top border-r",style:{width:u[O.key]||"auto",maxWidth:O.maxWidth,minWidth:80,verticalAlign:"top",whiteSpace:"normal"},children:S(A,O)},O.key)),i.jsx(Mt,{className:"p-2 align-top",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>t(A),"data-testid":`edit-evidence-${A.id}`,className:"h-8 w-8 p-0",children:i.jsx($v,{className:"h-3 w-3"})}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>n(A),"data-testid":`delete-evidence-${A.id}`,className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(Ko,{className:"h-3 w-3"})})]})})]},A.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("div",{children:["Showing ",w.length," of ",e.length," entries",o.length>0&&` (${o.length} selected)`]}),i.jsxs("div",{children:[y.length," columns displayed"]})]})]})}function UP(){const{toast:e}=Ot(),[t,n]=j.useState(""),[r,s]=j.useState(null),[a,o]=j.useState(!1),[l,c]=j.useState(!1),d=j.useRef(null),[u,f]=j.useState([]),[p,x]=j.useState([]),[h,m]=j.useState([]),[y,g]=j.useState([]),[b,v]=j.useState(!1),N=async Q=>{c(!0);try{r?(await bt(`/api/evidence-library/${r.id}`,{method:"PUT",body:JSON.stringify(Q)}),e({title:"Success",description:"Evidence item updated successfully"})):(await bt("/api/evidence-library",{method:"POST",body:JSON.stringify(Q)}),e({title:"Success",description:"Evidence item created successfully"})),gn.invalidateQueries({queryKey:["/api/evidence-library"]}),o(!1),s(null)}catch(ie){console.error("Form submission error:",ie),e({title:"Error",description:r?"Failed to update evidence item":"Failed to create evidence item",variant:"destructive"})}finally{c(!1)}},[w,C]=j.useState(null),[E,S]=j.useState("asc");j.useState(null);const[k,I]=j.useState(null),{data:P=[],isLoading:A,refetch:_}=Ae({queryKey:["/api/evidence-library",t],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const{api:Q}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),ie=await Q("/evidence-library",{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!ie.ok)throw new Error("Failed to fetch evidence library");return ie.json()},retry:!1,refetchOnWindowFocus:!1});Ae({queryKey:["/api/equipment-types"],staleTime:5*60*1e3,queryFn:async()=>{const{api:Q}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),ie=await Q("/equipment-types");return ie.ok?ie.json():[]}}),Ae({queryKey:["/api/equipment-subtypes"],staleTime:5*60*1e3,queryFn:async()=>{const{api:Q}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),ie=await Q("/equipment-subtypes");return ie.ok?ie.json():[]}});const{data:O=[]}=Ae({queryKey:["/api/equipment-groups"],queryFn:async()=>{const{api:Q}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),ie=await Q("/equipment-groups");return ie.ok?ie.json():[]},staleTime:5*60*1e3});console.log("Equipment Groups:",O,"Loading:",A);const{data:D=[]}=Ae({queryKey:["/api/risk-rankings"],queryFn:async()=>{const{api:Q}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),ie=await Q("/risk-rankings");return ie.ok?ie.json():[]},staleTime:5*60*1e3});console.log("Risk Rankings:",D,"Loading:",A),lt({mutationFn:async Q=>bt(`/api/evidence-library/${Q}`,{method:"DELETE"}),onSuccess:()=>{gn.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:"Evidence item deleted successfully"})},onError:Q=>{e({title:"Error",description:"Failed to delete evidence item",variant:"destructive"})}});const M=lt({mutationFn:async Q=>{const ie=new FormData;ie.append("file",Q);const{api:de}=await Qe(async()=>{const{api:le}=await import("./api-DV25CDRD.js");return{api:le}},[]),Ce=await de("/evidence-library/import",{method:"POST",body:ie});if(!Ce.ok){const le=await Ce.json();throw new Error(le.message||"Import failed")}return Ce.json()},onSuccess:Q=>{gn.invalidateQueries({queryKey:["/api/evidence-library"]}),e({title:"Success",description:`Imported ${Q.imported} items successfully`}),d.current&&(d.current.value="")},onError:Q=>{e({title:"Import Error",description:Q.message||"Failed to import CSV file",variant:"destructive"})}}),V=P.filter(Q=>{const ie={equipmentGroup:Q.equipmentGroup==="DELETED"?"Unknown":Q.equipmentGroup||"",equipmentType:Q.equipmentType==="DELETED"?"Unknown":Q.equipmentType||"",componentFailureMode:Q.componentFailureMode||"",equipmentCode:Q.equipmentCode||"",failureCode:Q.failureCode||""},de=t===""||ie.equipmentGroup.toLowerCase().includes(t.toLowerCase())||ie.equipmentType.toLowerCase().includes(t.toLowerCase())||ie.componentFailureMode.toLowerCase().includes(t.toLowerCase())||ie.equipmentCode.toLowerCase().includes(t.toLowerCase())||ie.failureCode.toLowerCase().includes(t.toLowerCase()),Ce=u.length===0||u.includes(ie.equipmentGroup),le=p.length===0||p.includes(ie.equipmentType),xe=h.length===0||h.includes(Q.subtype||"");return de&&Ce&&le&&xe});w&&V.sort((Q,ie)=>{const de=(Q[w]||"").toString(),Ce=(ie[w]||"").toString(),le=de.localeCompare(Ce);return E==="asc"?le:-le});const q=Q=>{var de;const ie=(de=Q.target.files)==null?void 0:de[0];ie&&M.mutate(ie)},R=lt({mutationFn:async Q=>{const ie=Q.map(de=>bt(`/api/evidence-library/${de}`,{method:"DELETE"}));return Promise.all(ie)},onSuccess:()=>{gn.invalidateQueries({queryKey:["/api/evidence-library"]}),g([]),v(!1),e({title:"Success",description:`Deleted ${y.length} evidence items successfully`})},onError:Q=>{e({title:"Error",description:"Failed to delete selected evidence items",variant:"destructive"})}}),B=()=>{y.length!==0&&confirm(`Are you sure you want to delete ${y.length} selected evidence items?`)&&R.mutate(y)},Y=async()=>{try{const{api:Q}=await Qe(async()=>{const{api:xe}=await import("./api-DV25CDRD.js");return{api:xe}},[]),ie=await Q("/evidence-library/export/csv");if(!ie.ok)throw new Error("Export failed");const de=await ie.blob(),Ce=window.URL.createObjectURL(de),le=document.createElement("a");le.href=Ce,le.download=`evidence-library-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(le),le.click(),document.body.removeChild(le),window.URL.revokeObjectURL(Ce),e({title:"Success",description:"Evidence Library exported successfully"})}catch{e({title:"Error",description:"Failed to export Evidence Library",variant:"destructive"})}},$=Array.from(new Set(P.map(Q=>Q.equipmentGroup).filter(Q=>Q!=null&&Q!=="DELETED"))),re=Array.from(new Set(P.map(Q=>Q.equipmentType).filter(Q=>Q!=null&&Q!=="DELETED"))),ee=Array.from(new Set(P.map(Q=>Q.subtype).filter(Q=>Q!=null)));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Library Management"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[i.jsx(kU,{className:"h-8 w-8 mr-3 text-primary"}),"Evidence Library Management"]}),i.jsx("p",{className:"text-muted-foreground",children:"Manage and configure evidence requirements for root cause analysis"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(ne,{variant:P!=null&&P.length?"default":"outline",children:[(P==null?void 0:P.length)||0," Items"]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Z,{className:"flex items-center gap-2",children:["Evidence Library",A?i.jsx(ne,{variant:"secondary",children:"Loading..."}):i.jsxs(ne,{variant:"outline",children:[V.length," of ",P.length," items"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{ref:d,type:"file",accept:".csv,.xlsx,.xls",onChange:q,className:"hidden",id:"csv-import"}),i.jsx("label",{htmlFor:"csv-import",children:i.jsx(K,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs("span",{children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Import CSV"]})})}),i.jsxs(K,{variant:"outline",size:"sm",onClick:Y,children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),y.length>0&&i.jsxs(K,{variant:"destructive",size:"sm",onClick:B,disabled:R.isPending,children:[i.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Delete Selected (",y.length,")"]}),i.jsxs(wc,{open:a,onOpenChange:o,children:[i.jsx(Ow,{asChild:!0,children:i.jsxs(K,{onClick:()=>s(null),children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add Evidence"]})}),i.jsxs(Xo,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[i.jsxs(Zo,{children:[i.jsx(Jo,{children:r?"Edit Evidence Item":"Add New Evidence Item"}),i.jsx(e3,{children:r?"Update all evidence library fields below. All fields except timestamps are available for editing.":"Create a comprehensive evidence library entry. Required fields are marked with *."})]}),i.jsx(fNe,{initialData:r,onSubmit:N,onCancel:()=>o(!1),isLoading:l,isEdit:!!r})]})]})]})]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Mi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(ve,{placeholder:"Search equipment, failure modes, codes...",value:t,onChange:Q=>n(Q.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Ue,{value:"FILTER_EQUIPMENT_GROUPS",onValueChange:Q=>{Q&&Q!=="FILTER_EQUIPMENT_GROUPS"&&f([...u,Q])},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Filter by Equipment Group"})}),i.jsx(Be,{children:$.map(Q=>i.jsx(J,{value:Q,children:Q},Q))})]}),i.jsxs(Ue,{value:"FILTER_EQUIPMENT_TYPES",onValueChange:Q=>{Q&&Q!=="FILTER_EQUIPMENT_TYPES"&&x([...p,Q])},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Filter by Equipment Type"})}),i.jsx(Be,{children:re.map(Q=>i.jsx(J,{value:Q,children:Q},Q))})]}),i.jsxs(Ue,{value:"FILTER_SUBTYPES",onValueChange:Q=>{Q&&Q!=="FILTER_SUBTYPES"&&m([...h,Q])},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Filter by Subtype"})}),i.jsx(Be,{children:ee.map(Q=>i.jsx(J,{value:Q,children:Q},Q))})]})]}),(u.length>0||p.length>0||h.length>0)&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(Q=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[Q,i.jsx("button",{onClick:()=>f(u.filter(ie=>ie!==Q)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},Q)),p.map(Q=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[Q,i.jsx("button",{onClick:()=>x(p.filter(ie=>ie!==Q)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},Q)),h.map(Q=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:[Q,i.jsx("button",{onClick:()=>m(h.filter(ie=>ie!==Q)),className:"ml-1 hover:bg-secondary-foreground/20 rounded-full p-0.5",children:"×"})]},Q)),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{f([]),x([]),m([])},children:"Clear All"})]})]}),i.jsx(_1e,{data:V,onEdit:Q=>{s(Q),o(!0)},onDelete:Q=>I(Q),onBulkDelete:B,searchTerm:t,onSearchChange:n,selectedItems:y,onSelectionChange:g,isLoading:A})]})]})]})}function P1e({isOpen:e,onClose:t,item:n,onSuccess:r}){const{toast:s}=Ot(),[a,o]=j.useState({equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""}),{data:l=[]}=Ae({queryKey:["equipment-groups"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Qe(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentGroups());return m.ok?m.json():[]}}),{data:c=[]}=Ae({queryKey:["equipment-types"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Qe(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentTypes());return m.ok?m.json():[]}}),{data:d=[]}=Ae({queryKey:["risk-rankings"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Qe(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.riskRankings());return m.ok?m.json():[]}}),{data:u=[]}=Ae({queryKey:["equipment-subtypes"],queryFn:async()=>{const{API_ENDPOINTS:h}=await Qe(async()=>{const{API_ENDPOINTS:y}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:y}},void 0),m=await fetch(h.equipmentSubtypes());return m.ok?m.json():[]}});j.useEffect(()=>{var h,m,y,g;o(n?{equipmentGroupId:((h=n.equipmentGroupId)==null?void 0:h.toString())||"",equipmentTypeId:((m=n.equipmentTypeId)==null?void 0:m.toString())||"",equipmentSubtypeId:((y=n.equipmentSubtypeId)==null?void 0:y.toString())||"",componentFailureMode:n.componentFailureMode||"",equipmentCode:n.equipmentCode||"",failureCode:n.failureCode||"",riskRankingId:((g=n.riskRankingId)==null?void 0:g.toString())||"",requiredTrendDataEvidence:n.requiredTrendDataEvidence||"",aiOrInvestigatorQuestions:n.aiOrInvestigatorQuestions||"",attachmentsEvidenceRequired:n.attachmentsEvidenceRequired||"",rootCauseLogic:n.rootCauseLogic||"",primaryRootCause:n.primaryRootCause||"",contributingFactor:n.contributingFactor||"",latentCause:n.latentCause||"",detectionGap:n.detectionGap||"",faultSignaturePattern:n.faultSignaturePattern||"",applicableToOtherEquipment:n.applicableToOtherEquipment||"",evidenceGapFlag:n.evidenceGapFlag||"",confidenceLevel:n.confidenceLevel||"",diagnosticValue:n.diagnosticValue||"",industryRelevance:n.industryRelevance||"",evidencePriority:n.evidencePriority||"",timeToCollect:n.timeToCollect||"",collectionCost:n.collectionCost||"",analysisComplexity:n.analysisComplexity||"",seasonalFactor:n.seasonalFactor||"",relatedFailureModes:n.relatedFailureModes||"",prerequisiteEvidence:n.prerequisiteEvidence||"",followupActions:n.followupActions||"",industryBenchmark:n.industryBenchmark||""}:{equipmentGroupId:"",equipmentTypeId:"",equipmentSubtypeId:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRankingId:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",primaryRootCause:"",contributingFactor:"",latentCause:"",detectionGap:"",faultSignaturePattern:"",applicableToOtherEquipment:"",evidenceGapFlag:"",confidenceLevel:"",diagnosticValue:"",industryRelevance:"",evidencePriority:"",timeToCollect:"",collectionCost:"",analysisComplexity:"",seasonalFactor:"",relatedFailureModes:"",prerequisiteEvidence:"",followupActions:"",industryBenchmark:""})},[n]);const f=lt({mutationFn:async h=>{const m=n?`/api/evidence-library/by-failure-code/${encodeURIComponent(n.failureCode)}`:"/api/evidence-library";return bt(m,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({groupId:h.equipmentGroupId,typeId:h.equipmentTypeId,subtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId,equipmentCode:h.equipmentCode,componentFailureMode:h.componentFailureMode,failureCode:h.failureCode&&h.failureCode.trim()!==""?h.failureCode.trim():null,equipmentGroupId:parseInt(h.equipmentGroupId),equipmentTypeId:parseInt(h.equipmentTypeId),equipmentSubtypeId:h.equipmentSubtypeId==="__NONE__"?null:h.equipmentSubtypeId?parseInt(h.equipmentSubtypeId):null,riskRankingId:h.riskRankingId?parseInt(h.riskRankingId):null,requiredTrendDataEvidence:h.requiredTrendDataEvidence,aiOrInvestigatorQuestions:h.aiOrInvestigatorQuestions,attachmentsEvidenceRequired:h.attachmentsEvidenceRequired,rootCauseLogic:h.rootCauseLogic,primaryRootCause:h.primaryRootCause,contributingFactor:h.contributingFactor,latentCause:h.latentCause,detectionGap:h.detectionGap,confidenceLevel:h.confidenceLevel,faultSignaturePattern:h.faultSignaturePattern,applicableToOtherEquipment:h.applicableToOtherEquipment,evidenceGapFlag:h.evidenceGapFlag,diagnosticValue:h.diagnosticValue,industryRelevance:h.industryRelevance,evidencePriority:h.evidencePriority,timeToCollect:h.timeToCollect,collectionCost:h.collectionCost,analysisComplexity:h.analysisComplexity,seasonalFactor:h.seasonalFactor,relatedFailureModes:h.relatedFailureModes,prerequisiteEvidence:h.prerequisiteEvidence,followupActions:h.followupActions,industryBenchmark:h.industryBenchmark})})},onSuccess:()=>{s({title:"Success",description:n?"Evidence item updated successfully":"Evidence item added successfully"}),gn.invalidateQueries({queryKey:["/api/evidence-library"]}),r==null||r()},onError:h=>{s({title:"Error",description:h.message||"Failed to save evidence item",variant:"destructive"})}}),p=h=>{if(h.preventDefault(),!a.equipmentGroupId||!a.equipmentTypeId||!a.componentFailureMode||!a.equipmentCode){s({title:"Validation Error",description:"Please fill in all required fields (Group, Type, Component/Failure Mode, Equipment Code)",variant:"destructive"});return}f.mutate(a)},x=(h,m)=>{o(y=>({...y,[h]:m}))};return i.jsx(wc,{open:e,onOpenChange:t,children:i.jsxs(Xo,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Zo,{children:i.jsxs(Jo,{children:[n?"Edit":"Add"," Evidence Library Item"]})}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Equipment Group *"}),i.jsxs(Ue,{value:a.equipmentGroupId,onValueChange:h=>x("equipmentGroupId",h),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment group"})}),i.jsx(Be,{children:l.map(h=>i.jsx(J,{value:h.id.toString(),children:h.name},h.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Equipment Type *"}),i.jsxs(Ue,{value:a.equipmentTypeId,onValueChange:h=>x("equipmentTypeId",h),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment type"})}),i.jsx(Be,{children:c.map(h=>i.jsx(J,{value:h.id.toString(),children:h.name},h.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Equipment Subtype (Optional)"}),i.jsxs(Ue,{value:a.equipmentSubtypeId||"__NONE__",onValueChange:h=>x("equipmentSubtypeId",h),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment subtype"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"__NONE__",children:"None"}),u.map(h=>i.jsx(J,{value:h.id.toString(),children:h.name},h.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Component/Failure Mode *"}),i.jsx(ve,{value:a.componentFailureMode,onChange:h=>x("componentFailureMode",h.target.value),placeholder:"Enter component/failure mode"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Equipment Code *"}),i.jsx(ve,{value:a.equipmentCode,onChange:h=>x("equipmentCode",h.target.value),placeholder:"Enter equipment code"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Failure Code (Optional)"}),i.jsx(ve,{value:a.failureCode,onChange:h=>x("failureCode",h.target.value),placeholder:"Enter failure code (optional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Risk Ranking *"}),i.jsxs(Ue,{value:a.riskRankingId,onValueChange:h=>x("riskRankingId",h),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select risk ranking"})}),i.jsx(Be,{children:d.map(h=>i.jsx(J,{value:h.id.toString(),children:h.name},h.id))})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Required Trend Data Evidence *"}),i.jsx(He,{value:a.requiredTrendDataEvidence,onChange:h=>x("requiredTrendDataEvidence",h.target.value),placeholder:"Enter required trend data evidence",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"AI/Investigator Questions *"}),i.jsx(He,{value:a.aiOrInvestigatorQuestions,onChange:h=>x("aiOrInvestigatorQuestions",h.target.value),placeholder:"Enter AI/investigator questions",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Attachments Evidence Required *"}),i.jsx(He,{value:a.attachmentsEvidenceRequired,onChange:h=>x("attachmentsEvidenceRequired",h.target.value),placeholder:"Enter attachments evidence required",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Root Cause Logic *"}),i.jsx(He,{value:a.rootCauseLogic,onChange:h=>x("rootCauseLogic",h.target.value),placeholder:"Enter root cause logic",rows:2})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Primary Root Cause"}),i.jsx(ve,{value:a.primaryRootCause,onChange:h=>x("primaryRootCause",h.target.value),placeholder:"Enter primary root cause"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Contributing Factor"}),i.jsx(ve,{value:a.contributingFactor,onChange:h=>x("contributingFactor",h.target.value),placeholder:"Enter contributing factor"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Confidence Level"}),i.jsx(ve,{value:a.confidenceLevel,onChange:h=>x("confidenceLevel",h.target.value),placeholder:"Enter confidence level"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Diagnostic Value"}),i.jsx(ve,{value:a.diagnosticValue,onChange:h=>x("diagnosticValue",h.target.value),placeholder:"Enter diagnostic value"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(K,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsxs(K,{type:"submit",disabled:f.isPending,children:[f.isPending?"Saving...":n?"Update":"Add"," Item"]})]})]})]})})}function A0(){const{toast:e}=Ot(),t=j.useRef(null),[n,r]=j.useState([]),[s,a]=j.useState(!1),[o,l]=j.useState(""),[c,d]=j.useState([]),[u,f]=j.useState([]),[p,x]=j.useState([]),[h,m]=j.useState({}),[y,g]=j.useState(!1),[b,v]=j.useState(null),{data:N=[],isLoading:w,refetch:C}=Ae({queryKey:["evidence-library"],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{const{API_ENDPOINTS:$}=await Qe(async()=>{const{API_ENDPOINTS:ee}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:ee}},void 0),re=await fetch($.evidenceLibrary(),{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!re.ok)throw new Error("Failed to fetch evidence library");return re.json()},retry:!1,refetchOnWindowFocus:!1}),{data:E=[]}=Ae({queryKey:["equipment-groups"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Qe(async()=>{const{API_ENDPOINTS:ee}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:ee}},void 0),re=await fetch($.equipmentGroups());return re.ok?re.json():[]}}),{data:S=[]}=Ae({queryKey:["equipment-types"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Qe(async()=>{const{API_ENDPOINTS:ee}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:ee}},void 0),re=await fetch($.equipmentTypes());return re.ok?re.json():[]}}),{data:k=[]}=Ae({queryKey:["equipment-subtypes"],queryFn:async()=>{const{API_ENDPOINTS:$}=await Qe(async()=>{const{API_ENDPOINTS:ee}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:ee}},void 0),re=await fetch($.equipmentSubtypes());return re.ok?re.json():[]}}),I=lt({mutationFn:async $=>{const re=new FormData;re.append("file",$);const{API_ENDPOINTS:ee}=await Qe(async()=>{const{API_ENDPOINTS:ie}=await Promise.resolve().then(()=>_s);return{API_ENDPOINTS:ie}},void 0),Q=await fetch(ee.evidenceLibraryImport(),{method:"POST",body:re});if(!Q.ok){const ie=await Q.json();throw new Error(ie.error||"Import failed")}return Q.json()},onSuccess:$=>{gn.invalidateQueries({queryKey:["evidence-library"]}),e({title:"Import Successful",description:`Imported ${$.imported} items, ${$.errors} errors`}),C()},onError:$=>{e({title:"Import Failed",description:$.message,variant:"destructive"})}}),P=N.filter($=>{const re={equipmentGroup:$.equipmentGroup||"",equipmentType:$.equipmentType||"",componentFailureMode:$.componentFailureMode||"",equipmentCode:$.equipmentCode||"",failureCode:$.failureCode||""},ee=o===""||re.equipmentGroup.toLowerCase().includes(o.toLowerCase())||re.equipmentType.toLowerCase().includes(o.toLowerCase())||re.componentFailureMode.toLowerCase().includes(o.toLowerCase())||re.equipmentCode.toLowerCase().includes(o.toLowerCase())||re.failureCode.toLowerCase().includes(o.toLowerCase()),Q=c.length===0||c.includes(re.equipmentGroup),ie=u.length===0||u.includes(re.equipmentType),de=p.length===0||p.includes($.subtype||"");return ee&&Q&&ie&&de}),A=$=>{if(n.includes($))r(n.filter(re=>re!==$)),s&&a(!1);else{const re=[...n,$];r(re),re.length===P.length&&a(!0)}},_=()=>{s?(r([]),a(!1)):(r(P.map($=>$.failureCode)),a(!0))},O=$=>{m(re=>({...re,[$]:!re[$]}))},D=$=>{var ee;const re=(ee=$.target.files)==null?void 0:ee[0];re&&I.mutate(re)},M=async()=>{try{const{api:$}=await Qe(async()=>{const{api:de}=await import("./api-DV25CDRD.js");return{api:de}},[]),re=await $("/evidence-library/export/csv");if(!re.ok)throw new Error("Export failed");const ee=await re.blob(),Q=window.URL.createObjectURL(ee),ie=document.createElement("a");ie.href=Q,ie.download=`evidence-library-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(ie),e({title:"Export Successful",description:"Evidence library exported to CSV"})}catch{e({title:"Export Failed",description:"Failed to export evidence library",variant:"destructive"})}},V=lt({mutationFn:async $=>bt(`/api/evidence-library/by-failure-code/${encodeURIComponent($)}`,{method:"DELETE"}),onSuccess:()=>{gn.invalidateQueries({queryKey:["evidence-library"]}),e({title:"Success",description:"Evidence item permanently deleted"})},onError:$=>{e({title:"Delete Failed",description:$.message||"Failed to delete evidence item",variant:"destructive"})}}),q=lt({mutationFn:async $=>{await Promise.all($.map(re=>bt(`/api/evidence-library/by-failure-code/${encodeURIComponent(re)}`,{method:"DELETE"})))},onSuccess:()=>{gn.invalidateQueries({queryKey:["evidence-library"]}),r([]),a(!1),e({title:"Success",description:`${n.length} items permanently deleted`})},onError:$=>{e({title:"Bulk Delete Failed",description:$.message||"Failed to delete selected items",variant:"destructive"})}}),R=()=>{n.length>0&&confirm(`Are you sure you want to permanently delete ${n.length} items? This cannot be undone.`)&&q.mutate(n)},B=()=>{if(P.length>0&&confirm(`Are you sure you want to permanently delete ALL ${P.length} items? This cannot be undone.`)){const $=P.map(re=>re.failureCode);q.mutateAsync($).then(()=>{r([]),a(!1)})}},Y=($,re,ee,Q=50)=>{const ie=`${re}-${ee}`,de=h[ie],Ce=$||"-";return Ce.length<=Q?Ce:i.jsx(AM,{children:i.jsxs(HW,{children:[i.jsx(GW,{asChild:!0,children:i.jsx("div",{className:"cursor-pointer hover:bg-gray-100 p-1 rounded",onClick:()=>O(ie),children:de?Ce:`${Ce.substring(0,Q)}...`})}),i.jsx(_M,{className:"max-w-md",children:i.jsx("p",{className:"whitespace-pre-wrap",children:Ce})})]})})};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Z,{children:"Evidence Library Management"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Add Item"]}),n.length>0&&i.jsxs(K,{onClick:R,disabled:q.isPending,variant:"destructive",className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"Delete Selected (",n.length,")"]}),P.length>0&&i.jsxs(K,{onClick:B,disabled:q.isPending,variant:"destructive",className:"flex items-center gap-2",children:[i.jsx(Ko,{className:"h-4 w-4"}),"Delete All (",P.length,")"]})]})]})}),i.jsxs(G,{children:[i.jsxs("div",{className:"text-xs text-green-600 mb-4 bg-green-50 p-3 rounded border border-green-200",children:["✅ ",i.jsx("strong",{children:"STEP 2 COMPLETE IMPLEMENTATION:"})," 1) Cell expansion/tooltips ✓ 2) Sticky headers ✓ 3) Dynamic filtering ✓ 4) Import/export ✓ 5) No hardcoding ✓"]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-1 min-w-64",children:i.jsxs("div",{className:"relative",children:[i.jsx(Mi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(ve,{placeholder:"Search equipment group, type, code, failure code...",value:o,onChange:$=>l($.target.value),className:"pl-10"})]})}),i.jsxs(Ue,{value:c[0]||"ALL_GROUPS",onValueChange:$=>d($==="ALL_GROUPS"?[]:[$]),children:[i.jsx(ze,{className:"w-48",children:i.jsx(Ve,{placeholder:"Equipment Group"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"ALL_GROUPS",children:"All Equipment Groups"}),E.map($=>i.jsx(J,{value:$.name,children:$.name},$.id))]})]}),i.jsxs(Ue,{value:u[0]||"ALL_TYPES",onValueChange:$=>f($==="ALL_TYPES"?[]:[$]),children:[i.jsx(ze,{className:"w-48",children:i.jsx(Ve,{placeholder:"Equipment Type"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"ALL_TYPES",children:"All Equipment Types"}),S.map($=>i.jsx(J,{value:$.name,children:$.name},$.id))]})]}),i.jsxs(Ue,{value:p[0]||"ALL_SUBTYPES",onValueChange:$=>x($==="ALL_SUBTYPES"?[]:[$]),children:[i.jsx(ze,{className:"w-48",children:i.jsx(Ve,{placeholder:"Subtype"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"ALL_SUBTYPES",children:"All Subtypes"}),k.map($=>i.jsx(J,{value:$.name,children:$.name},$.id))]})]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P.length," of ",N.length," items",n.length>0&&` (${n.length} selected)`]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"file",ref:t,onChange:D,accept:".csv,.xlsx",className:"hidden"}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{var $;return($=t.current)==null?void 0:$.click()},disabled:I.isPending,children:[i.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:M,children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),i.jsx("div",{className:"evidence-table-container border rounded-lg shadow-lg",style:{width:"100%",height:"80vh",overflow:"auto",position:"relative"},children:i.jsxs("table",{style:{minWidth:"20000px",width:"20000px",tableLayout:"fixed",borderCollapse:"collapse"},className:"w-full",children:[i.jsx("thead",{style:{position:"sticky",top:0,zIndex:1e3,backgroundColor:"white"},className:"bg-white shadow-sm border-b",children:i.jsxs("tr",{children:[i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"80px",minWidth:"80px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:i.jsx("input",{type:"checkbox",checked:s,onChange:_,className:"rounded border-gray-300"})}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Group"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"200px",minWidth:"200px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Type"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Subtype"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Component/Failure Mode"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Equipment Code"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Failure Code"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Risk Ranking"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Required Trend Data"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"AI Questions"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Attachments Required"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Root Cause Logic"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Primary Root Cause"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Contributing Factor"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Latent Cause"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Detection Gap"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Confidence Level"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Fault Signature Pattern"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"280px",minWidth:"280px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Applicable to Other Equipment"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Gap Flag"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"300px",minWidth:"300px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Eliminated If These Failures Confirmed"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Why It Gets Eliminated"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Diagnostic Value"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Relevance"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Evidence Priority"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Time to Collect"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Collection Cost"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Analysis Complexity"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Seasonal Factor"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"250px",minWidth:"250px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Related Failure Modes"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Prerequisite Evidence"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Followup Actions"}),i.jsx("th",{className:"bg-white border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"220px",minWidth:"220px",position:"sticky",top:0,backgroundColor:"white",zIndex:1001},children:"Industry Benchmark"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"System ID"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Group ID"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Type ID"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Subtype ID"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Risk ID"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Active"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"150px",minWidth:"150px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Updated By"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"180px",minWidth:"180px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Created"}),i.jsx("th",{className:"bg-slate-100 border-b border-r px-4 py-3 text-left font-medium text-gray-900",style:{width:"120px",minWidth:"120px",position:"sticky",top:0,backgroundColor:"#f1f5f9",zIndex:1001},children:"Actions"})]})}),i.jsx("tbody",{children:w?i.jsx("tr",{children:i.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Loading evidence library..."})]})})}):P.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:43,className:"text-center py-8 px-4 border-b",children:i.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[i.jsx(vt,{className:"h-12 w-12 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"No evidence items found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add evidence items to get started"})]})]})})}):P.map($=>{var re,ee,Q;return i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 border-r",children:i.jsx("input",{type:"checkbox",checked:n.includes($.failureCode),onChange:()=>A($.failureCode),className:"rounded border-gray-300"})}),i.jsx("td",{className:"px-4 py-3 border-r font-medium",children:Y($.equipmentGroup==="DELETED"?"Unknown":$.equipmentGroup,$.id,"equipmentGroup",30)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.equipmentType==="DELETED"?"Unknown":$.equipmentType,$.id,"equipmentType",30)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.subtype,$.id,"subtype",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.componentFailureMode,$.id,"componentFailureMode",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.equipmentCode,$.id,"equipmentCode",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:i.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:Y($.failureCode,$.id,"failureCode",20)})}),i.jsx("td",{className:"px-4 py-3 border-r",children:i.jsx(ne,{variant:((re=$.riskRanking)==null?void 0:re.toLowerCase())==="critical"||((ee=$.riskRanking)==null?void 0:ee.toLowerCase())==="high"?"destructive":((Q=$.riskRanking)==null?void 0:Q.toLowerCase())==="medium"?"default":"secondary",children:$.riskRanking})}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.requiredTrendDataEvidence,$.id,"requiredTrendDataEvidence",60)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.aiOrInvestigatorQuestions,$.id,"aiOrInvestigatorQuestions",60)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.attachmentsEvidenceRequired,$.id,"attachmentsEvidenceRequired",50)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.rootCauseLogic,$.id,"rootCauseLogic",50)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.primaryRootCause,$.id,"primaryRootCause",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.contributingFactor,$.id,"contributingFactor",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.latentCause,$.id,"latentCause",30)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.detectionGap,$.id,"detectionGap",30)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.confidenceLevel,$.id,"confidenceLevel",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.faultSignaturePattern,$.id,"faultSignaturePattern",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.applicableToOtherEquipment,$.id,"applicableToOtherEquipment",50)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.evidenceGapFlag,$.id,"evidenceGapFlag",35)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.eliminatedIfTheseFailuresConfirmed,$.id,"eliminatedIfTheseFailuresConfirmed",60)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.whyItGetsEliminated,$.id,"whyItGetsEliminated",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.diagnosticValue,$.id,"diagnosticValue",30)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.industryRelevance,$.id,"industryRelevance",35)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.evidencePriority,$.id,"evidencePriority",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.timeToCollect,$.id,"timeToCollect",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.collectionCost,$.id,"collectionCost",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.analysisComplexity,$.id,"analysisComplexity",35)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.seasonalFactor,$.id,"seasonalFactor",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.relatedFailureModes,$.id,"relatedFailureModes",40)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.prerequisiteEvidence,$.id,"prerequisiteEvidence",35)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.followupActions,$.id,"followupActions",25)}),i.jsx("td",{className:"px-4 py-3 border-r",children:Y($.industryBenchmark,$.id,"industryBenchmark",35)}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.id}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentGroupId||"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentTypeId||"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.equipmentSubtypeId||"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.riskRankingId||"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:i.jsx(ne,{variant:$.isActive?"default":"secondary",children:$.isActive?"Active":"Inactive"})}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.updatedAt?hp(new Date($.updatedAt),"MMM dd, yyyy"):"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.updatedBy||"-"}),i.jsx("td",{className:"px-4 py-3 border-r text-xs text-gray-600 bg-gray-50",children:$.createdAt?hp(new Date($.createdAt),"MMM dd, yyyy"):"-"}),i.jsx("td",{className:"px-4 py-3 bg-gray-50",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(K,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>v($),children:i.jsx(OU,{className:"h-3 w-3"})}),i.jsx(K,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-destructive hover:text-destructive",onClick:()=>{confirm("Are you sure you want to permanently delete this item? This cannot be undone.")&&V.mutate($.failureCode)},disabled:V.isPending,children:i.jsx(Ko,{className:"h-3 w-3"})})]})})]},$.id)})})]})})]})]}),i.jsx(P1e,{isOpen:y||!!b,onClose:()=>{g(!1),v(null)},item:b,onSuccess:()=>{gn.invalidateQueries({queryKey:["evidence-library"]}),g(!1),v(null)}})]})}let ql=null,zl=null;async function VP(){try{const e=await fetch("/version.json",{cache:"no-store"});if(!e.ok)return null;const t=await e.json();return String((t==null?void 0:t.version)??"")}catch{return null}}async function T1e(e,t=3e4){const{getIsFormDirty:n,showToast:r,dismissToast:s}=e;ql=await VP(),console.log("[VERSION-WATCH] Initialized with version:",ql);const a=async()=>{const l=await VP();l&&ql&&l!==ql&&(console.log("[VERSION-WATCH] Version changed:",ql,"->",l),n()?(zl&&s(zl),zl=r("A new version is available",{actionLabel:"Reload",onAction:()=>{console.log("[VERSION-WATCH] User chose to reload"),window.location.reload()},onDismiss:()=>{zl=null,ql=l}})):(console.log("[VERSION-WATCH] Auto-reloading (no dirty forms)"),window.location.reload()))},o=setInterval(a,t);return window.addEventListener("visibilitychange",()=>{document.hidden||a()}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(l=>l.forEach(c=>c.unregister())),()=>{clearInterval(o),zl&&s(zl)}}function O1e(e,t){const{actionLabel:n,onAction:r,onDismiss:s}=t,a=Math.random().toString(36).substr(2,9);return JR({title:"Update Available",description:e,action:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{r()},className:"bg-primary text-primary-foreground px-3 py-1 rounded text-sm hover:bg-primary/90",children:n}),i.jsx("button",{onClick:()=>{s==null||s()},className:"bg-secondary text-secondary-foreground px-3 py-1 rounded text-sm hover:bg-secondary/90",children:"Dismiss"})]})}),a}function R1e(e){}var I1e={};const M1e=I1e.VITE_API_BASE||"",ft=e=>`${M1e}/api${e.startsWith("/")?e:`/${e}`}`,ny={meta:()=>ft("/meta"),health:()=>ft("/health"),aiProviders:()=>ft("/admin/ai-settings"),aiProviderById:e=>ft(`/admin/ai-settings/${e}`),aiProviderTest:e=>ft(`/admin/ai-settings/${e}/test`),aiProviderActivate:e=>ft(`/admin/ai-settings/${e}/activate`),aiProvidersDebug:()=>ft("/admin/ai-settings/debug"),equipmentGroups:()=>ft("/equipment-groups"),equipmentGroupById:e=>ft(`/equipment-groups/${e}`),equipmentGroupsActive:()=>ft("/equipment-groups/active"),equipmentGroupsImport:()=>ft("/equipment-groups/import"),equipmentGroupsExport:()=>ft("/equipment-groups/export"),riskRankings:()=>ft("/risk-rankings"),riskRankingById:e=>ft(`/risk-rankings/${e}`),riskRankingsActive:()=>ft("/risk-rankings/active"),riskRankingsImport:()=>ft("/risk-rankings/import"),riskRankingsExport:()=>ft("/risk-rankings/export"),equipmentTypes:()=>ft("/equipment-types"),equipmentTypeById:e=>ft(`/equipment-types/${e}`),equipmentTypesByGroup:e=>ft(`/equipment-types/by-group/${e}`),equipmentSubtypes:()=>ft("/equipment-subtypes"),equipmentSubtypeById:e=>ft(`/equipment-subtypes/${e}`),equipmentSubtypesByType:e=>ft(`/equipment-subtypes/by-type/${e}`),taxonomyGroups:()=>ft("/taxonomy/groups"),taxonomyTypes:()=>ft("/taxonomy/types"),taxonomySubtypes:()=>ft("/taxonomy/subtypes"),taxonomyRisks:()=>ft("/taxonomy/risks"),evidenceLibrary:()=>ft("/evidence-library"),evidenceLibraryById:e=>ft(`/evidence-library/${e}`),evidenceLibraryExport:()=>ft("/evidence-library/export/csv"),evidenceLibraryImport:()=>ft("/evidence-library/import"),investigations:()=>ft("/investigations"),investigationById:e=>ft(`/investigations/${e}`),investigationCreate:()=>ft("/investigations/create"),incidents:()=>ft("/incidents"),incidentById:e=>ft(`/incidents/${e}`),adminAiSettings:()=>ft("/admin/ai-settings"),adminAiSettingsTest:()=>ft("/admin/ai-settings/test")};typeof window<"u"&&console.log("🔧 API Configuration loaded - Zero hardcoding compliance active");const _s=Object.freeze(Object.defineProperty({__proto__:null,API_ENDPOINTS:ny,buildApiEndpoint:ft},Symbol.toStringTag,{value:"Module"})),$1e=()=>Ae({queryKey:["equip","groups"],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log("[EQUIPMENT-HOOKS] Fetching equipment groups");const e=await fetch(ny.equipmentGroups()+"?active=1",{cache:"no-store"}),t=await e.json();if(!(t!=null&&t.ok)){const n=`Failed to load Equipment Groups (${e.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Groups fetch failed:",t==null?void 0:t.error),new Error(n)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${t.data.length} equipment groups`),t.data}}),D1e=e=>Ae({enabled:!!e,queryKey:["equip","types",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment types for group ${e}`);const t=await fetch(ny.equipmentTypesByGroup(e)+"?active=1",{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const r=`Failed to load Equipment Types (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Types fetch failed:",n==null?void 0:n.error),new Error(r)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment types for group ${e}`),n.data}}),F1e=e=>Ae({enabled:!!e,queryKey:["equip","subtypes",e],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:"always",queryFn:async()=>{console.log(`[EQUIPMENT-HOOKS] Fetching equipment subtypes for type ${e}`);const t=await fetch(ny.equipmentSubtypesByType(e)+"?active=1",{cache:"no-store"}),n=await t.json();if(!(n!=null&&n.ok)){const r=`Failed to load Equipment Subtypes (${t.status}). No legacy fallback.`;throw console.error("[EQUIPMENT-HOOKS] Subtypes fetch failed:",n==null?void 0:n.error),new Error(r)}return console.log(`[EQUIPMENT-HOOKS] Loaded ${n.data.length} equipment subtypes for type ${e}`),n.data}});async function L1e(e,t){const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"}),r=await n.json().catch(()=>({}));if(!n.ok)throw r;return r}const C5="/api/v1";async function q1e(e){return(await L1e(`${C5}/incidents`,e)).id}async function Bm(){try{await fetch(`${C5}/incidents/draft`,{method:"DELETE",credentials:"include"})}catch(e){console.warn("[INCIDENTS] Failed to clear server draft:",e)}}const z1e="incident-form",Um="incident:",WP="id",ju={incident:["incident"],incidentDraft:["incident-draft"]},B1e=!1,bo={title:"",description:"",equipment_group_id:null,equipment_type_id:null,equipment_subtype_id:null,equipmentId:"",manufacturer:"",model:"",location:"",reportedBy:"",incidentDateTime:"",priority:"Medium",immediateActions:"",safetyImplications:"",operatingParameters:"",issueFrequency:void 0,issueSeverity:void 0,initialContextualFactors:"",sequenceOfEvents:"",sequenceOfEventsFiles:[],reportableStatus:"not_reportable",regulatoryAuthorityName:"",dateReported:"",reportReferenceId:"",complianceImpactSummary:"",plannedDateOfReporting:"",delayReason:"",intendedRegulatoryAuthority:"",timelineData:{}};function HP(e,t){const n=[];for(let r=0;r<e.length;r++){const s=e.key(r);s&&s.startsWith(t)&&n.push(s)}n.forEach(r=>e.removeItem(r))}function _0(e){try{HP(window.localStorage,e)}catch{}try{HP(window.sessionStorage,e)}catch{}}function E5(e){const{toast:t}=Ot(),n=j.useRef(null),r=j.useRef(""),s=j.useRef(!0),{incidentId:a,stepNumber:o,enabled:l=!0,intervalMs:c=1e4,onSuccess:d,onError:u}=e,f=lt({mutationFn:async h=>(console.log(`[AUTOSAVE] Saving step ${o} data for incident ${a}`),bt(`/api/incidents/${a}/history`,{method:"PUT",body:JSON.stringify({lastStep:o,status:"DRAFT",payload:h})})),onSuccess:h=>{console.log(`[AUTOSAVE] Successfully saved step ${o} data`),d==null||d(),t({description:"Draft saved automatically",duration:2e3,variant:"default"})},onError:h=>{console.error(`[AUTOSAVE] Failed to save step ${o} data:`,h),u==null||u(h),t({title:"Autosave failed",description:"Your changes may not be saved. Please try again.",variant:"destructive",duration:5e3})}}),p=j.useCallback(h=>{if(!l||!a||!h)return;const m={[`step${o}`]:h,customFields:{},tags:[]},y=JSON.stringify(m);if(y===r.current){console.log(`[AUTOSAVE] No changes detected for step ${o}, skipping save`);return}if(s.current){s.current=!1,r.current=y;return}r.current=y,f.mutate(m)},[l,a,o,f]),x=j.useCallback(h=>{if(!l||!a||!h)return Promise.resolve();const m={[`step${o}`]:h,customFields:{},tags:[]};return r.current=JSON.stringify(m),f.mutateAsync(m)},[l,a,o,f]);return j.useEffect(()=>()=>{n.current&&clearInterval(n.current)},[]),j.useEffect(()=>{const h=m=>{if(f.isPending)return m.preventDefault(),m.returnValue="Your changes are still being saved...","Your changes are still being saved..."};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h)}},[f.isPending]),{saveIfChanged:p,saveNow:x,isSaving:f.isPending,lastSaveError:f.error,startAutosave:h=>{n.current&&clearInterval(n.current),n.current=setInterval(()=>{const m=h();p(m)},c),console.log(`[AUTOSAVE] Started autosave for step ${o} (every ${c}ms)`)},stopAutosave:()=>{n.current&&(clearInterval(n.current),n.current=null,console.log(`[AUTOSAVE] Stopped autosave for step ${o}`))}}}function U1e(e){if(!e)return;const[t,n]=e.split("T");if(!t||!n)return;const[r,s,a]=t.split("-").map(Number),[o,l]=n.split(":").map(Number);return new Date(r,(s??1)-1,a??1,o??0,l??0,0,0).toISOString()}const V1e=Ee.object({title:Ee.string().min(3,"Title must be at least 3 characters"),description:Ee.string().min(10,"Description must be at least 10 characters"),equipment_group_id:Ee.number().int().positive().nullable().optional(),equipment_type_id:Ee.number().int().positive().nullable().optional(),equipment_subtype_id:Ee.number().int().positive().nullable(),equipmentId:Ee.string().min(1,"Equipment ID is required"),manufacturer:Ee.string().max(100,"Manufacturer must be 100 characters or less").optional(),model:Ee.string().max(100,"Model must be 100 characters or less").optional(),location:Ee.string().min(1,"Location is required"),reportedBy:Ee.string().min(1,"Reporter name is required"),incidentDateTime:Ee.string().optional(),priority:Ee.enum(["Low","Medium","High","Critical"]),immediateActions:Ee.string().optional(),safetyImplications:Ee.string().optional(),operatingParameters:Ee.string().optional(),issueFrequency:Ee.enum(["First","Recurring","Unknown"]).optional(),issueSeverity:Ee.enum(["Low","Medium","High","Critical"]).optional(),initialContextualFactors:Ee.string().optional(),sequenceOfEvents:Ee.string().optional(),sequenceOfEventsFiles:Ee.array(Ee.string()).optional(),reportableStatus:Ee.enum(["not_reportable","reported","not_yet_reported"]),regulatoryAuthorityName:Ee.string().optional(),dateReported:Ee.string().optional(),reportReferenceId:Ee.string().optional(),complianceImpactSummary:Ee.string().optional(),plannedDateOfReporting:Ee.string().optional(),delayReason:Ee.string().optional(),intendedRegulatoryAuthority:Ee.string().optional(),timelineData:Ee.record(Ee.string()).optional()}).refine(e=>!(e.reportableStatus==="reported"&&(!e.regulatoryAuthorityName||e.regulatoryAuthorityName.trim()===""||!e.dateReported||e.dateReported.trim()===""||!e.complianceImpactSummary||e.complianceImpactSummary.trim()==="")||e.reportableStatus==="not_yet_reported"&&(!e.plannedDateOfReporting||e.plannedDateOfReporting.trim()===""||!e.delayReason||e.delayReason.trim()===""||!e.intendedRegulatoryAuthority||e.intendedRegulatoryAuthority.trim()==="")),{message:"Required regulatory compliance fields must be completed",path:["reportableStatus"]});function W1e(){const{toast:e}=Ot(),t=hr(),n=Rn(),[r,s]=j.useState([]),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(()=>Date.now()),f=j.useRef(null),p=n.search||"";n.pathname+n.search;const x=new URLSearchParams(p),h=x.has(WP),m=x.get("draft")==="1",y=j.useMemo(()=>new URLSearchParams(p).has(WP),[p]),g=WS({resolver:HS(V1e),defaultValues:bo,shouldUnregister:!0,mode:"onChange"}),b=j.useCallback(ee=>{_0(ee)},[]);j.useLayoutEffect(()=>{var ee;!h&&!m&&!B1e&&(_0(Um),Bm(),gn.removeQueries({queryKey:ju.incident}),gn.removeQueries({queryKey:ju.incidentDraft}),(ee=f.current)==null||ee.reset(),g.reset(bo,{keepDirty:!1,keepTouched:!1,keepValues:!1}),u(Date.now())),c(!0)},[h,m,p,gn,g.reset]),j.useLayoutEffect(()=>{console.info("first render values",g.getValues())},[]),j.useEffect(()=>{const ee=Q=>{var ie;!h&&Q.persisted&&!m&&(_0(Um),Bm(),(ie=f.current)==null||ie.reset(),g.reset(bo,{keepDirty:!1,keepTouched:!1,keepValues:!1}),u(Date.now()))};return window.addEventListener("pageshow",ee),()=>window.removeEventListener("pageshow",ee)},[h,m,p,g.reset]),j.useEffect(()=>{const ee=()=>{};return window.addEventListener("unload",ee),()=>window.removeEventListener("unload",ee)},[]),j.useCallback(()=>{y&&t("/incident-reporting",{replace:!0})},[y,t]);const v=g.watch("equipment_group_id"),N=g.watch("equipment_type_id"),w=g.watch("equipment_subtype_id"),{data:C=[],isLoading:E}=$1e(),{data:S=[],isLoading:k}=D1e(v||void 0),{data:I=[],isLoading:P}=F1e(N||void 0),A=g.watch("reportableStatus");j.useEffect(()=>{y&&(g.setValue("equipment_type_id",null,{shouldValidate:!1}),g.setValue("equipment_subtype_id",null,{shouldValidate:!1}))},[v,y,g.setValue]),j.useEffect(()=>{y&&g.setValue("equipment_subtype_id",null,{shouldValidate:!1})},[N,y,g.setValue]),j.useEffect(()=>{v&&N&&w&&_()},[v,N,w]);const _=async()=>{var ee,Q;try{const ie=C.find(pe=>pe.id===v),de=S.find(pe=>pe.id===N),Ce=I.find(pe=>pe.id===w),{apiPost:le}=await Qe(async()=>{const{apiPost:pe}=await import("./api-DV25CDRD.js");return{apiPost:pe}},[]),xe=await le("/incidents/0/generate-timeline-questions",{equipmentGroup:ie==null?void 0:ie.name,equipmentType:de==null?void 0:de.name,equipmentSubtype:Ce==null?void 0:Ce.name});if(xe.ok){const pe=await xe.json();s(((ee=pe.timelineQuestions)==null?void 0:ee.questions)||[]),o(!0),console.log(`Generated ${((Q=pe.timelineQuestions)==null?void 0:Q.totalQuestions)||0} timeline questions`)}}catch(ie){console.error("Error generating timeline questions:",ie)}},O=g.formState.isDirty||Object.keys(g.getValues()).some(ee=>{const Q=g.getValues()[ee];return Q!==""&&Q!==void 0&&Q!==null}),[D,M]=j.useState(""),V=E5({incidentId:D,stepNumber:1,enabled:!!D&&O,onSuccess:()=>{console.log("[INCIDENT-REPORTING] Autosave successful")},onError:ee=>{console.error("[INCIDENT-REPORTING] Autosave failed:",ee)}}),q=g.watch();j.useEffect(()=>{if(D&&O)return V.startAutosave(()=>q),()=>V.stopAutosave()},[D,O,q]),j.useEffect(()=>{const ee=()=>{document.visibilityState==="hidden"&&D&&O&&V.saveNow(q)};return document.addEventListener("visibilitychange",ee),()=>document.removeEventListener("visibilitychange",ee)},[D,O,q,V]),j.useEffect(()=>{let ee;return(async()=>{ee=await T1e({getIsFormDirty:()=>O,showToast:O1e,dismissToast:R1e})})(),()=>{ee&&ee()}},[O]),j.useEffect(()=>{const ee=Q=>{if(O)return Q.preventDefault(),Q.returnValue="You have unsaved changes. Are you sure you want to leave?",Q.returnValue};return window.addEventListener("beforeunload",ee),()=>window.removeEventListener("beforeunload",ee)},[O]);const R=lt({mutationFn:async ee=>await q1e(ee),onSuccess:ee=>{console.log("Incident created successfully with ID:",ee),gn.invalidateQueries({queryKey:["incidents"]})}}),[B,Y]=j.useState(!1),$=async ee=>{Y(!0);try{ee.incidentDateTime&&(ee.incidentDateTime=U1e(ee.incidentDateTime)),console.log("Submitting incident data:",ee);const Q=await R.mutateAsync(ee),de=`/equipment-selection?incident=${encodeURIComponent(Q||"")}`;t(de),b(Um),Bm(),gn.removeQueries({queryKey:ju.incidentDraft}),g.reset(bo),u(Date.now()),gn.invalidateQueries({queryKey:["incidents",Q]}),e({title:"Incident Reported",description:"Moving to equipment selection and symptom input..."})}catch(Q){console.error("CreateIncident failed:",Q),e({title:"Error",description:(Q==null?void 0:Q.message)??"Incident creation failed.",variant:"destructive"})}finally{Y(!1)}},re=()=>{var ee;b(Um),Bm(),gn.removeQueries({queryKey:ju.incident}),gn.removeQueries({queryKey:ju.incidentDraft}),(ee=f.current)==null||ee.reset(),g.reset(bo,{keepDirty:!1,keepTouched:!1,keepValues:!1}),u(Date.now()),y&&t("/incident-reporting",{replace:!0}),e({title:"Form Reset",description:"All form data has been cleared"})};return l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Incident Reporting"}),i.jsx("p",{className:"text-slate-600",children:"Step 1: Report the incident and provide initial details"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{variant:"secondary",className:"text-sm",children:"Step 1 of 8"}),i.jsx(K,{variant:"outline",size:"sm",onClick:re,"data-testid":"button-reset-form",children:"Reset Form"})]})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),i.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Incident Reported"})]}),i.jsx(Nr,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Equipment Selection"})]}),i.jsx(Nr,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Collection"})]}),i.jsx("span",{className:"text-slate-400",children:"..."})]})}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5 text-orange-500"}),"Incident Details"]})}),i.jsx(G,{children:i.jsx(KS,{...g,children:i.jsxs("form",{ref:f,onSubmit:g.handleSubmit($),className:"space-y-6",autoComplete:"off",noValidate:!0,name:`${z1e}-${d}`,children:[i.jsx(Fw,{name:"title",control:g.control,defaultValue:bo.title,render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Incident Details"}),i.jsx(Me,{children:i.jsx(ve,{...ee,autoComplete:"off",placeholder:"e.g., Pump P-101 seal leak","data-testid":"input-incidentDetails"})}),i.jsx($e,{})]})}),i.jsx(Fw,{name:"description",control:g.control,defaultValue:bo.description,render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Initial Observations"}),i.jsx(Me,{children:i.jsx(He,{...ee,autoComplete:"off",placeholder:"Describe what was observed, when it was observed, and any initial symptoms...",rows:4,"data-testid":"textarea-initialObservations"})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(Bs,{}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Equipment Information"}),i.jsx(qe,{control:g.control,name:"equipment_group_id",render:({field:ee})=>{var Q;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Group"}),i.jsxs(Ue,{onValueChange:ie=>ee.onChange(ie?parseInt(ie):null),value:((Q=ee.value)==null?void 0:Q.toString())||void 0,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment group..."})})}),i.jsx(Be,{children:E?i.jsx(J,{value:"LOADING_GROUPS",disabled:!0,children:"Loading groups..."}):C.map(ie=>i.jsx(J,{value:ie.id.toString(),children:ie.name},ie.id))})]}),i.jsx($e,{})]})}}),i.jsx(qe,{control:g.control,name:"equipment_type_id",render:({field:ee})=>{var Q;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Type"}),i.jsxs(Ue,{onValueChange:ie=>ee.onChange(ie?parseInt(ie):null),value:((Q=ee.value)==null?void 0:Q.toString())||void 0,disabled:!v,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:v?"Select equipment type...":"Select group first..."})})}),i.jsx(Be,{children:k?i.jsx(J,{value:"LOADING_TYPES",disabled:!0,children:"Loading types..."}):S.map(ie=>i.jsx(J,{value:ie.id.toString(),children:ie.name},ie.id))})]}),i.jsx($e,{})]})}}),i.jsx(qe,{control:g.control,name:"equipment_subtype_id",render:({field:ee})=>{var Q;return i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment Subtype"}),i.jsxs(Ue,{onValueChange:ie=>ee.onChange(ie?parseInt(ie):null),value:((Q=ee.value)==null?void 0:Q.toString())||void 0,disabled:!N,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:N?"Select equipment subtype...":"Select type first..."})})}),i.jsx(Be,{children:P?i.jsx(J,{value:"LOADING_SUBTYPES",disabled:!0,children:"Loading subtypes..."}):I.map(ie=>i.jsx(J,{value:ie.id.toString(),children:ie.name},ie.id))})]}),i.jsx($e,{})]})}}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(qe,{control:g.control,name:"manufacturer",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Manufacturer"}),i.jsx(Me,{children:i.jsx(ve,{...ee,autoComplete:"off",placeholder:"e.g., Siemens",maxLength:100,"data-testid":"input-manufacturer"})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"model",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Model"}),i.jsx(Me,{children:i.jsx(ve,{...ee,autoComplete:"off",placeholder:"e.g., Simovert-M420",maxLength:100,"data-testid":"input-model"})}),i.jsx($e,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(qe,{control:g.control,name:"equipmentId",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Equipment ID"}),i.jsx(Me,{children:i.jsx(ve,{...ee,autoComplete:"off",placeholder:"e.g., P-101, M-205"})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"location",render:({field:ee})=>i.jsxs(Re,{children:[i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx($I,{className:"h-4 w-4"}),"Location"]}),i.jsx(Me,{children:i.jsx(ve,{...g.register("location"),autoComplete:"new-password",placeholder:"e.g., Unit 1 Process Area"})}),i.jsx($e,{})]})})]})]}),i.jsx(Bs,{}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(qe,{control:g.control,name:"reportedBy",render:({field:ee})=>i.jsxs(Re,{children:[i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(Hc,{className:"h-4 w-4"}),"Reported By"]}),i.jsx(Me,{children:i.jsx(ve,{...g.register("reportedBy"),autoComplete:"new-password",placeholder:"Your name"})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"incidentDateTime",render:({field:ee})=>i.jsxs(Re,{children:[i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Incident Date/Time"]}),i.jsx(Me,{children:i.jsx(ve,{...g.register("incidentDateTime"),type:"datetime-local",autoComplete:"new-password",max:new Date().toISOString().slice(0,16)})}),i.jsx($e,{})]})})]}),i.jsx(qe,{control:g.control,name:"immediateActions",render:({field:ee})=>i.jsxs(Re,{children:[i.jsxs(Ie,{className:"flex items-center gap-2",children:[i.jsx(n1,{className:"h-4 w-4"}),"Immediate Actions Taken"]}),i.jsx(Me,{children:i.jsx(He,{...g.register("immediateActions"),autoComplete:"new-password",placeholder:"Actions taken to secure the area, isolate equipment, etc...",rows:3})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"operatingParameters",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Operating Parameters at Incident Time"}),i.jsx(Me,{children:i.jsx(He,{...g.register("operatingParameters"),autoComplete:"new-password",placeholder:"e.g., Temperature: 85°C, Pressure: 150 PSI, Flow: 200 GPM, RPM: 1750, Vibration: 2.5 mm/s",rows:2})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(qe,{control:g.control,name:"priority",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Priority Level"}),i.jsxs(Ue,{onValueChange:ee.onChange,value:ee.value,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select priority..."})})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Low",children:"Low"}),i.jsx(J,{value:"Medium",children:"Medium"}),i.jsx(J,{value:"High",children:"High"}),i.jsx(J,{value:"Critical",children:"Critical"})]})]}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"issueFrequency",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Issue Frequency"}),i.jsxs(Ue,{onValueChange:ee.onChange,value:ee.value||void 0,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select frequency..."})})}),i.jsxs(Be,{children:[i.jsx(J,{value:"First",children:"First Time"}),i.jsx(J,{value:"Recurring",children:"Recurring Issue"}),i.jsx(J,{value:"Unknown",children:"Unknown"})]})]}),i.jsx($e,{})]})})]}),i.jsx(qe,{control:g.control,name:"issueSeverity",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Issue Severity"}),i.jsxs(Ue,{onValueChange:ee.onChange,value:ee.value||void 0,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select severity..."})})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Low",children:"Low Impact"}),i.jsx(J,{value:"Medium",children:"Medium Impact"}),i.jsx(J,{value:"High",children:"High Impact"}),i.jsx(J,{value:"Critical",children:"Critical Impact"})]})]}),i.jsx($e,{})]})}),i.jsx(Bs,{}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Safety & Regulatory Compliance"}),i.jsx(qe,{control:g.control,name:"safetyImplications",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Safety Implications"}),i.jsx(Me,{children:i.jsx(He,{...g.register("safetyImplications"),autoComplete:"new-password",placeholder:"Describe any safety concerns, potential hazards, or safety measures taken...",rows:3})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"reportableStatus",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Regulatory Reporting Status"}),i.jsxs(Ue,{onValueChange:ee.onChange,value:ee.value,children:[i.jsx(Me,{children:i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select reporting status..."})})}),i.jsxs(Be,{children:[i.jsx(J,{value:"not_reportable",children:"Not Reportable to Authorities"}),i.jsx(J,{value:"reported",children:"Already Reported to Authorities"}),i.jsx(J,{value:"not_yet_reported",children:"Reportable but Not Yet Reported"})]})]}),i.jsx($e,{})]})}),A==="reported"&&i.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h4",{className:"font-medium text-blue-900",children:"Reported Incident Details"}),i.jsx(qe,{control:g.control,name:"regulatoryAuthorityName",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Regulatory Authority Name"}),i.jsx(Me,{children:i.jsx(ve,{...g.register("regulatoryAuthorityName"),autoComplete:"new-password",placeholder:"e.g., EPA, OSHA, Local Fire Department..."})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"dateReported",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Date Reported"}),i.jsx(Me,{children:i.jsx(ve,{...g.register("dateReported"),type:"date",autoComplete:"new-password"})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"reportReferenceId",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Report Reference ID (Optional)"}),i.jsx(Me,{children:i.jsx(ve,{...g.register("reportReferenceId"),autoComplete:"new-password",placeholder:"Reference number provided by authority..."})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"complianceImpactSummary",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Compliance Impact Summary"}),i.jsx(Me,{children:i.jsx(He,{...g.register("complianceImpactSummary"),autoComplete:"new-password",placeholder:"Summarize the regulatory compliance implications...",rows:3})}),i.jsx($e,{})]})})]}),A==="not_yet_reported"&&i.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("h4",{className:"font-medium text-yellow-900",children:"Pending Report Details"}),i.jsx(qe,{control:g.control,name:"plannedDateOfReporting",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Planned Date of Reporting"}),i.jsx(Me,{children:i.jsx(ve,{...g.register("plannedDateOfReporting"),type:"date",autoComplete:"new-password",min:new Date().toISOString().split("T")[0]})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"delayReason",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Reason for Delay"}),i.jsx(Me,{children:i.jsx(He,{...g.register("delayReason"),autoComplete:"new-password",placeholder:"Explain why reporting is delayed...",rows:2})}),i.jsx($e,{})]})}),i.jsx(qe,{control:g.control,name:"intendedRegulatoryAuthority",render:({field:ee})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Intended Regulatory Authority"}),i.jsx(Me,{children:i.jsx(ve,{...g.register("intendedRegulatoryAuthority"),autoComplete:"new-password",placeholder:"e.g., EPA, OSHA, Local Authority..."})}),i.jsx($e,{})]})})]})]}),i.jsx("div",{className:"flex justify-end pt-6",children:i.jsxs(K,{type:"submit",disabled:R.isPending||!g.formState.isValid,className:"min-w-[200px]",children:[R.isPending?"Creating Incident...":"Create Incident & Continue",i.jsx(Nr,{className:"h-4 w-4 ml-2"})]})})]},d)})})]})]})}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(zn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Preparing form..."})]})})}const H1e=/^INC-\d+$/,G1e=e=>H1e.test(e),K1e=Ee.object({specificPart:Ee.string().min(1,"Specific part/component is required"),symptomDescription:Ee.string().min(10,"Detailed symptom description is required"),operatingConditions:Ee.string().min(10,"Operating conditions are required"),whenObserved:Ee.string().min(1,"When symptoms were observed is required"),frequency:Ee.enum(["Continuous","Intermittent","One-time","Increasing"]),severity:Ee.enum(["Minor","Moderate","Significant","Severe"]),contextualFactors:Ee.string().optional()});function Y1e(){var v;const{toast:e}=Ot(),t=hr(),n=Rn(),[r,s]=j.useState(null),a=((v=new URLSearchParams(n.search).get("incident"))==null?void 0:v.trim())??"";j.useEffect(()=>{if(!a){s("Missing incident ID in URL");return}if(!G1e(a)){s("Invalid incident ID format");return}s(null)},[a]);const[o,l]=j.useState(null),c=WS({resolver:HS(K1e),defaultValues:{specificPart:"",symptomDescription:"",operatingConditions:"",whenObserved:"",frequency:"Continuous",severity:"Moderate",contextualFactors:""}}),{data:d,isLoading:u,error:f}=Ae({queryKey:[`/api/incidents/${a}`],queryFn:async()=>{console.log("Fetching incident:",a);const{api:N}=await Qe(async()=>{const{api:E}=await import("./api-DV25CDRD.js");return{api:E}},[]),w=await N(`/incidents/${encodeURIComponent(a)}`);if(console.log("Response status:",w.status,w.statusText),!w.ok){const E=await w.text();throw console.error("API Error:",E),new Error(`Failed to fetch incident: ${w.status} ${E}`)}const C=await w.json();return console.log("Incident data:",C),console.log("Is incident valid?",!!C,"Has equipment group?",!!(C!=null&&C.equipmentGroup)),C},enabled:!!a&&!r,retry:1,retryDelay:1e3}),{data:p,isLoading:x}=Ae({queryKey:["/api/evidence-library/search-with-elimination",d==null?void 0:d.equipmentGroup,d==null?void 0:d.equipmentType,d==null?void 0:d.equipmentSubtype,d==null?void 0:d.description],queryFn:async()=>{var E,S;if(!(d!=null&&d.equipmentGroup)||!(d!=null&&d.equipmentType)||!(d!=null&&d.equipmentSubtype)||!(d!=null&&d.description))return console.log("Missing data for elimination analysis - Group:",d==null?void 0:d.equipmentGroup,"Type:",d==null?void 0:d.equipmentType,"Subtype:",d==null?void 0:d.equipmentSubtype,"Description:",!!(d!=null&&d.description)),null;const N=`/api/evidence-library/search-with-elimination?equipmentGroup=${encodeURIComponent(d.equipmentGroup)}&equipmentType=${encodeURIComponent(d.equipmentType)}&equipmentSubtype=${encodeURIComponent(d.equipmentSubtype)}&symptoms=${encodeURIComponent(d.description)}`;console.log("Searching evidence library with elimination logic:",N);const w=await fetch(N);if(!w.ok)return console.error("Elimination search failed:",w.status,w.statusText),null;const C=await w.json();return console.log(`Elimination results: ${((E=C.remainingFailureModes)==null?void 0:E.length)||0} remaining, ${((S=C.eliminatedFailureModes)==null?void 0:S.length)||0} eliminated`),C},enabled:!!(d!=null&&d.equipmentGroup)&&!!(d!=null&&d.equipmentType)&&!!(d!=null&&d.equipmentSubtype)&&!!(d!=null&&d.description)}),h=(p==null?void 0:p.remainingFailureModes)||[],m=(p==null?void 0:p.eliminatedFailureModes)||[],y=p==null?void 0:p.eliminationSummary,g=lt({mutationFn:async N=>{var C;const w={...N,workflowStatus:"universal_rca_ready",currentStep:2};return console.log(`[UNIVERSAL RCA INTEGRATION] Updating incident ${a} with symptom description length: ${((C=N.symptomDescription)==null?void 0:C.length)||0}`),console.log("[UNIVERSAL RCA INTEGRATION] Will trigger Universal RCA analysis with AI hypothesis generation"),await bt(`/api/incidents/${a}/equipment-symptoms`,{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}})},onSuccess:()=>{e({title:"Equipment & Symptoms Updated",description:"Proceeding to Universal RCA Analysis - AI will analyze your incident description"}),t(`/evidence-checklist?incident=${encodeURIComponent(a)}`)},onError:N=>{e({title:"Error",description:N.message||"Failed to update equipment details",variant:"destructive"})}}),b=N=>{if(!N.symptomDescription||N.symptomDescription.trim().length<20){e({title:"More Details Needed",description:"Please provide a detailed symptom description (at least 20 characters) for Universal RCA AI analysis",variant:"destructive"});return}console.log(`[UNIVERSAL RCA] Submitting incident with ${N.symptomDescription.length} character symptom description - sufficient for Universal RCA Engine`);const w={...N,equipmentLibraryId:o==null?void 0:o.id};g.mutate(w)};return r||!a?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsx(W,{className:"max-w-md",children:i.jsxs(G,{className:"text-center p-6",children:[i.jsx(Hr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:r||"Missing Incident ID"}),i.jsx("p",{className:"text-slate-600 mb-4",children:"Please return to the incident reporting form and submit a valid incident."}),i.jsx(an,{to:"/",children:i.jsxs(K,{variant:"outline",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Incident Form"]})})]})})}):f?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error loading incident"}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),i.jsx("div",{className:"text-sm text-red-500 mt-1",children:f.message})]})}):u?(console.log("Loading incident data..."),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading incident data..."}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]}),i.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Fetching from server..."})]})})):!d&&!u?(console.log("No incident found after loading complete"),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Incident Not Found"}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",a]})]})})):(console.log("RENDERING MAIN CONTENT - incident:",d==null?void 0:d.title,"ID:",a),console.log("Current location:",window.location.pathname,window.location.search),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Equipment Selection & Symptom Input"}),i.jsx("p",{className:"text-slate-600",children:"Step 2: Select specific equipment part and describe symptoms"})]})]}),i.jsx(ne,{variant:"secondary",className:"text-sm",children:"Step 2 of 8"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"✓"}),i.jsx("span",{className:"ml-2 text-sm text-green-600",children:"Incident Reported"})]}),i.jsx(Nr,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Equipment Selection"})]}),i.jsx(Nr,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Checklist"})]}),i.jsx("span",{className:"text-slate-400",children:"..."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Mi,{className:"h-5 w-5 text-blue-500"}),"Equipment Library Selection"]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Select from evidence library for ",d==null?void 0:d.equipmentGroup," - ",d==null?void 0:d.equipmentType]})]}),i.jsxs(G,{children:[y&&i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"font-semibold text-green-800",children:"Intelligent Elimination Applied"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-slate-700",children:y.totalAnalyzed}),i.jsx("div",{className:"text-slate-600",children:"Total Analyzed"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-red-600",children:y.eliminated}),i.jsx("div",{className:"text-red-600",children:"Eliminated"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-green-600",children:y.remaining}),i.jsx("div",{className:"text-green-600",children:"Remaining"})]})]}),i.jsx("div",{className:"mt-2 text-center",children:i.jsxs(ne,{variant:"secondary",className:"bg-green-100 text-green-800",children:["+",y.confidenceBoost,"% Confidence Boost"]})})]}),h.length>0?i.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[i.jsx("div",{className:"mb-3",children:i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:"🎯 Remaining Failure Modes (Focus Here)"})}),h.map(N=>i.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(o==null?void 0:o.id)===N.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>l(N),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-medium text-slate-900",children:N.equipmentType}),i.jsx(ne,{variant:N.riskRanking==="Critical"?"destructive":"secondary",children:N.riskRanking})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:N.componentFailureMode}),i.jsx("p",{className:"text-xs text-green-600",children:"✅ Active for investigation"})]},N.id)),m.length>0&&i.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:i.jsxs("details",{className:"cursor-pointer",children:[i.jsxs("summary",{className:"font-medium text-red-700 mb-2",children:["❌ Eliminated Failure Modes (",m.length,") - Click to view"]}),i.jsx("div",{className:"space-y-2 mt-3",children:m.map(N=>i.jsxs("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50 opacity-75",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-medium text-red-800",children:N.equipmentType}),i.jsx(ne,{variant:"destructive",className:"opacity-75",children:"Eliminated"})]}),i.jsx("p",{className:"text-sm text-red-700 mb-1",children:N.componentFailureMode}),i.jsxs("p",{className:"text-xs text-red-600 italic",children:["Reason: ",N.eliminationReason]})]},N.id))})]})})]}):i.jsxs("div",{className:"text-center py-8 text-blue-500",children:[i.jsx($t,{className:"h-12 w-12 mx-auto mb-3 text-blue-300"}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[i.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:"🤖 Universal RCA Ready"}),i.jsx("p",{className:"text-sm text-blue-700",children:"No equipment-specific templates needed. Our AI will analyze your incident description directly using Universal RCA Engine."}),i.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"→ Fill in symptom details to activate AI analysis"})]})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(n1,{className:"h-5 w-5 text-orange-500"}),"Symptom Details"]})}),i.jsx(G,{children:i.jsx(KS,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(b),className:"space-y-6",children:[i.jsx(qe,{control:c.control,name:"specificPart",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Specific Part/Component"}),i.jsx(Me,{children:i.jsx(ve,{...N,placeholder:"e.g., Mechanical seal, Bearing, Impeller"})}),i.jsx($e,{})]})}),i.jsx(qe,{control:c.control,name:"symptomDescription",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Detailed Symptom Description"}),i.jsx(Me,{children:i.jsx(He,{...N,placeholder:"Describe exactly what you observed: leaks, noises, vibrations, performance issues...",rows:4})}),i.jsx($e,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(qe,{control:c.control,name:"frequency",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Frequency"}),i.jsx(Me,{children:i.jsxs(Ue,{onValueChange:N.onChange,value:N.value,children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Continuous",children:"Continuous"}),i.jsx(J,{value:"Intermittent",children:"Intermittent"}),i.jsx(J,{value:"One-time",children:"One-time"}),i.jsx(J,{value:"Increasing",children:"Increasing"})]})]})}),i.jsx($e,{})]})}),i.jsx(qe,{control:c.control,name:"severity",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Severity"}),i.jsx(Me,{children:i.jsxs(Ue,{onValueChange:N.onChange,value:N.value,children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Minor",children:"Minor"}),i.jsx(J,{value:"Moderate",children:"Moderate"}),i.jsx(J,{value:"Significant",children:"Significant"}),i.jsx(J,{value:"Severe",children:"Severe"})]})]})}),i.jsx($e,{})]})})]}),i.jsx(qe,{control:c.control,name:"operatingConditions",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Operating Conditions"}),i.jsx(Me,{children:i.jsx(He,{...N,placeholder:"Temperature, pressure, flow rate, load conditions when issue occurred...",rows:3})}),i.jsx($e,{})]})}),i.jsx(qe,{control:c.control,name:"whenObserved",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"When First Observed"}),i.jsx(Me,{children:i.jsx(ve,{...N,placeholder:"During startup, at high load, after maintenance..."})}),i.jsx($e,{})]})}),i.jsx(qe,{control:c.control,name:"contextualFactors",render:({field:N})=>i.jsxs(Re,{children:[i.jsx(Ie,{children:"Additional Context (Optional)"}),i.jsx(Me,{children:i.jsx(He,{...N,placeholder:"Recent maintenance, weather conditions, process changes...",rows:2})}),i.jsx($e,{})]})}),o&&i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Hr,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium text-blue-900",children:"Selected from Library:"})]}),i.jsxs("p",{className:"text-sm text-blue-800",children:[o.equipmentType," - ",o.componentFailureMode]})]}),i.jsx("div",{className:"flex justify-end pt-6",children:i.jsx(K,{type:"submit",disabled:g.isPending,className:"min-w-48",children:g.isPending?"Processing...":i.jsxs(i.Fragment,{children:["Generate Evidence Checklist",i.jsx(Nr,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})]})}))}function Q1e({incidentId:e,aiHypotheses:t,instructions:n,onHypothesesConfirmed:r}){const{toast:s}=Ot(),[a,o]=j.useState({}),[l,c]=j.useState([""]),[d,u]=j.useState(""),[f,p]=j.useState(!1),x=(v,N)=>{console.log(`[HYPOTHESIS REVIEW] ${N} hypothesis ${v}`),o(w=>({...w,[v]:N}))},h=()=>{c(v=>[...v,""])},m=(v,N)=>{c(w=>w.map((C,E)=>E===v?N:C))},y=v=>{c(N=>N.filter((w,C)=>C!==v))},g=async()=>{const v=Object.values(a).filter(w=>w==="accept").length,N=l.filter(w=>w.trim().length>0);if(v===0&&N.length===0){s({title:"Selection Required",description:"Please accept at least one AI hypothesis or add a custom failure mode",variant:"destructive"});return}p(!0);try{console.log("[HYPOTHESIS REVIEW] Submitting feedback:",{hypothesesFeedback:a,customFailureModes:N,userReasoning:d});const{apiPost:w}=await Qe(async()=>{const{apiPost:S}=await import("./api-DV25CDRD.js");return{apiPost:S}},[]),C=await w(`/incidents/${e}/hypothesis-feedback`,{hypothesesFeedback:a,customFailureModes:N,userReasoning:d});if(!C.ok)throw new Error(`HTTP ${C.status}: ${C.statusText}`);const E=await C.json();s({title:"Hypotheses Confirmed",description:E.message||`${E.confirmedHypotheses} hypotheses confirmed for evidence collection`}),r(E.evidenceItems||[])}catch(w){console.error("[HYPOTHESIS REVIEW] Feedback submission failed:",w),s({title:"Submission Failed",description:w instanceof Error?w.message:"Failed to process hypothesis feedback",variant:"destructive"})}finally{p(!1)}},b=v=>v>=70?"bg-green-100 text-green-800":v>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return i.jsxs("div",{className:"space-y-6",children:[i.jsx(W,{children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Hr,{className:"h-5 w-5 text-blue-500"}),"Human-AI Collaborative Analysis"]}),i.jsx(ge,{children:n})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"AI-Generated Failure Hypotheses"}),t.map(v=>{const N=a[v.id];return i.jsxs(W,{className:`border-2 ${N==="accept"?"border-green-200 bg-green-50":N==="reject"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[i.jsx(X,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(Z,{className:"text-base",children:v.hypothesis}),i.jsx(ge,{className:"mt-2",children:v.reasoning})]}),i.jsxs(ne,{className:b(v.aiConfidence),children:[v.aiConfidence,"% AI Confidence"]})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[v.suggestedEvidence.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Evidence:"}),i.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:v.suggestedEvidence.map((w,C)=>i.jsx("li",{children:w},C))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(K,{onClick:()=>x(v.id,"accept"),variant:N==="accept"?"default":"outline",size:"sm",className:N==="accept"?"bg-green-600 hover:bg-green-700":"",children:[i.jsx(wt,{className:"h-4 w-4 mr-1"}),"Accept ✅"]}),i.jsxs(K,{onClick:()=>x(v.id,"reject"),variant:N==="reject"?"default":"outline",size:"sm",className:N==="reject"?"bg-red-600 hover:bg-red-700":"",children:[i.jsx(hf,{className:"h-4 w-4 mr-1"}),"Reject ❌"]})]})]})})]},v.id)})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-5 w-5"}),"Add Custom Failure Modes"]}),i.jsx(ge,{children:"Add your own failure hypotheses based on engineering experience"})]}),i.jsxs(G,{className:"space-y-4",children:[l.map((v,N)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ve,{value:v,onChange:w=>m(N,w.target.value),placeholder:"Enter custom failure mode...",className:"flex-1"}),l.length>1&&i.jsx(K,{onClick:()=>y(N),variant:"outline",size:"sm",children:"Remove"})]},N)),i.jsxs(K,{onClick:h,variant:"outline",size:"sm",children:[i.jsx(zr,{className:"h-4 w-4 mr-1"}),"Add Another"]})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Engineering Rationale"}),i.jsx(ge,{children:"Provide your reasoning for the selected hypotheses (optional)"})]}),i.jsx(G,{children:i.jsx(He,{value:d,onChange:v=>u(v.target.value),placeholder:"Explain your engineering reasoning for the selected failure modes...",rows:4})})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(K,{onClick:g,disabled:f,size:"lg",className:"px-8",children:f?"Processing...":"Confirm Hypotheses & Generate Evidence Requirements"})})]})}function X1e({incidentId:e,aiHypotheses:t,onConfirmationComplete:n}){const[r,s]=j.useState(Object.fromEntries(t.map(v=>[v.id,"pending"]))),[a,o]=j.useState([]),[l,c]=j.useState(""),[d,u]=j.useState(!1),{toast:f}=Ot(),p=(v,N)=>{s(w=>({...w,[v]:N}))},x=()=>{l.trim()&&(o(v=>[...v,l.trim()]),c(""),f({title:"Custom Hypothesis Added",description:"Your additional failure mode hypothesis has been recorded."}))},h=v=>{o(N=>N.filter((w,C)=>C!==v))},m=()=>{const v=t.filter(C=>r[C.id]==="agreed"),N=v.length>0,w=a.length>0;if(!N&&!w){f({title:"No Hypotheses Selected",description:"Please agree with at least one AI hypothesis or add a custom hypothesis to proceed.",variant:"destructive"});return}u(!0),console.log(`[HUMAN CONFIRMATION FLOW] Investigator confirmed ${v.length} AI hypotheses`),console.log(`[HUMAN CONFIRMATION FLOW] Investigator added ${a.length} custom hypotheses`),console.log("[HUMAN CONFIRMATION FLOW] Proceeding to Step 5: Evidence Collection Interface"),n(v,a)},y=Object.values(r).filter(v=>v==="pending").length,g=Object.values(r).filter(v=>v==="agreed").length,b=Object.values(r).filter(v=>v==="disagreed").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5 text-blue-600"}),i.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Step 4: Human Confirmation Flow"})]}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Review AI-generated POTENTIAL causes before evidence collection. Agree, disagree, or add your own hypotheses."}),i.jsxs("div",{className:"flex gap-4 mt-3",children:[i.jsxs(ne,{variant:"outline",className:"text-green-700 border-green-300",children:["✅ Agreed: ",g]}),i.jsxs(ne,{variant:"outline",className:"text-red-700 border-red-300",children:["❌ Disagreed: ",b]}),i.jsxs(ne,{variant:"outline",className:"text-gray-700 border-gray-300",children:["⏳ Pending: ",y]}),a.length>0&&i.jsxs(ne,{variant:"outline",className:"text-purple-700 border-purple-300",children:["➕ Custom: ",a.length]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-md font-medium flex items-center gap-2",children:[i.jsx(_t,{className:"h-4 w-4"}),"AI-Generated POTENTIAL Causes (",t.length,")"]}),t.map((v,N)=>i.jsxs(W,{className:`border-2 ${r[v.id]==="agreed"?"border-green-200 bg-green-50 dark:bg-green-950":r[v.id]==="disagreed"?"border-red-200 bg-red-50 dark:bg-red-950":"border-gray-200"}`,children:[i.jsx(X,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[i.jsx(ne,{variant:"outline",className:"text-xs",children:"AI Generated"}),v.failureMode]}),i.jsxs(ge,{className:"mt-1",children:["Confidence: ",v.confidence,"% | ",v.faultSignature]})]}),i.jsxs(ne,{variant:"secondary",children:[v.confidence,"%"]})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:v.description.split(" | AI Reasoning: ")[0]})}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded border",children:[i.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"AI Reasoning:"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:v.aiReasoning})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Evidence:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:v.requiredEvidence.map((w,C)=>i.jsx(ne,{variant:"outline",className:"text-xs",children:w},C))})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs(K,{size:"sm",variant:r[v.id]==="agreed"?"default":"outline",onClick:()=>p(v.id,"agreed"),className:"flex items-center gap-1",children:[i.jsx(wt,{className:"h-4 w-4"}),"Agree"]}),i.jsxs(K,{size:"sm",variant:r[v.id]==="disagreed"?"destructive":"outline",onClick:()=>p(v.id,"disagreed"),className:"flex items-center gap-1",children:[i.jsx(hf,{className:"h-4 w-4"}),"Disagree"]})]})]})})]},v.id))]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"text-md flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Add Custom Hypothesis"]}),i.jsx(ge,{children:"Add your own failure mode hypothesis based on your engineering expertise"})]}),i.jsxs(G,{children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(He,{placeholder:"Describe your additional failure mode hypothesis...",value:l,onChange:v=>c(v.target.value),rows:3}),i.jsxs(K,{onClick:x,disabled:!l.trim(),className:"flex items-center gap-1",children:[i.jsx(zr,{className:"h-4 w-4"}),"Add Hypothesis"]})]}),a.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Your Custom Hypotheses:"}),a.map((v,N)=>i.jsxs("div",{className:"flex items-center justify-between bg-purple-50 dark:bg-purple-950 p-2 rounded border",children:[i.jsx("span",{className:"text-sm",children:v}),i.jsx(K,{size:"sm",variant:"ghost",onClick:()=>h(N),children:i.jsx(hf,{className:"h-4 w-4"})})]},N))]})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(K,{onClick:m,disabled:d,size:"lg",className:"flex items-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):i.jsxs(i.Fragment,{children:["Proceed to Evidence Collection",i.jsx(vt,{className:"h-4 w-4"})]})})})]})}function Z1e(){var Bn;const e=hr();Rn();const[t,n]=j.useState(null),[r,s]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState(null),[d,u]=j.useState(!1),[f,p]=j.useState(0),[x,h]=j.useState(!1),[m,y]=j.useState(null),[g,b]=j.useState(!1);j.useState([]);const[v,N]=j.useState({}),[w,C]=j.useState([]),[E,S]=j.useState(""),[k,I]=j.useState(!1),[P,A]=j.useState("initial"),[_,O]=j.useState([]),[D,M]=j.useState([]),[V,q]=j.useState([]),{toast:R}=Ot();j.useEffect(()=>{const U=new URLSearchParams(window.location.search).get("incident");U&&n(parseInt(U))},[]);const{data:B,isLoading:Y}=Ae({queryKey:["/api/incidents",t],enabled:!!t}),$=lt({mutationFn:async T=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Generating AI hypotheses for human confirmation"),console.log(`[AI HYPOTHESIS GENERATOR] Incident: "${T.symptomDescription||T.title}"`);const{apiPost:U}=await Qe(async()=>{const{apiPost:te}=await import("./api-DV25CDRD.js");return{apiPost:te}},[]),L=await U(`/incidents/${T.id}/generate-ai-hypotheses`);if(!L.ok)throw new Error(`Failed to generate AI hypotheses: ${L.status}`);return await L.json()},onSuccess:T=>{var U,L;console.log(`[AI HYPOTHESIS GENERATOR] Generated ${((U=T.aiHypotheses)==null?void 0:U.length)||0} hypotheses for human confirmation`),O(T.aiHypotheses||[]),A("human-confirmation"),R({title:"AI Analysis Complete",description:`Generated ${((L=T.aiHypotheses)==null?void 0:L.length)||0} potential causes for your review`})},onError:T=>{console.error("[AI HYPOTHESIS GENERATOR] Error:",T),R({title:"AI Analysis Failed",description:"Failed to generate AI hypotheses. Please try again.",variant:"destructive"})}}),re=lt({mutationFn:async({confirmedHypotheses:T,customHypotheses:U})=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 5: Generating evidence checklist from confirmed hypotheses");const{apiPost:L}=await Qe(async()=>{const{apiPost:se}=await import("./api-DV25CDRD.js");return{apiPost:se}},[]),te=await L(`/incidents/${t}/generate-evidence-checklist`,{confirmedHypotheses:T,customHypotheses:U});if(!te.ok)throw new Error(`Failed to generate evidence checklist: ${te.status}`);return await te.json()},onSuccess:T=>{var U,L;console.log(`[EVIDENCE COLLECTION] Generated ${((U=T.evidenceItems)==null?void 0:U.length)||0} evidence items from confirmed hypotheses`),s(T.evidenceItems||[]),A("evidence-collection"),R({title:"Evidence Collection Ready",description:`Generated ${((L=T.evidenceItems)==null?void 0:L.length)||0} evidence requirements based on your confirmed hypotheses`})},onError:T=>{console.error("[EVIDENCE COLLECTION] Error:",T),R({title:"Evidence Generation Failed",description:"Failed to generate evidence checklist. Please try again.",variant:"destructive"})}}),ee=(T,U)=>{console.log("[HUMAN CONFIRMATION FLOW] Human confirmation completed"),console.log(`[HUMAN CONFIRMATION FLOW] Confirmed: ${T.length}, Custom: ${U.length}`),M(T),q(U),A("ai-generating"),re.mutate({confirmedHypotheses:T,customHypotheses:U})},Q=lt({mutationFn:async T=>{const{apiPost:U}=await Qe(async()=>{const{apiPost:te}=await import("./api-DV25CDRD.js");return{apiPost:te}},[]),L=await U(`/incidents/${T.id}/generate-evidence-checklist-legacy`);if(!L.ok)throw new Error(`Failed to generate legacy checklist: ${L.status}`);return await L.json()},onSuccess:T=>{var U;if(console.log("Incident-only evidence checklist generated:",T),T&&T.evidenceItems)if(s(T.evidenceItems),console.log(`[INCIDENT-ONLY EVIDENCE] Generated ${T.evidenceItems.length} symptom-based evidence items`),T.fallbackAnalysis&&T.fallbackAnalysis.inferredFailureModes)console.log("[FALLBACK LOGIC] Evidence Library confidence LOW - showing AI-inferred failure modes"),y({extractedSymptoms:T.fallbackAnalysis.inferredFailureModes.map(L=>({keyword:L.failureMode,confidence:L.confidence,context:L.reasoning})),aiHypotheses:T.fallbackAnalysis.inferredFailureModes.map(L=>({id:L.id||(()=>{const te=new Date().getTime(),se=te%1e4;return`fallback-${te}-${se}`})(),hypothesis:L.failureMode,reasoning:L.reasoning,aiConfidence:L.confidence,confidenceSource:L.confidenceSource||"AI-Inferred"})),fallbackMode:!0,generationMethod:T.generationMethod}),b(!0);else if(T.backwardCompatible||T.generationMethod==="legacy-compatibility")console.log("[BACKWARD COMPATIBILITY] Legacy evidence generation completed"),s(T.evidenceItems),b(!1),I(!1);else if(T.universalRCAFlow&&((U=T.aiAnalysis)!=null&&U.aiHypotheses))console.log("[Universal RCA] Showing hypothesis review interface"),y(T.aiAnalysis),I(!0);else if(T.aiAnalysis){let L=[];T.aiAnalysis.aiHypotheses&&Array.isArray(T.aiAnalysis.aiHypotheses)&&(L=T.aiAnalysis.aiHypotheses.map((te,se)=>({...te,id:te.id||`hypothesis-${new Date().getTime()}-${se}`}))),y({...T.aiAnalysis,aiHypotheses:L}),b(T.requiresHumanVerification||!1),console.log("[INCIDENT-ONLY EVIDENCE] AI analysis ready for human verification"),console.log("Hypotheses with IDs:",L),console.log("Full AI analysis:",T.aiAnalysis)}else s(T.evidenceItems);else console.error("Invalid incident-only evidence format:",T),s([]);u(!1)},onError:T=>{console.error("Failed to generate evidence checklist:",T),u(!1)}}),ie=lt({mutationFn:async T=>bt(`/api/incidents/${T.incidentId}/evidence-progress`,{method:"PUT",body:JSON.stringify({currentStep:3,workflowStatus:"evidence_checklist_complete",evidenceChecklist:T.evidenceItems})})});j.useEffect(()=>{B&&typeof B=="object"&&"id"in B&&P==="initial"&&(console.log(`[UNIVERSAL RCA INSTRUCTION] Starting Universal RCA workflow for incident ${B.id}`),!B.symptomDescription||B.symptomDescription.trim().length<20||B.workflowStatus==="equipment_selected"?(console.log(`[BACKWARD COMPATIBILITY] Using legacy workflow for incident ${B.id}`),u(!0),Q.mutate(B)):(console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Starting AI hypothesis generation"),A("ai-generating"),$.mutate(B)))},[B,P]),j.useEffect(()=>{if(r&&Array.isArray(r)&&r.length>0){const T=r.filter(L=>{var te;return L.completed||L.isUnavailable&&((te=L.unavailableReason)==null?void 0:te.trim())}).length,U=Math.round(T/r.length*100);p(U)}},[r]);const de=(T,U)=>{s(L=>L.map(te=>te.id===T?{...te,completed:U}:te))},Ce=(T,U)=>{s(L=>L.map(te=>te.id===T?{...te,notes:U}:te))},le=(T,U)=>{s(L=>L.map(te=>te.id===T?{...te,files:[...te.files||[],...U],completed:!0}:te))},xe=(T,U)=>{s(L=>L.map(te=>te.id===T?{...te,files:(te.files||[]).filter((se,ce)=>ce!==U)}:te))},pe=(T,U,L)=>{s(te=>te.map(se=>se.id===T?{...se,isUnavailable:U,unavailableReason:L||"",completed:U&&(L!=null&&L.trim())?!0:se.completed,files:U?[]:se.files}:se))},z=()=>{t&&r.length>0&&ie.mutate({incidentId:t,evidenceItems:r},{onSuccess:()=>{e(`/incidents/${t}/rca-triage`)}})},ue=(r==null?void 0:r.filter(T=>T.priority==="Critical"))||[],fe=(r==null?void 0:r.filter(T=>T.priority==="High"))||[],Te=(r==null?void 0:r.filter(T=>T.priority==="Medium"))||[],we=(r==null?void 0:r.filter(T=>T.priority==="Low"))||[],Ye=ue.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())||T.files&&T.files.length>0}),st=fe.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())||T.files&&T.files.length>0}),Nt=Math.floor(fe.length*.8)+(fe.length*.8%1>0?1:0),An=Ye.length===ue.length&&st.length>=Nt;if(console.log(`[EVIDENCE PROGRESS] Critical: ${Ye.length}/${ue.length}, High: ${st.length}/${fe.length} (need ${Nt}), Can Proceed: ${An}`),!An&&r.length>0){console.log("[EVIDENCE PROGRESS] Blocking items:"),ue.forEach(U=>{var L;!U.completed&&!(U.isUnavailable&&((L=U.unavailableReason)!=null&&L.trim()))&&console.log(`- Critical item "${U.title}" not completed`)});const T=Nt-st.length;T>0&&console.log(`- Need ${T} more high priority items completed`)}return Y||!B?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K,{variant:"ghost",onClick:()=>e("/admin"),children:"← Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 3: AI Evidence Checklist"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",B==null?void 0:B.id]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(W,{className:"mb-8",children:i.jsxs(X,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),B==null?void 0:B.title]}),i.jsxs(ge,{children:["Equipment: ",B==null?void 0:B.equipmentGroup," → ",B==null?void 0:B.equipmentType," (",B==null?void 0:B.equipmentId,")"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[f,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),i.jsx(Lr,{value:f,className:"mt-4"})]})}),P==="ai-generating"&&i.jsxs(W,{className:"mb-8",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5 animate-spin"}),"Step 2: AI Hypothesis Generation"]}),i.jsx(ge,{children:"AI is analyzing the incident and generating potential causes using GPT..."})]}),i.jsx(G,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Generating AI-driven POTENTIAL causes"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"STRICT RULE: NO HARD CODING"})]})})})]}),P==="human-confirmation"&&_.length>0&&i.jsx("div",{className:"mb-8",children:i.jsx(X1e,{incidentId:t,aiHypotheses:_,onConfirmationComplete:ee})}),P==="evidence-collection"&&r.length>0&&i.jsx("div",{className:"mb-8",children:i.jsx(W,{children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),"Step 5: Evidence Collection Interface"]}),i.jsx(ge,{children:"Collect evidence for confirmed hypotheses based on human verification"})]})})}),k&&(m==null?void 0:m.aiHypotheses)&&i.jsx(Q1e,{incidentId:t,aiHypotheses:m.aiHypotheses,instructions:m.instructions||"Review AI-generated failure hypotheses and select which ones to investigate further",onHypothesesConfirmed:T=>{console.log("[Universal RCA] Hypotheses confirmed, received evidence:",T),s(T),I(!1),R({title:"Hypotheses Confirmed",description:"Evidence collection requirements generated for confirmed failure modes"})}}),g&&m&&!k&&i.jsxs(W,{className:"mb-6 border-orange-200 bg-orange-50",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5 text-orange-600"}),m!=null&&m.fallbackMode?"AI-Inferred Analysis (Low Confidence)":"Human Verification Required"]}),i.jsx(ge,{children:m!=null&&m.fallbackMode?"Evidence Library confidence LOW. AI has inferred potential failure modes using engineering knowledge. INVESTIGATOR VERIFICATION REQUIRED.":"AI has analyzed the incident description and generated hypotheses. Please review and approve before proceeding."}),(m==null?void 0:m.fallbackMode)&&i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[i.jsx("strong",{children:"FALLBACK LOGIC ACTIVE:"})," No high-confidence Evidence Library matches found. Analysis based on AI engineering inference only."]})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Extracted Symptoms:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(Bn=m.extractedSymptoms)==null?void 0:Bn.map((T,U)=>i.jsxs(ne,{variant:"outline",className:m.fallbackMode?"bg-yellow-50":"bg-blue-50",children:[T.keyword," (",T.confidence,"% ",m.fallbackMode?"AI-inferred":"confidence",")"]},U))})]}),m.aiHypotheses&&Array.isArray(m.aiHypotheses)&&m.aiHypotheses.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:m!=null&&m.fallbackMode?"AI-Inferred Failure Modes (Review Required):":"AI Failure Hypotheses (Review Required):"}),i.jsx("div",{className:"space-y-3",children:m.aiHypotheses.map((T,U)=>i.jsxs("div",{className:"p-3 border rounded-lg bg-white",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h5",{className:"font-medium",children:T.hypothesis}),i.jsxs(ne,{variant:T.aiConfidence>80?"default":"secondary",children:[T.aiConfidence,"% ",T.confidenceSource||"AI Confidence"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.reasoning}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{size:"sm",variant:v[T.id]==="accept"?"default":"outline",className:"text-green-600 hover:bg-green-50",onClick:L=>{L.preventDefault(),console.log("Accept clicked for hypothesis:",T.id,T),N(te=>{const se={...te,[T.id]:"accept"};return console.log("Updated feedback state:",se),se})},children:"✅ Accept"}),i.jsx(K,{size:"sm",variant:v[T.id]==="reject"?"default":"outline",className:"text-red-600 hover:bg-red-50",onClick:L=>{L.preventDefault(),console.log("Reject clicked for hypothesis:",T.id,T),N(te=>{const se={...te,[T.id]:"reject"};return console.log("Updated feedback state:",se),se})},children:"❌ Reject"}),i.jsx(K,{size:"sm",variant:v[T.id]==="modify"?"default":"outline",className:"text-blue-600 hover:bg-blue-50",onClick:L=>{L.preventDefault(),console.log("Modify clicked for hypothesis:",T.id,T),N(te=>{const se={...te,[T.id]:"modify"};return console.log("Updated feedback state:",se),se})},children:"✏️ Modify"})]})]},T.id||U))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Add Custom Failure Modes (Optional):"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:E,onChange:T=>S(T.target.value),placeholder:"Enter custom failure mode based on your experience",className:"flex-1 px-3 py-2 border rounded-md text-sm"}),i.jsx(K,{size:"sm",onClick:()=>{E.trim()&&(C(T=>[...T,E.trim()]),S(""))},disabled:!E.trim(),children:"Add"})]}),w.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((T,U)=>i.jsxs(ne,{variant:"secondary",className:"bg-green-50",children:[T,i.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700",onClick:()=>C(L=>L.filter((te,se)=>se!==U)),children:"×"})]},U))})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx(K,{onClick:async()=>{var L,te;const T=((L=m==null?void 0:m.aiHypotheses)==null?void 0:L.filter(se=>v[se.id]==="accept").map(se=>se.hypothesis))||[],U=((te=m==null?void 0:m.aiHypotheses)==null?void 0:te.filter(se=>v[se.id]==="reject").map(se=>se.hypothesis))||[];if(m!=null&&m.fallbackMode)try{const{apiPost:se}=await Qe(async()=>{const{apiPost:je}=await import("./api-DV25CDRD.js");return{apiPost:je}},[]),ce=await se(`/incidents/${t}/fallback-feedback`,{confirmedCauses:T,disagreedCauses:U,alternativeCauses:[],customFailureModes:w,userReasoning:"User feedback on AI-inferred failure modes"});if(ce.ok){const je=await ce.json();console.log("[FALLBACK LOGIC] Feedback submitted successfully:",je),b(!1)}}catch(se){console.error("[FALLBACK LOGIC] Failed to submit feedback:",se)}else b(!1),console.log("[HUMAN VERIFICATION] User proceeding with incident-only analysis")},className:"w-full",disabled:(m==null?void 0:m.aiHypotheses)&&m.aiHypotheses.length>0&&Object.keys(v).length===0&&w.length===0,children:m!=null&&m.fallbackMode?"Submit Investigator Feedback":"Proceed with Verified Hypotheses"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:m!=null&&m.fallbackMode?"Your feedback helps improve future analysis and may be reviewed for Evidence Library enhancement":"Please provide feedback on at least one hypothesis to continue"})]})]})})]}),d&&i.jsxs(Yt,{className:"mb-6",children:[i.jsx(_t,{className:"h-4 w-4 animate-spin"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"Incident-Only AI Analysis:"})," Extracting symptoms from incident description (no equipment assumptions)..."]})]}),r.length>0&&i.jsxs(Yt,{className:"mb-6 border-blue-200 bg-blue-50",children:[i.jsx(MI,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"AI Incident Analysis:"})," Based on the incident description, our AI has identified ",(r==null?void 0:r.length)||0," evidence items. Focus on completing all Critical items and at least 80% of High priority items.",l&&i.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-green-800",children:[i.jsx("strong",{children:"Elimination Analysis:"})," Professional engineering logic eliminated ",l.totalEliminated," failure modes, providing +",l.confidenceBoost,"% confidence boost to focus investigation on primary causes."]})]})]}),a.length>0&&i.jsxs(W,{className:"mb-6 border-orange-200 bg-orange-50",children:[i.jsxs(X,{className:"pb-3",children:[i.jsxs(Z,{className:"flex items-center justify-between text-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5"}),"Eliminated Failure Modes (",a.length,")"]}),i.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>h(!x),className:"text-orange-700 hover:text-orange-900",children:[x?"Hide":"Show"," Details"]})]}),i.jsx(ge,{className:"text-orange-700",children:"These failure modes were automatically eliminated by engineering logic and do not require evidence collection."})]}),x&&i.jsx(G,{className:"pt-0",children:i.jsx("div",{className:"space-y-3",children:a.map(T=>i.jsx("div",{className:"p-3 bg-white rounded border border-orange-200 opacity-75",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-600 line-through",children:T.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description}),T.eliminationReason&&i.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[i.jsx("strong",{children:"Eliminated:"})," ",T.eliminationReason]})]}),i.jsx(ne,{variant:"secondary",className:"ml-2 bg-orange-100 text-orange-800",children:"Eliminated"})]})},T.id))})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ue.length>0&&i.jsxs(W,{className:"border-red-200",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2 text-red-700",children:[i.jsx(vt,{className:"h-5 w-5"}),"Critical Evidence (",ue.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())}).length,"/",ue.length,")"]}),i.jsx(ge,{children:"Required for accurate analysis"})]}),i.jsx(G,{className:"space-y-4",children:ue.map(T=>i.jsx(Vm,{item:T,onToggle:de,onNotesUpdate:Ce,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:pe},T.id))})]}),fe.length>0&&i.jsxs(W,{className:"border-orange-200",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2 text-orange-700",children:[i.jsx(vt,{className:"h-5 w-5"}),"High Priority Evidence (",fe.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())}).length,"/",fe.length,")"]}),i.jsx(ge,{children:"Complete at least 80% for optimal analysis"})]}),i.jsx(G,{className:"space-y-4",children:fe.map(T=>i.jsx(Vm,{item:T,onToggle:de,onNotesUpdate:Ce,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:pe},T.id))})]}),Te.length>0&&i.jsxs(W,{className:"border-yellow-200",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2 text-yellow-700",children:[i.jsx($t,{className:"h-5 w-5"}),"Medium Priority Evidence (",Te.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())}).length,"/",Te.length,")"]}),i.jsx(ge,{children:"Helpful for comprehensive analysis"})]}),i.jsx(G,{className:"space-y-4",children:Te.map(T=>i.jsx(Vm,{item:T,onToggle:de,onNotesUpdate:Ce,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:pe},T.id))})]}),we.length>0&&i.jsxs(W,{className:"border-green-200",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2 text-green-700",children:[i.jsx($t,{className:"h-5 w-5"}),"Additional Evidence (",we.filter(T=>{var U;return T.completed||T.isUnavailable&&((U=T.unavailableReason)==null?void 0:U.trim())}).length,"/",we.length,")"]}),i.jsx(ge,{children:"Optional but valuable context"})]}),i.jsx(G,{className:"space-y-4",children:we.map(T=>i.jsx(Vm,{item:T,onToggle:de,onNotesUpdate:Ce,onFileUpload:le,onFileRemove:xe,onUnavailabilityChange:pe},T.id))})]})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(K,{variant:"outline",onClick:()=>e(`/equipment-selection?incident=${t}`),children:"← Back to Equipment Selection"}),i.jsx(K,{onClick:z,disabled:!An||ie.isPending,className:"flex items-center gap-2",children:ie.isPending?i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 animate-spin"}),"Saving Progress..."]}):i.jsxs(i.Fragment,{children:["Proceed to Evidence Collection",i.jsx(Pp,{className:"h-4 w-4"})]})})]}),!An&&r.length>0&&i.jsxs(Yt,{className:"mt-4 border-amber-200 bg-amber-50",children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"Requirements to Proceed:"}),i.jsx("br",{}),"• Critical Items: ",Ye.length,"/",ue.length," completed ",ue.length>0&&Ye.length<ue.length?"(Missing items need to be completed or marked unavailable)":"✓",i.jsx("br",{}),"• High Priority Items: ",st.length,"/",fe.length," completed (need ",Nt,") ",st.length>=Nt?"✓":`(Need ${Nt-st.length} more)`,i.jsx("br",{}),i.jsx("em",{children:"Tip: After uploading files, make sure to check the completion checkbox for each evidence item."})]})]})]})]})}function Vm({item:e,onToggle:t,onNotesUpdate:n,onFileUpload:r,onFileRemove:s,onUnavailabilityChange:a}){const[o,l]=j.useState(e.unavailableReason||""),{getRootProps:c,getInputProps:d,isDragActive:u}=qS({onDrop:f=>{f.length>0&&r(e.id,f)},accept:{"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"image/*":[".png",".jpg",".jpeg"],"text/plain":[".txt"]},maxFiles:5,disabled:e.isUnavailable});return i.jsx("div",{className:`p-4 border rounded-lg ${e.isUnavailable?"bg-orange-50 border-orange-200":e.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Xn,{checked:e.completed,onCheckedChange:f=>t(e.id,!!f),className:"mt-1",disabled:e.isUnavailable}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-medium",children:e.title}),i.jsx(ne,{variant:e.priority==="Critical"?"destructive":e.priority==="High"?"default":e.priority==="Medium"?"secondary":"outline",children:e.priority}),e.aiGenerated&&i.jsxs(ne,{variant:"outline",className:"text-xs",children:[i.jsx(_t,{className:"h-3 w-3 mr-1"}),"AI Generated"]}),e.isUnavailable&&i.jsx(ne,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800 text-xs",children:"Not Available"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.examples&&e.examples.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx(ae,{className:"text-xs font-medium text-muted-foreground",children:"Examples:"}),i.jsx("ul",{className:"text-xs text-muted-foreground mt-1 ml-4",children:e.examples.map((f,p)=>i.jsx("li",{className:"list-disc",children:f},p))})]}),i.jsx("div",{className:"mb-3 border rounded-lg p-3 bg-orange-50 border-orange-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Xn,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:f=>{a(e.id,f,o)}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ae,{htmlFor:`unavailable-${e.id}`,className:"text-xs font-medium cursor-pointer flex items-center gap-2",children:[i.jsx(Hr,{className:"h-3 w-3 text-orange-600"}),"This evidence is not available or accessible"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&i.jsxs("div",{className:"mt-2",children:[i.jsx(ae,{htmlFor:`reason-${e.id}`,className:"text-xs font-medium",children:"Why is this evidence unavailable? *"}),i.jsx(He,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:o,onChange:f=>{l(f.target.value),a(e.id,!0,f.target.value)},className:"mt-1 text-xs",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&i.jsxs("div",{className:"mb-3",children:[i.jsx(ae,{className:"text-xs font-medium",children:"Upload Evidence Files"}),i.jsxs("div",{...c(),className:`mt-1 border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer ${u?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}`,children:[i.jsx("input",{...d()}),i.jsx(Xa,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-xs text-gray-600",children:u?"Drop files here":"Drag files or click to browse"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, Excel, CSV, Images, Text files"})]})]}),!e.isUnavailable&&e.files&&e.files.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs(ae,{className:"text-xs font-medium",children:["Uploaded Files (",e.files.length,")"]}),i.jsx("div",{className:"mt-1 space-y-1",children:e.files.map((f,p)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-3 w-3"}),f.name," (",(f.size/1024).toFixed(1)," KB)"]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>s(e.id,p),className:"h-6 w-6 p-0 text-gray-500 hover:text-red-500",children:i.jsx(Ys,{className:"h-3 w-3"})})]},p))})]}),i.jsxs("div",{children:[i.jsx(ae,{className:"text-xs font-medium",children:"Notes (optional)"}),i.jsx(He,{placeholder:"Add notes about this evidence item...",value:e.notes||void 0,onChange:f=>n(e.id,f.target.value),className:"mt-1 text-sm",rows:2})]})]})]})})}function GP(){Rn();const e=hr(),{toast:t}=Ot();j.useState(null);const[n,r]=j.useState({}),[s,a]=j.useState({}),l=new URLSearchParams(window.location.search).get("incident"),{data:c,isLoading:d}=Ae({queryKey:["/api/incidents",l],enabled:!!l}),{data:u=[],isLoading:f,refetch:p}=Ae({queryKey:["/api/incidents",l,"evidence-files"],enabled:!!l,refetchOnWindowFocus:!0,refetchInterval:parseInt("3000")}),x=lt({mutationFn:async b=>(console.log("[REVIEW ACTION] Submitting:",b),await bt(`/api/incidents/${l}/review-evidence`,{method:"POST",body:JSON.stringify(b)})),onSuccess:b=>{console.log("[REVIEW ACTION] Success:",b),p(),gn.invalidateQueries({queryKey:["/api/incidents",l,"evidence-files"]}),t({title:"Review Submitted",description:"Evidence file review status updated successfully"});const v=b,{fileId:N,action:w}=(v==null?void 0:v.data)||{};N&&w&&a(C=>({...C,[N]:w}))},onError:b=>{console.error("[REVIEW ACTION] Error:",b),t({title:"Error",description:b.message||"Failed to submit review",variant:"destructive"})}}),h=Array.isArray(u)&&u.length>0&&u.every(b=>{const v=s[b.id]||b.reviewStatus;return v==="ACCEPTED"||v==="REPLACED"}),m=Array.isArray(u)?u.filter(b=>{const v=s[b.id]||b.reviewStatus;return v==="ACCEPTED"||v==="REPLACED"}).length:0,y=(b,v,N)=>{if(console.log("[CHECKBOX REVIEW] Checkbox changed:",{fileId:b,action:v,checked:N}),N){if(x.isPending){console.log("[CHECKBOX REVIEW] Already pending, ignoring click"),t({title:"Please Wait",description:"Review submission in progress...",variant:"default"});return}a(C=>({...C,[b]:v}));const w=n[b]||"";console.log("[CHECKBOX REVIEW] Submitting with comments:",w),x.mutate({fileId:b,action:v,comments:w})}else a(w=>({...w,[b]:"UNREVIEWED"}))},g=()=>{h?e(`/ai-analysis?incident=${l}`):t({title:"Review Required",description:`Please review all evidence files (${m}/${Array.isArray(u)?u.length:0} completed) before proceeding to AI analysis`,variant:"destructive"})};return l?d||f?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading evidence files..."}),i.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Preparing human review panel..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(an,{to:"/admin",children:i.jsx(K,{variant:"outline",size:"sm",children:"← Back to Home"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stage 3B & 4B: Human Review Panel"}),i.jsx("p",{className:"text-slate-600",children:"Review and confirm all uploaded evidence files before AI analysis"})]})]}),i.jsxs(ne,{variant:"secondary",className:"text-sm",children:["Incident #",l]})]}),i.jsxs(W,{className:"mb-8",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-5 w-5 text-blue-600"}),"Review Progress"]})}),i.jsx(G,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[m,i.jsxs("span",{className:"text-slate-500",children:["/",Array.isArray(u)?u.length:0]})]}),i.jsx("div",{className:"text-sm text-slate-600",children:"Files Reviewed"})]}),h?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-600 font-medium",children:"All Files Reviewed"}),i.jsx(K,{onClick:g,className:"ml-4",children:"Proceed to AI Analysis →"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5 text-amber-600"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Review Required"})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.isArray(u)&&u.map(b=>i.jsxs(W,{className:`transition-all ${b.reviewStatus==="ACCEPTED"?"border-green-300 bg-green-50":b.reviewStatus==="REPLACED"?"border-blue-300 bg-blue-50":b.reviewStatus==="NEEDS_MORE_INFO"?"border-amber-300 bg-amber-50":"border-slate-300"}`,children:[i.jsxs(X,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[i.jsx($t,{className:"h-4 w-4"}),b.fileName]}),i.jsx(ne,{variant:b.reviewStatus==="ACCEPTED"?"default":b.reviewStatus==="REPLACED"?"secondary":b.reviewStatus==="NEEDS_MORE_INFO"?"destructive":"outline",className:b.reviewStatus==="ACCEPTED"?"bg-green-600 text-white":b.reviewStatus==="REPLACED"?"bg-blue-600 text-white":b.reviewStatus==="NEEDS_MORE_INFO"?"bg-amber-600 text-white":"bg-gray-200 text-gray-700",children:b.reviewStatus})]}),i.jsxs("div",{className:"text-xs text-slate-500",children:[b.category||b.evidenceCategory||"General Evidence"," • ",b.mimeType||b.fileType||"Unknown"," • ",new Date(b.uploadedAt).toLocaleString()]})]}),i.jsxs(G,{className:"space-y-4",children:[b.parsedSummary&&i.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[i.jsxs("div",{className:"font-medium text-blue-700 mb-1 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Python Backend Analysis:"]}),i.jsx("div",{className:"text-slate-600",children:b.parsedSummary})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium text-purple-700 mb-1 flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"LLM/AI Diagnostic Interpretation:"]}),b.llmInterpretation?i.jsxs("div",{className:"bg-purple-50 p-3 rounded space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Most Likely Root Causes:"}),i.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(b.llmInterpretation.mostLikelyRootCauses||[]).map((v,N)=>i.jsx("li",{children:v},N))})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Recommendations:"}),i.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(b.llmInterpretation.pinnpointedRecommendations||[]).map((v,N)=>i.jsx("li",{children:v},N))})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("span",{children:["LLM Confidence: ",i.jsxs(ne,{variant:"outline",className:"text-xs",children:[b.llmInterpretation.confidence||0,"%"]})]}),i.jsxs("span",{children:["Missing Evidence: ",(b.llmInterpretation.missingEvidence||[]).length," items"]})]}),i.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 p-2 rounded",children:b.llmInterpretation.diagnosticSummary||"LLM diagnostic analysis completed"})]}):i.jsxs("div",{className:"bg-red-50 p-3 rounded text-sm",children:[i.jsx("div",{className:"text-red-700 font-medium flex items-center gap-2",children:"⚠️ Protocol Violation: Missing LLM Analysis"}),i.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Universal Protocol Standard requires BOTH Python parsing AND LLM diagnostic interpretation. This file cannot be reviewed until LLM analysis is completed."})]})]}),b.adequacyScore!==void 0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Adequacy Score:"}),i.jsxs(ne,{variant:b.adequacyScore>=80?"default":b.adequacyScore>=60?"secondary":"destructive",children:[b.adequacyScore,"%"]})]}),b.analysisFeatures&&i.jsxs("div",{className:"text-xs text-slate-500",children:["Features: ",Object.keys(b.analysisFeatures).join(", ")]}),i.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[i.jsx(He,{placeholder:"Add review comments (optional)...",value:n[b.id]||void 0,onChange:v=>r(N=>({...N,[b.id]:v.target.value})),rows:2,className:"text-sm"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:`accept-${b.id}`,checked:s[b.id]==="ACCEPTED"||b.reviewStatus==="ACCEPTED",onCheckedChange:v=>y(b.id,"ACCEPTED",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),i.jsx(ae,{htmlFor:`accept-${b.id}`,className:"text-sm font-medium text-green-700 cursor-pointer",children:"✓ Accept Evidence File - Ready for AI Analysis"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:`need-info-${b.id}`,checked:s[b.id]==="NEEDS_MORE_INFO"||b.reviewStatus==="NEEDS_MORE_INFO",onCheckedChange:v=>y(b.id,"NEEDS_MORE_INFO",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),i.jsx(ae,{htmlFor:`need-info-${b.id}`,className:"text-sm font-medium text-amber-700 cursor-pointer",children:"? Needs More Information - Additional Data Required"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:`replace-${b.id}`,checked:s[b.id]==="REPLACED"||b.reviewStatus==="REPLACED",onCheckedChange:v=>y(b.id,"REPLACED",!!v),disabled:x.isPending,className:"data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),i.jsx(ae,{htmlFor:`replace-${b.id}`,className:"text-sm font-medium text-red-700 cursor-pointer",children:"↻ Replace File - Upload Different Evidence"})]})]}),(s[b.id]||b.reviewStatus!=="UNREVIEWED")&&i.jsxs("div",{className:`p-3 rounded text-sm font-medium ${(s[b.id]||b.reviewStatus)==="ACCEPTED"?"bg-green-100 text-green-800":(s[b.id]||b.reviewStatus)==="REPLACED"?"bg-red-100 text-red-800":(s[b.id]||b.reviewStatus)==="NEEDS_MORE_INFO"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",s[b.id]||b.reviewStatus,x.isPending&&" (Updating...)"]})]}),b.userComments&&i.jsxs("div",{className:"bg-slate-100 p-2 rounded text-xs",children:[i.jsx("div",{className:"font-medium text-slate-600",children:"Review Comments:"}),i.jsx("div",{className:"text-slate-700",children:b.userComments})]})]})]},b.id))}),(!Array.isArray(u)||u.length===0)&&i.jsx(W,{children:i.jsxs(G,{className:"text-center py-12",children:[i.jsx(Xa,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),i.jsx("div",{className:"text-lg font-medium text-slate-600 mb-2",children:"No Evidence Files Found"}),i.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Please upload evidence files in the previous steps before proceeding to human review."}),i.jsx(K,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${l}`),children:"← Back to Evidence Collection"})]})}),i.jsxs(W,{className:"mt-8",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_U,{className:"h-5 w-5 text-blue-600"}),"Review Instructions"]})}),i.jsxs(G,{className:"text-sm text-slate-600 space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"ACCEPT:"})," File analysis is correct and adequate for RCA"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"NEEDS MORE INFO:"})," File is parsed but requires additional context or clarification"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"REPLACE:"})," File should be replaced with a better version or different file type"]}),i.jsx("div",{className:"text-amber-600 font-medium mt-4",children:"⚠️ All files must be reviewed before AI analysis can proceed (Universal RCA Requirement)"})]})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),i.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the evidence collection workflow."})]})})}function KP(){var v,N,w,C,E,S,k,I,P,A;const e=hr(),t=wl();Rn();const n=new URLSearchParams(window.location.search),r=(t==null?void 0:t.id)||n.get("incident")||null,[s,a]=j.useState("initializing"),[o,l]=j.useState(0),[c,d]=j.useState(null),[u,f]=j.useState(!1),{data:p,isLoading:x}=Ae({queryKey:[`/api/incidents/${r}`],enabled:!!r}),h=lt({mutationFn:async _=>{const{apiPost:O}=await Qe(async()=>{const{apiPost:M}=await import("./api-DV25CDRD.js");return{apiPost:M}},[]),D=await O(`/incidents/${encodeURIComponent(_)}/rca-synthesis`);if(!D.ok)throw new Error(`RCA synthesis failed: ${D.status}`);return await D.json()},onSuccess:_=>{var O,D,M,V,q;if(console.log("RCA Synthesis completed:",_),_.data&&_.data.recommendations){const R=_.data,B={overallConfidence:R.overallConfidence||0,analysisDate:new Date(R.analysisDate)||new Date,rootCauses:((O=R.recommendations)==null?void 0:O.map((Y,$)=>({id:Y.faultId||`fault-${$}`,description:Y.specificFault||"Unknown fault",confidence:Y.confidence||0,category:"Deterministic AI",evidence:Y.evidenceSupport||[],likelihood:Y.confidence>=80?"Very High":Y.confidence>=60?"High":"Medium",impact:"Critical",priority:$+1})))||[],recommendations:((D=R.recommendations)==null?void 0:D.flatMap((Y,$)=>{var re;return((re=Y.recommendedActions)==null?void 0:re.map((ee,Q)=>({id:`${Y.faultId}-action-${Q}`,title:`${Y.specificFault} - Action ${Q+1}`,description:ee,priority:Y.confidence>=80?"Immediate":"Short-term",category:"Deterministic",estimatedCost:"TBD",timeframe:Y.confidence>=80?"Immediate":"1-2 weeks",responsible:"Engineering Team",preventsProbability:Y.confidence})))||[]}))||[],crossMatchResults:{libraryMatches:((M=R.recommendations)==null?void 0:M.length)||0,patternSimilarity:R.overallConfidence||0,historicalData:[`Analysis Method: ${R.analysisMethod}`,`Determinism Check: ${R.determinismCheck}`]},evidenceGaps:((V=R.recommendations)==null?void 0:V.filter(Y=>{var $;return(($=Y.requiredEvidence)==null?void 0:$.length)>0}).flatMap(Y=>Y.requiredEvidence))||[],additionalInvestigation:((q=R.recommendations)==null?void 0:q.map(Y=>Y.analysisRationale).filter(Boolean))||[]};d(B)}a("completed"),l(100),f(!1)},onError:_=>{console.error("Universal RCA Analysis failed:",_),a("error"),f(!1),_.message.includes("No reviewed evidence files")&&a("no_reviewed_evidence")}}),{data:m,isLoading:y}=Ae({queryKey:[`/api/incidents/${r}/analysis`],enabled:!!r});j.useEffect(()=>{p&&m&&!y&&(m&&Object.keys(m).length>0?(console.log("Loading existing analysis results:",m),d(m),a("completed"),l(100),f(!1)):!c&&!u&&r&&(console.log("Starting Universal RCA analysis for incident:",r),f(!0),g(),h.mutate(r)))},[p,m,y]);const g=()=>{const _=[{name:"Steps 1-3: AI Hypothesis Generation",duration:parseInt("2000")},{name:"Step 4: Evidence Status Validation",duration:parseInt("2000")},{name:"Step 5: Data Analysis with Confidence Assessment",duration:parseInt("3000")},{name:"Step 6: Low-Confidence Fallback (if needed)",duration:parseInt("2000")},{name:"Steps 7-9: Enhanced RCA with PSM Integration",duration:parseInt("3000")}];let O=0;_.forEach((D,M)=>{setTimeout(()=>{a(D.name),l((M+1)*20)},O),O+=D.duration})},b=()=>{r&&e(`/analysis-details/${encodeURIComponent(r)}`)};return x||y||!p?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(_t,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K,{variant:"ghost",onClick:()=>e("/"),children:"← Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Steps 5-6: AI Analysis & Draft RCA"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",(p==null?void 0:p.id)||r]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&i.jsxs(W,{className:"mb-8",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5 animate-spin"}),"AI Analysis in Progress"]}),i.jsx(ge,{children:"Advanced root cause analysis using evidence library cross-matching and pattern recognition"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:s}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),i.jsx(Lr,{value:o,className:"h-2"})]})})]}),c&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(W,{children:i.jsx(X,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($i,{className:"h-5 w-5"}),"Analysis Complete"]}),i.jsxs(ge,{children:[p==null?void 0:p.title," - ",p==null?void 0:p.equipmentGroup," → ",p==null?void 0:p.equipmentType]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c.overallConfidence,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})]})})}),i.jsxs(vr,{defaultValue:"root-causes",className:"w-full",children:[i.jsxs(er,{className:"grid w-full grid-cols-4",children:[i.jsx(Oe,{value:"root-causes",children:"Root Causes"}),i.jsx(Oe,{value:"recommendations",children:"Recommendations"}),i.jsx(Oe,{value:"cross-match",children:"Library Match"}),i.jsx(Oe,{value:"gaps",children:"Evidence Gaps"})]}),i.jsx(ke,{value:"root-causes",className:"space-y-4",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Identified Root Causes"}),i.jsx(ge,{children:"Ranked by confidence and impact assessment"})]}),i.jsx(G,{className:"space-y-4",children:c.rootCauses&&c.rootCauses.length>0?c.rootCauses.map((_,O)=>i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ne,{variant:"outline",className:"font-mono",children:["#",O+1]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:_.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:_.category})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[_.confidence,"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Likelihood"}),i.jsx(ne,{variant:_.likelihood==="Very High"?"destructive":_.likelihood==="High"?"default":_.likelihood==="Medium"?"secondary":"outline",className:"ml-2",children:_.likelihood})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Impact"}),i.jsx(ne,{variant:_.impact==="Critical"?"destructive":_.impact==="High"?"default":_.impact==="Medium"?"secondary":"outline",className:"ml-2",children:_.impact})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Supporting Evidence"}),i.jsx("ul",{className:"mt-1 text-sm text-muted-foreground",children:_.evidence&&_.evidence.length>0?_.evidence.map((D,M)=>i.jsxs("li",{className:"list-disc list-inside",children:["• ",D]},M)):i.jsx("li",{className:"text-amber-600",children:"• No direct evidence available - analysis based on symptoms and patterns"})})]}),_.aiRemarks&&i.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(_t,{className:"h-4 w-4 text-amber-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-amber-800",children:"AI Analysis Note"}),i.jsx("p",{className:"text-sm text-amber-700 mt-1",children:_.aiRemarks})]})]})})]})]},_.id)):i.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx($i,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"Analysis Results Available"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["RCA synthesis completed with ",c.overallConfidence,"% confidence. Check other tabs for recommendations and detailed analysis."]})]})})]})}),i.jsx(ke,{value:"recommendations",className:"space-y-4",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Corrective Recommendations"}),i.jsx(ge,{children:"Prioritized action items to prevent recurrence"})]}),i.jsx(G,{className:"space-y-4",children:c.recommendations&&c.recommendations.length>0?c.recommendations.map((_,O)=>i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ne,{variant:_.priority==="Immediate"?"destructive":_.priority==="Short-term"?"default":"secondary",children:_.priority}),i.jsx("h4",{className:"font-semibold",children:_.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:_.description})]}),i.jsxs("div",{className:"text-right text-sm",children:[i.jsx("div",{className:"font-medium",children:_.estimatedCost}),i.jsx("div",{className:"text-muted-foreground",children:_.timeframe})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Category:"})," ",_.category]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Responsible:"})," ",_.responsible]})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium",children:"Prevention Effectiveness:"}),i.jsx(Lr,{value:_.preventsProbability,className:"flex-1 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[_.preventsProbability,"%"]})]})})]},_.id)):i.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx(_t,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No Specific Recommendations Generated"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Due to limited evidence, AI could not generate specific corrective actions. Consider uploading additional technical data for more detailed recommendations."})]})})]})}),i.jsx(ke,{value:"cross-match",className:"space-y-4",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Tp,{className:"h-5 w-5"}),"Evidence Library Cross-Match Results"]}),i.jsx(ge,{children:"Comparison with historical equipment failures and patterns"})]}),i.jsxs(G,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold text-primary",children:((v=c.crossMatchResults)==null?void 0:v.libraryMatches)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Similar Cases Found"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary",children:[((N=c.crossMatchResults)==null?void 0:N.patternSimilarity)||0,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pattern Similarity"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold text-primary",children:((C=(w=c.crossMatchResults)==null?void 0:w.historicalData)==null?void 0:C.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical References"})]})]}),(((S=(E=c.crossMatchResults)==null?void 0:E.historicalData)==null?void 0:S.length)||0)>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Historical Data References"}),i.jsx("ul",{className:"space-y-2",children:(((k=c.crossMatchResults)==null?void 0:k.historicalData)||[]).map((_,O)=>i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx(wt,{className:"h-4 w-4 text-green-600"}),_]},O))})]})]})]})}),i.jsx(ke,{value:"gaps",className:"space-y-4",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5"}),"Evidence Gaps & Additional Investigation"]}),i.jsx(ge,{children:"Areas requiring further investigation for complete analysis"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(_t,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Evidence Analysis Summary"}),i.jsx("p",{className:"text-sm text-blue-700",children:c.overallConfidence>=80?"Analysis completed with adequate evidence. High confidence in root cause identification.":c.overallConfidence>=50?"Analysis completed with moderate evidence. Some assumptions required for root cause analysis.":"Analysis based primarily on hypothesis due to limited evidence. Results should be validated with additional data."}),i.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Evidence Adequacy: ",c.overallConfidence,"% | Files Analyzed: ",((I=c.crossMatchResults)==null?void 0:I.libraryMatches)||0," | Confidence Level: ",c.overallConfidence>=80?"High":c.overallConfidence>=50?"Medium":"Low"]})]})]})}),(((P=c.evidenceGaps)==null?void 0:P.length)||0)>0?i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-orange-700",children:"Evidence Gaps Identified"}),i.jsx("ul",{className:"space-y-2",children:(c.evidenceGaps||[]).map((_,O)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(vt,{className:"h-4 w-4 text-orange-500 mt-0.5"}),_]},O))})]}):i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Evidence Status"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[i.jsx(wt,{className:"h-4 w-4"}),"No critical evidence gaps identified based on available data"]})]}),(((A=c.additionalInvestigation)==null?void 0:A.length)||0)>0?i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Additional Investigation Recommended"}),i.jsx("ul",{className:"space-y-2",children:(c.additionalInvestigation||[]).map((_,O)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(ki,{className:"h-4 w-4 text-blue-500 mt-0.5"}),_]},O))})]}):i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Investigation Status"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[i.jsx(wt,{className:"h-4 w-4"}),"Current analysis appears complete based on available evidence"]})]})]})]})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(K,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${r}`),children:"← Back to Evidence Collection"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>e(`/summary-report/${r}`),children:"📋 Generate Summary Report"}),i.jsxs(K,{onClick:b,className:"flex items-center gap-2",children:["Proceed to Engineer Review",i.jsx(Pp,{className:"h-4 w-4"})]})]})]})]})]})]})}function J1e(){var c,d,u,f,p,x;const e=wl(),t=e==null?void 0:e.id,[n,r]=j.useState(null),[s,a]=j.useState(!1),{data:o}=Ae({queryKey:[`/api/incidents/${t}`],enabled:!!t}),l=lt({mutationFn:async()=>{a(!0);const h={},m=(o==null?void 0:o.evidenceResponses)||[],{apiPost:y}=await Qe(async()=>{const{apiPost:b}=await import("./api-DV25CDRD.js");return{apiPost:b}},[]),g=await y(`/incidents/${t}/fallback-analysis`,{evidenceAvailability:h,uploadedFiles:m});if(!g.ok)throw new Error(`Fallback analysis failed: ${g.status}`);return g.json()},onSuccess:h=>{console.log("Fallback analysis completed:",h),r(h),a(!1)},onError:h=>{console.error("Fallback analysis failed:",h),a(!1)}});return j.useEffect(()=>{o&&!n&&!s&&l.mutate()},[o]),o?i.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx(an,{to:`/incidents/${t}/evidence-collection`,children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(_t,{className:"h-6 w-6 text-purple-600"}),"AI Fallback Analysis"]}),i.jsx("p",{className:"text-muted-foreground",children:"Universal RCA Fallback and Hybrid Inference Logic"})]})]}),i.jsxs(Yt,{className:"border-purple-200 bg-purple-50",children:[i.jsx(_t,{className:"h-4 w-4"}),i.jsxs(Qt,{children:[i.jsx("strong",{children:"AI Fallback Mode:"})," When Evidence Library matching fails (<80% confidence), this system uses GPT to generate plausible failure hypotheses and engineering assumptions. Analysis proceeds with documented limitations and confidence flags."]})]})]}),s&&i.jsx(W,{className:"mb-6",children:i.jsx(G,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Running AI Fallback Analysis..."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Extracting symptoms → Checking Evidence Library → Generating AI hypotheses → Assessing evidence → Creating analysis"})]})]})})}),n&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),"Fallback Analysis Complete"]})}),i.jsxs(G,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((c=n.fallbackAnalysis)==null?void 0:c.confidence)||"N/A","%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((d=n.hypotheses)==null?void 0:d.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Hypotheses"})]}),i.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:((f=(u=n.fallbackAnalysis)==null?void 0:u.confidenceFlags)==null?void 0:f.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Flags"})]})]}),((p=n.fallbackAnalysis)==null?void 0:p.primaryRootCause)&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[i.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Primary Root Cause (AI Inferred)"}),i.jsx("p",{className:"text-green-700 font-medium",children:n.fallbackAnalysis.primaryRootCause}),n.fallbackAnalysis.aiReasoning&&i.jsx("p",{className:"text-sm text-green-600 mt-2",children:n.fallbackAnalysis.aiReasoning})]}),((x=n.fallbackAnalysis)==null?void 0:x.confidenceFlags)&&n.fallbackAnalysis.confidenceFlags.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(vt,{className:"h-4 w-4 text-amber-600"}),"Analysis Limitations"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.fallbackAnalysis.confidenceFlags.map((h,m)=>i.jsx(ne,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:h.replace(/_/g," ")},m))})]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(an,{to:`/incidents/${t}/evidence-collection`,children:i.jsxs(K,{variant:"outline",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),i.jsx(an,{to:`/incidents/${t}/analysis`,children:i.jsx(K,{children:"View Standard Analysis →"})})]})]})]}):i.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading incident..."})})})}function eSe(){var g,b,v;Rn();const e=hr(),[t,n]=j.useState(null),[r,s]=j.useState(!1),[a,o]=j.useState({reviewerId:"ENG001",reviewerName:"Senior RCA Engineer",reviewDate:new Date,approved:!1,comments:"",modifications:{rootCauses:[],recommendations:[]},additionalFindings:"",followUpActions:[],signoffRequired:!0});j.useEffect(()=>{const w=new URLSearchParams(window.location.search).get("incident");w&&n(parseInt(w))},[]);const{data:l,isLoading:c}=Ae({queryKey:["/api/incidents",t],enabled:!!t}),{data:d}=Ae({queryKey:["/api/incidents",t,"analysis"],enabled:!!t}),{data:u,refetch:f}=Ae({queryKey:["/api/incidents",t,"completeness-check"],enabled:!!t}),p=lt({mutationFn:async N=>bt(`/api/incidents/${t}/engineer-review`,{method:"POST",body:JSON.stringify({...N,currentStep:8,workflowStatus:N.approved?"approved":"under_review"})}),onSuccess:N=>{a.approved&&e(`/final-rca?incident=${t}`)},onError:N=>{var w;(w=N==null?void 0:N.message)!=null&&w.includes("minimum evidence")&&console.error("Investigation completeness validation failed:",N)}}),x=lt({mutationFn:async()=>bt(`/api/incidents/${t}/generate-final-report`,{method:"POST",body:JSON.stringify({engineerReview:a})}),onSuccess:N=>{window.open(N.reportUrl,"_blank","noopener")}}),h=N=>{o(w=>({...w,approved:N}))},m=()=>{p.mutate(a)},y=()=>{x.mutate()};return c||!l?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading engineer review..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(K,{variant:"ghost",onClick:()=>e("/admin"),children:"← Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Hc,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 8: Engineer Review & Finalization"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",l.id]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(W,{className:"mb-8",children:i.jsx(X,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),"Final RCA Review"]}),i.jsxs(ge,{children:[l.title," - ",l.equipmentGroup," → ",l.equipmentType]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(K,{variant:"outline",onClick:()=>s(!r),className:"flex items-center gap-2",children:[i.jsx(Ia,{className:"h-4 w-4"}),r?"View Mode":"Edit Mode"]}),a.approved&&i.jsxs(ne,{variant:"default",className:"bg-green-600",children:[i.jsx(wt,{className:"h-3 w-3 mr-1"}),"Approved"]})]})]})})}),i.jsxs(vr,{defaultValue:"review",className:"w-full",children:[i.jsxs(er,{className:"grid w-full grid-cols-4",children:[i.jsx(Oe,{value:"review",children:"Review Summary"}),i.jsx(Oe,{value:"findings",children:"AI Findings"}),i.jsx(Oe,{value:"modifications",children:"Modifications"}),i.jsx(Oe,{value:"approval",children:"Final Approval"})]}),i.jsx(ke,{value:"review",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Review Summary"}),i.jsx(ge,{children:"Engineer assessment of AI analysis and findings"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{children:"Reviewer Name"}),i.jsx(ve,{value:a.reviewerName,onChange:N=>o(w=>({...w,reviewerName:N.target.value})),disabled:!r})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Reviewer ID"}),i.jsx(ve,{value:a.reviewerId,onChange:N=>o(w=>({...w,reviewerId:N.target.value})),disabled:!r})]})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Review Comments"}),i.jsx(He,{placeholder:"Provide detailed comments on the AI analysis, evidence quality, and findings...",value:a.comments,onChange:N=>o(w=>({...w,comments:N.target.value})),disabled:!r,rows:4})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Additional Engineering Findings"}),i.jsx(He,{placeholder:"Any additional findings or observations not captured by the AI analysis...",value:a.additionalFindings,onChange:N=>o(w=>({...w,additionalFindings:N.target.value})),disabled:!r,rows:3})]})]})]})}),i.jsx(ke,{value:"findings",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"AI Analysis Review"}),i.jsx(ge,{children:"Review and validate AI-generated findings"})]}),i.jsx(G,{children:d?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Root Causes Identified"}),(g=d.rootCauses)==null?void 0:g.map((N,w)=>i.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:N.description}),i.jsxs(ne,{variant:"outline",children:[N.confidence,"% confidence"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.category})]},w))]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Recommendations Generated"}),(b=d.recommendations)==null?void 0:b.map((N,w)=>i.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:N.title}),i.jsx(ne,{variant:N.priority==="Immediate"?"destructive":"default",children:N.priority})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.description})]},w))]})]}):i.jsxs(Yt,{children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsx(Qt,{children:"AI analysis results are not available. Please complete the AI analysis step first."})]})})]})}),i.jsx(ke,{value:"modifications",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Engineering Modifications"}),i.jsx(ge,{children:"Modify or add to AI findings based on engineering judgment"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs(Yt,{children:[i.jsx(Ia,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Use this section to document any modifications to the AI analysis based on engineering expertise."})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Modified Root Causes"}),i.jsx(He,{placeholder:"Document any changes to root cause analysis...",disabled:!r,rows:3})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Modified Recommendations"}),i.jsx(He,{placeholder:"Document any changes to recommendations...",disabled:!r,rows:3})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Additional Preventive Measures"}),i.jsx(He,{placeholder:"Additional preventive measures recommended by engineering...",disabled:!r,rows:3})]})]})]})}),i.jsxs(ke,{value:"approval",className:"space-y-6",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5"}),"Investigation Completeness Assessment"]}),i.jsx(ge,{children:"Review completeness before finalizing investigation"})]}),i.jsx(G,{children:u?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${u.canBeClosed?"bg-green-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:u.canBeClosed?"Ready for Closure":"Closure Available with Theoretical Analysis"}),i.jsx("p",{className:"text-sm text-gray-600",children:u.closureReason})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.overallCompleteness,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),u.issues.length>0&&i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-amber-700 mb-2",children:"Outstanding Issues"}),i.jsx("ul",{className:"space-y-1",children:u.issues.map((N,w)=>i.jsxs("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mt-2 flex-shrink-0"}),N]},w))})]}),u.theoreticalAnalysisRecommended&&i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"Theoretical Analysis Available"}),u.theoreticalAnalysis&&i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-600",children:"Approach:"}),i.jsx("p",{className:"text-blue-700 mt-1",children:u.theoreticalAnalysis.approach})]}),((v=u.theoreticalAnalysis.theoreticalConclusions)==null?void 0:v.length)>0&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-600",children:"Engineering Conclusions:"}),i.jsx("ul",{className:"mt-1 space-y-1",children:u.theoreticalAnalysis.theoreticalConclusions.slice(0,2).map((N,w)=>i.jsx("li",{className:"text-blue-700 pl-2",children:N},w))})]})]})]}),u.inconclusiveFindings&&u.unansweredCriticalQuestions.length>0&&i.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[i.jsx("h4",{className:"font-medium text-orange-700 mb-3",children:"Inconclusive Findings Documentation"}),i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsx("p",{className:"text-orange-700",children:u.inconclusiveFindings.summary}),u.inconclusiveFindings.confidenceImpact&&i.jsx("p",{className:"text-orange-600 font-medium",children:u.inconclusiveFindings.confidenceImpact})]})]}),u.potentialFailureModes.length>0&&i.jsxs("details",{className:"border rounded-lg p-4",children:[i.jsxs("summary",{className:"font-medium cursor-pointer text-gray-700",children:["Alternative Failure Modes Considered (",u.potentialFailureModes.length,")"]}),i.jsx("div",{className:"mt-3 space-y-2",children:u.potentialFailureModes.slice(0,3).map((N,w)=>i.jsxs("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[i.jsx("div",{className:"font-medium",children:N.mode}),N.causes&&i.jsxs("div",{className:"text-gray-600 mt-1",children:["Potential causes: ",N.causes.slice(0,2).join(", ")]})]},w))})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(vt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"Loading completeness assessment..."})]})})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Final Approval"}),i.jsx(ge,{children:"Complete the review and approve the RCA for publication"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:"approve",checked:a.approved,onCheckedChange:h}),i.jsx(ae,{htmlFor:"approve",className:"font-medium",children:"I approve this RCA analysis for publication"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:N=>o(w=>({...w,signoffRequired:!!N}))}),i.jsx(ae,{htmlFor:"signoff",children:"Additional management signoff required"})]}),!a.approved&&i.jsxs(Yt,{className:"border-amber-200 bg-amber-50",children:[i.jsx(vt,{className:"h-4 w-4"}),i.jsx(Qt,{children:"Please review all findings and provide approval to proceed with RCA publication."})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs(K,{onClick:m,disabled:p.isPending,className:"flex items-center gap-2",children:[i.jsx(Mv,{className:"h-4 w-4"}),p.isPending?"Saving...":"Submit Review"]}),a.approved&&i.jsxs(K,{onClick:y,disabled:x.isPending,variant:"outline",className:"flex items-center gap-2",children:[i.jsx(ur,{className:"h-4 w-4"}),x.isPending?"Generating...":"Generate Final Report"]})]})]})]})]})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(K,{variant:"outline",onClick:()=>e(`/ai-analysis?incident=${t}`),children:"← Back to AI Analysis"}),a.approved&&i.jsxs(K,{onClick:()=>e("/"),className:"flex items-center gap-2",children:["Complete Investigation",i.jsx(wt,{className:"h-4 w-4"})]})]})]})]})}function tSe(){const[e,t]=j.useState({equipmentType:"",failureMode:"",existingEvidence:[]}),{data:n,isLoading:r}=Ae({queryKey:["/api/nlp/analyze-questions"]}),{data:s,isLoading:a}=Ae({queryKey:["/api/nlp/analyze-root-cause-logic"]}),o=async()=>{if(!(!e.equipmentType||!e.failureMode))try{const{apiPost:l}=await Qe(async()=>{const{apiPost:d}=await import("./api-DV25CDRD.js");return{apiPost:d}},[]),c=await l("/nlp/generate-questions",e);if(c.ok){const d=await c.json();console.log("Generated suggestions:",d)}}catch(l){console.error("Error generating questions:",l)}};return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(ds,{className:"h-4 w-4"}),"Back to Home"]})}),i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Rv,{className:"h-4 w-4"}),"Home"]})})]}),i.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[i.jsx(_t,{className:"h-8 w-8 text-blue-600"}),"NLP Analysis Dashboard"]}),i.jsx("p",{className:"text-gray-600",children:"Natural Language Processing analysis of Evidence Library patterns for intelligent question generation"})]}),i.jsxs(vr,{defaultValue:"question-patterns",className:"space-y-6",children:[i.jsxs(er,{className:"grid w-full grid-cols-3",children:[i.jsx(Oe,{value:"question-patterns",children:"Question Patterns"}),i.jsx(Oe,{value:"logic-analysis",children:"Root Cause Logic"}),i.jsx(Oe,{value:"question-generator",children:"Question Generator"})]}),i.jsxs(ke,{value:"question-patterns",className:"space-y-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(DI,{className:"h-5 w-5"}),"Question Type Classification"]})}),i.jsx(G,{children:r?i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):n!=null&&n.questionTypes?i.jsx("div",{className:"space-y-4",children:n.questionTypes.slice(0,8).map((l,c)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold capitalize",children:l.type.replace("-"," ")}),i.jsxs(ne,{variant:"secondary",children:[l.frequency," questions"]})]}),i.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:l.examples.slice(0,3).map((d,u)=>i.jsxs("div",{className:"bg-gray-50 p-2 rounded italic",children:['"',d,'"']},u))})]},c))}):i.jsx(Yt,{children:i.jsx(Qt,{children:"No question patterns found. Make sure Evidence Library has AI/Investigator Questions data."})})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"h-5 w-5"}),"Technical Terms Frequency"]})}),i.jsx(G,{children:n!=null&&n.keyTerms?i.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTerms.slice(0,20).map((l,c)=>i.jsxs(ne,{variant:"outline",className:"text-xs",children:[l.term," (",l.frequency,")"]},c))}):i.jsx("p",{className:"text-gray-500",children:"No technical terms identified"})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Equipment-Specific Question Patterns"})}),i.jsx(G,{children:n!=null&&n.equipmentSpecificPatterns?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.equipmentSpecificPatterns.slice(0,6).map((l,c)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:l.equipment}),i.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:l.commonQuestions.slice(0,3).map((d,u)=>i.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:["• ",d]},u))})]},c))}):i.jsx("p",{className:"text-gray-500",children:"No equipment-specific patterns identified"})})]})]}),i.jsxs(ke,{value:"logic-analysis",className:"space-y-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Mi,{className:"h-5 w-5"}),"Logic Structure Patterns"]})}),i.jsx(G,{children:a?i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):s!=null&&s.logicStructures?i.jsx("div",{className:"space-y-4",children:s.logicStructures.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold capitalize",children:l.structure.replace("-"," ")}),i.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),i.jsxs(ne,{className:"bg-green-100 text-green-800",children:[l.frequency," cases"]})]},c))}):i.jsx(Yt,{children:i.jsx(Qt,{children:"No logic structure patterns found. Check Root Cause Logic data in Evidence Library."})})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Common Reasoning Patterns"})}),i.jsx(G,{children:s!=null&&s.commonPatterns?i.jsx("div",{className:"space-y-3",children:s.commonPatterns.slice(0,6).map((l,c)=>i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-medium",children:l.pattern}),i.jsxs(ne,{variant:"secondary",children:[l.frequency,"x"]})]}),i.jsx("div",{className:"text-sm text-gray-600",children:l.examples.slice(0,2).map((d,u)=>i.jsxs("div",{className:"mt-1 italic",children:['"',d,'"']},u))})]},c))}):i.jsx("p",{className:"text-gray-500",children:"No common patterns identified"})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Causal Language Analysis"})}),i.jsx(G,{children:s!=null&&s.causalWords?i.jsx("div",{className:"flex flex-wrap gap-2",children:s.causalWords.map((l,c)=>i.jsxs(ne,{variant:"outline",className:"bg-orange-50",children:[l.word," (",l.frequency,")"]},c))}):i.jsx("p",{className:"text-gray-500",children:"No causal words identified"})})]})]}),i.jsx(ke,{value:"question-generator",className:"space-y-6",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(MI,{className:"h-5 w-5"}),"Intelligent Question Generator"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"equipment-type",children:"Equipment Type"}),i.jsx(ve,{id:"equipment-type",placeholder:"e.g., equipment type from database",value:e.equipmentType,onChange:l=>t(c=>({...c,equipmentType:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ae,{htmlFor:"failure-mode",children:"Failure Mode"}),i.jsx(ve,{id:"failure-mode",placeholder:"e.g., Seal Leak, Bearing Failure",value:e.failureMode,onChange:l=>t(c=>({...c,failureMode:l.target.value}))})]})]}),i.jsx(K,{onClick:o,disabled:!e.equipmentType||!e.failureMode,className:"w-full",children:"Generate Contextual Questions"}),i.jsx(Yt,{children:i.jsx(Qt,{children:"Enter equipment type and failure mode to generate contextual follow-up questions based on Evidence Library patterns. The NLP engine will analyze similar cases and suggest relevant questions to gather missing evidence."})})]})]})})]})]})}function nSe(){const{incidentId:e}=wl(),{data:t,isLoading:n}=Ae({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Generating comprehensive summary report..."})]})})});if(!(t!=null&&t.report))return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(W,{className:"border-red-200",children:i.jsx(G,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[i.jsx(vt,{className:"h-5 w-5"}),i.jsx("span",{children:"Failed to generate summary report. Please try again."})]})})})});const r=t.report;return i.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($t,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Incident Summary Report"}),i.jsxs("p",{className:"text-gray-600",children:["Investigation ID: ",r.metadata.investigationId]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(K,{variant:"outline",asChild:!0,children:i.jsx(an,{to:"/",children:"← Back to Home"})}),i.jsxs(K,{className:"flex items-center gap-2",children:[i.jsx(ur,{className:"h-4 w-4"}),"Export PDF"]})]})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"1"}),"Incident Overview"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Incident Title"}),i.jsx("p",{className:"text-gray-900",children:r.incidentOverview.incidentTitle})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Date of Incident"}),i.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[i.jsx(_I,{className:"h-4 w-4"}),r.incidentOverview.dateOfIncident]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Reported By"}),i.jsx("p",{className:"text-gray-900",children:r.incidentOverview.reportedBy})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Equipment Tag"}),i.jsx("p",{className:"text-gray-900 font-mono",children:r.incidentOverview.equipmentTag})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Location"}),i.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[i.jsx($I,{className:"h-4 w-4"}),r.incidentOverview.location]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"System/Process"}),i.jsx(ne,{variant:"outline",className:"text-sm",children:r.incidentOverview.systemProcess})]})]})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"2"}),"Incident Description"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"What Failed?"}),i.jsx("p",{className:"text-gray-900 mb-3",children:r.incidentDescription.whatFailed}),i.jsx("label",{className:"font-semibold text-gray-700",children:"When did it happen?"}),i.jsx("p",{className:"text-gray-900",children:r.incidentDescription.whenHappened})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"How was it discovered?"}),i.jsx("p",{className:"text-gray-900 mb-3",children:r.incidentDescription.howDiscovered}),i.jsx("label",{className:"font-semibold text-gray-700",children:"Initial Consequence"}),i.jsx("p",{className:"text-gray-900",children:r.incidentDescription.initialConsequence})]})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium",children:"3"}),"Impact Summary"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Safety"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.safety})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Environment"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.environment})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Production"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.production})]}),i.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2 lg:col-span-1",children:[i.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Cost Estimate"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.costEstimate})]}),i.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2",children:[i.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Regulatory/Compliance"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.regulatory})]})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm font-medium",children:"4"}),"Timeline of Events"]})}),i.jsx(G,{children:i.jsx("div",{className:"space-y-3",children:r.timeline.map((s,a)=>i.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-blue-200 bg-gray-50 rounded-r-lg",children:[i.jsx("div",{className:"font-mono text-sm font-semibold text-blue-600 min-w-[60px]",children:s.time}),i.jsx("div",{className:"text-gray-900",children:s.event})]},a))})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"5"}),"Evidence Collected"]})}),i.jsx(G,{children:r.evidenceCollected.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Source / File"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Observations"})]})}),i.jsx("tbody",{children:r.evidenceCollected.map((s,a)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:"outline",className:"text-xs",children:s.type})}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:s.source}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.observations})]},a))})]})}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx($t,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),i.jsx("p",{children:"No evidence files collected yet"})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-medium",children:"6"}),"Root Cause Summary"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Primary Root Cause"}),i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-red-900",children:r.rootCauseSummary.primaryRootCause})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Contributing Factors"}),i.jsx("div",{className:"space-y-2",children:r.rootCauseSummary.contributingFactors.length>0?r.rootCauseSummary.contributingFactors.map((s,a)=>i.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:i.jsx("p",{className:"text-orange-900",children:s})},a)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing factors identified"})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Latent/Systemic Cause"}),i.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-yellow-900",children:r.rootCauseSummary.latentCause})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Detection Gaps"}),i.jsx("div",{className:"space-y-2",children:r.rootCauseSummary.detectionGaps.length>0?r.rootCauseSummary.detectionGaps.map((s,a)=>i.jsx("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:i.jsx("p",{className:"text-blue-900",children:s})},a)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No detection gaps identified"})})]})]})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm font-medium",children:"7"}),"Root Cause Analysis Methodology"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Method Used"}),i.jsx(ne,{className:"mb-3",children:r.rcaMethodology.method}),i.jsx("p",{className:"text-sm text-gray-600",children:r.rcaMethodology.description})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Confidence Level"}),i.jsxs(ne,{variant:r.rcaMethodology.confidenceLevel>80?"default":"secondary",children:[r.rcaMethodology.confidenceLevel,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Evidence Library Used"}),i.jsx(wt,{className:"h-5 w-5 text-green-500"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold block mb-1",children:"ISO Compliance"}),i.jsx("span",{className:"text-xs text-gray-600",children:r.rcaMethodology.isoCompliance})]})]})]})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-sm font-medium",children:"8"}),"Corrective and Preventive Actions (CAPA)"]})}),i.jsx(G,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Action"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Owner"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Due Date"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Status"})]})}),i.jsx("tbody",{children:r.correctiveActions.map((s,a)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.action}),i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:s.type==="Corrective"?"destructive":"default",className:"text-xs",children:s.type})}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:s.owner}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm font-mono",children:s.dueDate}),i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:"outline",className:"text-xs",children:s.status})})]},a))})]})})})]}),i.jsxs(W,{className:"mb-6",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm font-medium",children:"9"}),"Lessons Learned"]})}),i.jsx(G,{children:i.jsx("ul",{className:"space-y-3",children:r.lessonsLearned.map((s,a)=>i.jsxs("li",{className:"flex items-start gap-3 p-3 border-l-4 border-teal-200 bg-teal-50 rounded-r-lg",children:[i.jsx(wt,{className:"h-5 w-5 text-teal-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-gray-900",children:s})]},a))})})]}),i.jsx(W,{className:"border-gray-200",children:i.jsx(G,{className:"pt-4",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[i.jsxs("span",{children:["Report Generated: ",new Date(r.metadata.reportGeneratedDate).toLocaleString()]}),i.jsx(Bs,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Generated by: ",r.metadata.reportGeneratedBy]}),i.jsx(Bs,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Evidence Files: ",r.metadata.totalEvidenceFiles]}),i.jsx(Bs,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Overall Confidence: ",r.metadata.overallConfidence,"%"]})]})})})]})}function rSe(){var u;const{incidentId:e}=wl(),{data:t,isLoading:n}=Ae({queryKey:[`/api/incidents/${e}`],enabled:!!e}),{data:r,isLoading:s}=Ae({queryKey:[`/api/incidents/${e}/analysis`],enabled:!!e}),{data:a,isLoading:o}=Ae({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n||s)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading analysis details..."})]})})});if(!t||!r)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(W,{className:"border-yellow-200",children:i.jsx(G,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[i.jsx(vt,{className:"h-5 w-5"}),i.jsx("span",{children:"Incident or analysis not found."})]})})})});if(!r||Object.keys(r).length===0)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(W,{className:"border-yellow-200",children:i.jsx(G,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[i.jsx(vt,{className:"h-5 w-5"}),i.jsx("span",{children:"Analysis data not available. Please complete the analysis first."})]})})})});const l=((r==null?void 0:r.overallConfidence)||0)>=80?"text-green-600":((r==null?void 0:r.overallConfidence)||0)>=60?"text-yellow-600":"text-red-600",c=f=>new Date(f).toLocaleString(),d=f=>{switch(f){case"finalized":case"completed":return i.jsx(ne,{className:"bg-green-100 text-green-800",children:"Completed"});case"analysis_complete":return i.jsx(ne,{className:"bg-blue-100 text-blue-800",children:"Analysis Complete"});case"under_review":return i.jsx(ne,{className:"bg-yellow-100 text-yellow-800",children:"Under Review"});default:return i.jsx(ne,{className:"bg-gray-100 text-gray-800",children:"In Progress"})}};return i.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(an,{to:"/",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analysis Details"}),i.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.equipmentId)||"N/A"," • ",(t==null?void 0:t.equipmentGroup)||"N/A"," → ",(t==null?void 0:t.equipmentType)||"N/A",t!=null&&t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right mr-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),i.jsxs("span",{className:`text-2xl font-bold ${l}`,children:[(r==null?void 0:r.overallConfidence)||0,"%"]})]}),d((t==null?void 0:t.workflowStatus)||"in_progress")]}),i.jsxs(K,{className:"flex items-center gap-2",children:[i.jsx(ur,{className:"h-4 w-4"}),"Export"]})]})]}),i.jsxs(vr,{defaultValue:"overview",className:"w-full",children:[i.jsxs(er,{className:"grid w-full grid-cols-8",children:[i.jsx(Oe,{value:"overview",children:"Overview"}),i.jsx(Oe,{value:"diagrams",children:"Diagrams"}),i.jsx(Oe,{value:"rca-tree",children:"RCA Tree"}),i.jsx(Oe,{value:"evidence",children:"Evidence"}),i.jsx(Oe,{value:"reasoning",children:"AI Reasoning"}),i.jsx(Oe,{value:"engineer-review",children:"Engineer Review"}),i.jsx(Oe,{value:"export",children:"Export"}),i.jsx(Oe,{value:"history",children:"History"})]}),i.jsxs(ke,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),"Issue Description"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.title)||"No title"}),i.jsx("p",{className:"text-gray-600 mt-2",children:(t==null?void 0:t.description)||"No description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Reported:"}),i.jsx("p",{className:"font-medium",children:t!=null&&t.incidentDateTime?c(t.incidentDateTime):"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Priority:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.priority)||"Medium"})]})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"Equipment Details"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Type:"}),i.jsxs("p",{className:"font-medium",children:[t.equipmentGroup," → ",t.equipmentType,t.equipmentSubtype?` → ${t.equipmentSubtype}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"ID:"}),i.jsx("p",{className:"font-medium",children:t.equipmentId})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Manufacturer:"}),i.jsx("p",{className:"font-medium",children:t.manufacturerSnapshot||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Model:"}),i.jsx("p",{className:"font-medium",children:t.modelSnapshot||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Location:"}),i.jsx("p",{className:"font-medium",children:t.location})]})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($i,{className:"h-5 w-5"}),"Root Cause Analysis"]})}),i.jsx(G,{children:r.rootCauses&&r.rootCauses.length>0?i.jsx("div",{className:"space-y-4",children:r.rootCauses.map((f,p)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.description}),i.jsxs(ne,{variant:"outline",className:"ml-2",children:[f.confidence,"% confidence"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[i.jsx("span",{className:"font-medium",children:"Category:"})," ",f.category," •",i.jsx("span",{className:"font-medium ml-2",children:"Impact:"})," ",f.impact," •",i.jsx("span",{className:"font-medium ml-2",children:"Likelihood:"})," ",f.likelihood]}),f.evidence&&f.evidence.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evidence:"}),i.jsx("ul",{className:"text-sm text-gray-600 ml-4 mt-1",children:f.evidence.map((x,h)=>i.jsx("li",{className:"list-disc",children:x},h))})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No root causes identified yet."})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Tp,{className:"h-5 w-5"}),"Recommendations"]})}),i.jsx(G,{children:r.recommendations&&r.recommendations.length>0?i.jsx("div",{className:"space-y-4",children:r.recommendations.map((f,p)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),i.jsx(ne,{variant:f.priority==="Immediate"?"destructive":f.priority==="Short-term"?"default":"secondary",children:f.priority})]}),i.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Cost:"}),i.jsx("p",{className:"font-medium",children:f.estimatedCost})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),i.jsx("p",{className:"font-medium",children:f.timeframe})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Responsible:"}),i.jsx("p",{className:"font-medium",children:f.responsible})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Prevention:"}),i.jsxs("p",{className:"font-medium",children:[f.preventsProbability,"%"]})]})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No recommendations available."})})]})]}),i.jsx(ke,{value:"evidence",className:"space-y-6",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Evidence Collection Summary"})}),i.jsx(G,{children:t.evidenceChecklist&&t.evidenceChecklist.length>0?i.jsx("div",{className:"space-y-4",children:t.evidenceChecklist.map((f,p)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[i.jsx("div",{className:"mt-0.5",children:f.completed?i.jsx(wt,{className:"h-5 w-5 text-green-600"}):i.jsx(vt,{className:"h-5 w-5 text-yellow-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:f.title}),i.jsx("p",{className:"text-sm text-gray-600",children:f.description}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs(ne,{variant:"outline",className:"text-xs",children:[f.priority," Priority"]}),i.jsx(ne,{variant:"outline",className:"text-xs",children:f.category})]}),f.files&&f.files.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Files: "}),i.jsxs("span",{className:"text-xs",children:[f.files.length," uploaded"]})]})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No evidence checklist available."})})]})}),i.jsxs(ke,{value:"reasoning",className:"space-y-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(mc,{className:"h-5 w-5"}),"Analysis Metrics"]})}),i.jsx(G,{children:r.crossMatchResults&&i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.crossMatchResults.libraryMatches||0}),i.jsx("div",{className:"text-sm text-gray-500",children:"Library Matches"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.crossMatchResults.patternSimilarity||0,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Pattern Similarity"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[r.overallConfidence,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Overall Confidence"})]})]})})]}),r.evidenceGaps&&r.evidenceGaps.length>0&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5 text-yellow-500"}),"Evidence Gaps"]})}),i.jsx(G,{children:i.jsx("ul",{className:"space-y-2",children:r.evidenceGaps.map((f,p)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-gray-700",children:f})]},p))})})]}),((u=r.crossMatchResults)==null?void 0:u.historicalData)&&r.crossMatchResults.historicalData.length>0&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Fs,{className:"h-5 w-5"}),"Historical References"]})}),i.jsx(G,{children:i.jsx("ul",{className:"space-y-2",children:r.crossMatchResults.historicalData.map((f,p)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-gray-700",children:f})]},p))})})]})]}),i.jsx(ke,{value:"rca-tree",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Wc,{className:"h-5 w-5"}),"RCA Tree Visualization"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Interactive root cause analysis tree with cause-and-effect relationships"})]}),i.jsx(G,{children:r?i.jsx(OL,{analysis:r,incident:t}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Wc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No analysis data available for RCA Tree visualization"})]})})]})}),i.jsx(ke,{value:"diagrams",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(mc,{className:"h-5 w-5"}),"Interactive RCA Diagrams"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Multiple diagram views: Fault Tree, Fishbone, Timeline, and Bowtie analysis"})]}),i.jsx(G,{children:r?i.jsx(t3,{analysisData:r,investigationType:"equipment_failure",onNodeUpdate:(f,p)=>console.log("Node updated:",f,p),onNodeAdd:(f,p)=>console.log("Node added:",f,p),onNodeDelete:f=>console.log("Node deleted:",f)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(mc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No analysis data available for diagram visualization"})]})})]})}),i.jsx(ke,{value:"engineer-review",className:"space-y-6",children:i.jsx(iSe,{incident:t,analysis:r})}),i.jsx(ke,{value:"export",className:"space-y-6",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Export Options"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports in various formats"})]}),i.jsx(G,{children:!o&&a?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(K,{className:"h-12 flex items-center gap-3",variant:"outline",children:[i.jsx($t,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Summary Report"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive 9-section report"})]})]}),i.jsxs(K,{className:"h-12 flex items-center gap-3",variant:"outline",children:[i.jsx(ur,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Export PDF"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Professional format"})]})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Preparing export options..."})]})})]})}),i.jsx(ke,{value:"history",className:"space-y-6",children:i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Fs,{className:"h-5 w-5"}),"Investigation Timeline"]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"Analysis Completed"}),i.jsx("div",{className:"text-sm text-gray-600",children:c(r.analysisDate)})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(wt,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"Investigation Started"}),i.jsx("div",{className:"text-sm text-gray-600",children:c(t.createdAt)})]})]})]})})]})})]})]})}function iSe({incident:e,analysis:t}){var d,u,f,p,x,h,m;const{toast:n}=Ot(),[r,s]=j.useState(!1),[a,o]=j.useState({reviewerId:"",reviewerName:"",reviewDate:new Date().toISOString(),approved:!1,comments:"",additionalFindings:"",signoffRequired:!1}),l=lt({mutationFn:async y=>bt(`/api/incidents/${e.id}/engineer-review`,{method:"POST",body:JSON.stringify({...y,workflowStatus:y.approved?"finalized":"under_review"})}),onSuccess:()=>{n({title:"Review Submitted",description:a.approved?"Investigation approved and finalized.":"Review comments saved."}),s(!1)},onError:y=>{n({title:"Error",description:"Failed to submit review: "+y.message,variant:"destructive"})}}),c=()=>{if(!a.reviewerName||!a.reviewerId){n({title:"Required Fields",description:"Please provide reviewer name and ID.",variant:"destructive"});return}l.mutate(a)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(W,{children:i.jsx(X,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"h-5 w-5"}),"Engineer Review & Approval"]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Investigation Status: ",(e==null?void 0:e.workflowStatus)==="finalized"?"Approved":"Pending Review"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ne,{variant:(e==null?void 0:e.workflowStatus)==="finalized"?"default":"secondary",children:(e==null?void 0:e.workflowStatus)==="finalized"?"Finalized":"Needs Review"}),i.jsxs(K,{variant:"outline",onClick:()=>s(!r),className:"flex items-center gap-2",children:[i.jsx(Ia,{className:"h-4 w-4"}),r?"View Mode":"Review Mode"]})]})]})})}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Investigation Review"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide professional engineering review and approval for this RCA investigation"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ae,{children:"Reviewer Name"}),i.jsx(ve,{value:a.reviewerName,onChange:y=>o(g=>({...g,reviewerName:y.target.value})),disabled:!r,placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Reviewer ID / License"}),i.jsx(ve,{value:a.reviewerId,onChange:y=>o(g=>({...g,reviewerId:y.target.value})),disabled:!r,placeholder:"Engineer ID or License #"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"AI Analysis Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Confidence:"}),i.jsxs("p",{className:"font-medium",children:[(t==null?void 0:t.overallConfidence)||0,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Failure Mode:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.failureMode)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Severity:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.severity)||"N/A"})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"text-gray-600",children:"Root Causes:"}),i.jsx("ul",{className:"list-disc list-inside mt-1",children:((d=t==null?void 0:t.rootCauses)==null?void 0:d.slice(0,3).map((y,g)=>i.jsxs("li",{className:"text-sm",children:[(y==null?void 0:y.description)||"N/A"," (",(y==null?void 0:y.confidence)||0,"%)"]},g)))||i.jsx("li",{className:"text-sm",children:"No root causes available"})})]})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Review Comments & Professional Assessment"}),i.jsx(He,{placeholder:"Provide detailed engineering review of the AI analysis, evidence quality, methodology, and conclusions...",value:a.comments,onChange:y=>o(g=>({...g,comments:y.target.value})),disabled:!r,rows:4,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ae,{children:"Additional Engineering Findings"}),i.jsx(He,{placeholder:"Any additional findings, observations, or recommendations not captured by the AI analysis...",value:a.additionalFindings,onChange:y=>o(g=>({...g,additionalFindings:y.target.value})),disabled:!r,rows:3,className:"mt-2"})]}),r&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Final Approval"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:"approved",checked:a.approved,onCheckedChange:y=>o(g=>({...g,approved:!!y}))}),i.jsx(ae,{htmlFor:"approved",className:"font-medium",children:"I approve this RCA investigation and findings"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xn,{id:"signoff",checked:a.signoffRequired,onCheckedChange:y=>o(g=>({...g,signoffRequired:!!y}))}),i.jsx(ae,{htmlFor:"signoff",children:"Additional management signoff required"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsxs(K,{onClick:c,disabled:l.isPending,className:"flex items-center gap-2",children:[i.jsx(Mv,{className:"h-4 w-4"}),l.isPending?"Submitting...":"Submit Review"]}),i.jsx(K,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]}),(e==null?void 0:e.engineerReview)&&!r&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Current Review Status"}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Hc,{className:"h-4 w-4"}),i.jsxs("span",{className:"font-medium",children:["Reviewed by: ",((u=e==null?void 0:e.engineerReview)==null?void 0:u.reviewerName)||"N/A"]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:((f=e==null?void 0:e.engineerReview)==null?void 0:f.comments)||"No comments"}),((p=e==null?void 0:e.engineerReview)==null?void 0:p.additionalFindings)&&i.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[i.jsx("strong",{children:"Additional findings:"})," ",e.engineerReview.additionalFindings]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsx(ne,{variant:(x=e==null?void 0:e.engineerReview)!=null&&x.approved?"default":"secondary",children:(h=e==null?void 0:e.engineerReview)!=null&&h.approved?"Approved":"Under Review"}),i.jsxs("span",{className:"text-gray-600",children:["Reviewed: ",(m=e==null?void 0:e.engineerReview)!=null&&m.reviewDate?new Date(e.engineerReview.reviewDate).toLocaleString():"N/A"]})]})]})]})]})]})]})}function sSe(){return i.jsx("div",{className:"min-h-screen p-6",children:i.jsxs(W,{className:"max-w-4xl mx-auto",children:[i.jsx(X,{children:i.jsx(Z,{children:"Debug Routes Page"})}),i.jsxs(G,{children:[i.jsx("p",{children:"This page loads to test if routing is working."}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx(an,{to:"/",className:"block text-blue-600 hover:underline",children:"Go to Home"}),i.jsx(an,{to:"/incident-reporting",className:"block text-blue-600 hover:underline",rel:"noopener noreferrer",children:"Go to Incident Reporting"}),i.jsx(an,{to:"/equipment-selection",className:"block text-blue-600 hover:underline",children:"Go to Equipment Selection"})]})]})]})})}function aSe(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,f]=j.useState(null),{toast:p}=Ot(),x=Ar(),{data:h=[],isLoading:m}=Ae({queryKey:["/api/admin/fault-reference-library"],retry:!1}),{data:y=[]}=Ae({queryKey:["/api/admin/fault-reference-library/search",{q:e,evidenceType:n}],enabled:e.length>0||n.length>0,retry:!1}),g=e||n?y:h,b=lt({mutationFn:async k=>await bt("/api/admin/fault-reference-library","POST"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),a(!1),p({title:"Success",description:"Fault reference entry created successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to create entry",variant:"destructive"})}}),v=lt({mutationFn:async({id:k,data:I})=>await bt(`/api/admin/fault-reference-library/${k}`,"PUT"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),l(null),p({title:"Success",description:"Fault reference entry updated successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to update entry",variant:"destructive"})}}),N=lt({mutationFn:async k=>await bt(`/api/admin/fault-reference-library/${k}`,"DELETE"),onSuccess:()=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),p({title:"Success",description:"Fault reference entry deleted successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to delete entry",variant:"destructive"})}}),w=lt({mutationFn:async k=>{const I=new FormData;I.append("file",k);const{api:P}=await Qe(async()=>{const{api:_}=await import("./api-DV25CDRD.js");return{api:_}},[]),A=await P("/admin/fault-reference-library/import",{method:"POST",body:I});if(!A.ok){const _=await A.json();throw new Error(_.message||"Import failed")}return A.json()},onSuccess:k=>{x.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),d(!1),f(null),p({title:"Import Complete",description:`Successfully imported ${k.imported} entries. ${k.errors>0?`${k.errors} errors encountered.`:""}`})},onError:k=>{p({title:"Import Failed",description:k.message||"Failed to import entries",variant:"destructive"})}}),C=async k=>{try{const{api:I}=await Qe(async()=>{const{api:D}=await import("./api-DV25CDRD.js");return{api:D}},[]),P=await I(`/admin/fault-reference-library/export/${k}`);if(!P.ok)throw new Error("Export failed");const A=await P.blob(),_=window.URL.createObjectURL(A),O=document.createElement("a");O.style.display="none",O.href=_,O.download=`fault-reference-library.${k==="csv"?"csv":"xlsx"}`,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(_),p({title:"Success",description:`Library exported as ${k.toUpperCase()}`})}catch{p({title:"Export Failed",description:"Failed to export library",variant:"destructive"})}},E=()=>{u&&w.mutate(u)},S=({entry:k,onSubmit:I,onCancel:P})=>{const[A,_]=j.useState({evidenceType:(k==null?void 0:k.evidenceType)||"",pattern:(k==null?void 0:k.pattern)||"",matchingCriteria:(k==null?void 0:k.matchingCriteria)||"",probableFault:(k==null?void 0:k.probableFault)||"",confidence:(k==null?void 0:k.confidence)||0,recommendations:(k==null?void 0:k.recommendations)||"",referenceStandard:(k==null?void 0:k.referenceStandard)||"",notes:(k==null?void 0:k.notes)||""}),O=D=>{D.preventDefault(),I(A)};return i.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"evidenceType",children:"Evidence Type *"}),i.jsxs(Ue,{value:A.evidenceType,onValueChange:D=>_({...A,evidenceType:D}),children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select evidence type"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"vibration",children:"Vibration"}),i.jsx(J,{value:"temperature",children:"Temperature"}),i.jsx(J,{value:"pressure",children:"Pressure"}),i.jsx(J,{value:"acoustic",children:"Acoustic"}),i.jsx(J,{value:"visual",children:"Visual"}),i.jsx(J,{value:"electrical",children:"Database-Driven"}),i.jsx(J,{value:"chemical",children:"Chemical"}),i.jsx(J,{value:"process",children:"Process"}),i.jsx(J,{value:"operational",children:"Operational"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"confidence",children:"Confidence (%) *"}),i.jsx(ve,{type:"number",min:"0",max:"100",value:A.confidence,onChange:D=>_({...A,confidence:parseInt(D.target.value)||0}),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"pattern",children:"Pattern *"}),i.jsx(ve,{value:A.pattern,onChange:D=>_({...A,pattern:D.target.value}),placeholder:"e.g., High frequency vibration at 2x RPM",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"probableFault",children:"Probable Fault *"}),i.jsx(ve,{value:A.probableFault,onChange:D=>_({...A,probableFault:D.target.value}),placeholder:"e.g., Bearing misalignment",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"matchingCriteria",children:"Matching Criteria *"}),i.jsx(He,{value:A.matchingCriteria,onChange:D=>_({...A,matchingCriteria:D.target.value}),placeholder:"Describe the conditions that must be met for this pattern to match...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"recommendations",children:"Recommendations"}),i.jsx(He,{value:A.recommendations,onChange:D=>_({...A,recommendations:D.target.value}),placeholder:"Recommended actions and next steps..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"referenceStandard",children:"Reference Standard"}),i.jsx(ve,{value:A.referenceStandard,onChange:D=>_({...A,referenceStandard:D.target.value}),placeholder:"e.g., ISO 14224, API 610"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"notes",children:"Notes"}),i.jsx(ve,{value:A.notes,onChange:D=>_({...A,notes:D.target.value}),placeholder:"Additional notes..."})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(K,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),i.jsxs(K,{type:"submit",disabled:b.isPending||v.isPending,children:[k?"Update":"Create"," Entry"]})]})]})};return i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Qa,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Fault Reference Library"}),i.jsx("p",{className:"text-muted-foreground",children:"Admin-only Feature-to-Fault mapping knowledge base"})]})]}),i.jsxs(ne,{variant:"secondary",className:"flex items-center space-x-1",children:[i.jsx(Os,{className:"h-4 w-4"}),i.jsxs("span",{children:[h.length," entries"]})]})]}),i.jsx(W,{children:i.jsx(G,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex-1 flex gap-3",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ve,{placeholder:"Search patterns, faults, criteria...",value:e,onChange:k=>t(k.target.value),className:"pl-10"})]}),i.jsxs(Ue,{value:n,onValueChange:r,children:[i.jsx(ze,{className:"w-40",children:i.jsx(Ve,{placeholder:"Evidence Type"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"ALL_EVIDENCE_TYPES",children:"All Types"}),i.jsx(J,{value:"vibration",children:"Vibration"}),i.jsx(J,{value:"temperature",children:"Temperature"}),i.jsx(J,{value:"pressure",children:"Pressure"}),i.jsx(J,{value:"acoustic",children:"Acoustic"}),i.jsx(J,{value:"visual",children:"Visual"}),i.jsx(J,{value:"electrical",children:"Database-Driven"}),i.jsx(J,{value:"chemical",children:"Chemical"}),i.jsx(J,{value:"process",children:"Process"}),i.jsx(J,{value:"operational",children:"Operational"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(wc,{open:s,onOpenChange:a,children:[i.jsx(Ow,{asChild:!0,children:i.jsxs(K,{className:"flex items-center space-x-2",children:[i.jsx(zr,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Entry"})]})}),i.jsxs(Xo,{className:"max-w-2xl",children:[i.jsx(Zo,{children:i.jsx(Jo,{children:"Create New Fault Reference Entry"})}),i.jsx(S,{onSubmit:k=>b.mutate(k),onCancel:()=>a(!1)})]})]}),i.jsxs(wc,{open:c,onOpenChange:d,children:[i.jsx(Ow,{asChild:!0,children:i.jsxs(K,{variant:"outline",className:"flex items-center space-x-2",children:[i.jsx(Xa,{className:"h-4 w-4"}),i.jsx("span",{children:"Import"})]})}),i.jsxs(Xo,{children:[i.jsx(Zo,{children:i.jsx(Jo,{children:"Import Fault Reference Library"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:k=>{var I;return f(((I=k.target.files)==null?void 0:I[0])||null)},className:"hidden",id:"import-file"}),i.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[i.jsx(Xa,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload CSV or Excel file"})]}),u&&i.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",u.name]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(K,{variant:"outline",onClick:()=>{d(!1),f(null)},children:"Cancel"}),i.jsx(K,{onClick:E,disabled:!u||w.isPending,children:"Import"})]})]})]})]}),i.jsxs(K,{variant:"outline",onClick:()=>C("csv"),className:"flex items-center space-x-2",children:[i.jsx($t,{className:"h-4 w-4"}),i.jsx("span",{children:"CSV"})]}),i.jsxs(K,{variant:"outline",onClick:()=>C("excel"),className:"flex items-center space-x-2",children:[i.jsx(RI,{className:"h-4 w-4"}),i.jsx("span",{children:"Excel"})]})]})]})})}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Knowledge Base Entries"}),i.jsx(ge,{children:"Dynamic fault pattern mapping for evidence analysis"})]}),i.jsx(G,{children:m?i.jsx("div",{className:"text-center py-8",children:"Loading fault reference library..."}):g.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||n?"No entries match your search criteria":"No fault reference entries found. Create your first entry to get started."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Vp,{children:[i.jsx(Wp,{children:i.jsxs(Fr,{children:[i.jsx(Xt,{children:"Evidence Type"}),i.jsx(Xt,{children:"Pattern"}),i.jsx(Xt,{children:"Probable Fault"}),i.jsx(Xt,{children:"Confidence"}),i.jsx(Xt,{children:"Reference"}),i.jsx(Xt,{children:"Actions"})]})}),i.jsx(Hp,{children:g.map(k=>i.jsxs(Fr,{children:[i.jsx(Mt,{children:i.jsx(ne,{variant:"outline",children:k.evidenceType})}),i.jsx(Mt,{className:"max-w-xs truncate",title:k.pattern,children:k.pattern}),i.jsx(Mt,{className:"max-w-xs truncate",title:k.probableFault,children:k.probableFault}),i.jsx(Mt,{children:i.jsxs(ne,{variant:k.confidence>=80?"default":k.confidence>=60?"secondary":"outline",children:[k.confidence,"%"]})}),i.jsx(Mt,{children:k.referenceStandard||"N/A"}),i.jsx(Mt,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(K,{size:"sm",variant:"outline",onClick:()=>l(k),children:i.jsx($v,{className:"h-4 w-4"})}),i.jsx(K,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this entry?")&&N.mutate(k.id)},children:i.jsx(Ko,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),o&&i.jsx(wc,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Xo,{className:"max-w-2xl",children:[i.jsx(Zo,{children:i.jsx(Jo,{children:"Edit Fault Reference Entry"})}),i.jsx(S,{entry:o,onSubmit:k=>v.mutate({id:o.id,data:k}),onCancel:()=>l(null)})]})})]})}const Ji=[{id:"dashboard",label:"Dashboard",path:"/admin",icon:"Home"},{id:"taxonomy",label:"Taxonomy Management",path:"/admin/taxonomy",icon:"Database"},{id:"evidence",label:"Evidence Library",path:"/admin/evidence",icon:"Library"},{id:"integrations",label:"Workflow Integration",path:"/admin/integrations",icon:"Plug"}],oSe=[{id:"groups",label:"Equipment Groups",path:"/admin/taxonomy/groups",description:"Manage equipment group classifications"},{id:"types",label:"Equipment Types",path:"/admin/taxonomy/types",description:"Manage equipment type definitions"},{id:"subtypes",label:"Equipment Subtypes",path:"/admin/taxonomy/subtypes",description:"Manage equipment subtype categories"},{id:"risks",label:"Risk Rankings",path:"/admin/taxonomy/risks",description:"Manage risk classification levels"}];function lSe(){var h;Ot(),Ar();const[e,t]=j.useState(null),[n,r]=j.useState(null),{data:s,isLoading:a}=Ae({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:m}=await Qe(async()=>{const{api:g}=await import("./api-DV25CDRD.js");return{api:g}},[]);return(await m("/taxonomy/groups")).json()}}),{data:o,isLoading:l}=Ae({queryKey:["/api/taxonomy/types",e],queryFn:async()=>{if(!e)return[];const{api:m}=await Qe(async()=>{const{api:g}=await import("./api-DV25CDRD.js");return{api:g}},[]);return(await m(`/taxonomy/types?groupId=${e}`)).json()},enabled:!!e}),{data:c,isLoading:d}=Ae({queryKey:["/api/taxonomy/subtypes",n],queryFn:async()=>{if(!n)return[];const{api:m}=await Qe(async()=>{const{api:g}=await import("./api-DV25CDRD.js");return{api:g}},[]);return(await m(`/taxonomy/subtypes?typeId=${n}`)).json()},enabled:!!n}),{data:u,isLoading:f}=Ae({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:m}=await Qe(async()=>{const{api:g}=await import("./api-DV25CDRD.js");return{api:g}},[]);return(await m("/taxonomy/risks")).json()}}),{data:p,isLoading:x}=Ae({queryKey:["/api/test-direct"],queryFn:async()=>{const{api:m}=await Qe(async()=>{const{api:g}=await import("./api-DV25CDRD.js");return{api:g}},[]);return(await m("/test-direct")).json()}});return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(an,{to:"/",children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),i.jsx(an,{to:"/admin",children:i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(Rv,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((h=Ji.find(m=>m.id==="taxonomy"))==null?void 0:h.label)||"Taxonomy Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage equipment classification and risk ranking lookup tables"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Os,{className:"h-5 w-5"}),i.jsx(ne,{variant:p!=null&&p.success?"default":"destructive",children:x?"Testing...":p!=null&&p.success?"API Connected":"API Error"})]})]}),i.jsx(W,{className:"border-l-4 border-l-blue-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{children:"Universal Protocol Standard - Zero Hardcoding Compliance"})]}),i.jsx(ge,{children:"All taxonomy data is loaded dynamically from database lookup tables. No hardcoded business vocabulary allowed."})]})}),i.jsxs(vr,{defaultValue:"groups",className:"space-y-4",children:[i.jsx(er,{className:"grid w-full grid-cols-4",children:oSe.map(m=>i.jsxs(Oe,{value:m.id,"data-testid":`tab-${m.id}`,children:[m.label," (",m.id==="groups"?(s==null?void 0:s.length)||0:m.id==="types"?(o==null?void 0:o.length)||0:m.id==="subtypes"?(c==null?void 0:c.length)||0:m.id==="risks"&&(u==null?void 0:u.length)||0,")"]},m.id))}),i.jsx(ke,{value:"groups",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Equipment Groups"}),i.jsx(ge,{children:"Top-level equipment classifications from your database"})]}),i.jsx(G,{children:a?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Fn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading equipment groups..."})]}):i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s==null?void 0:s.map(m=>i.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[i.jsx(X,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Z,{className:"text-lg",children:m.name}),i.jsx(ne,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>t(m.id),"data-testid":`select-group-${m.id}`,children:"View Types"})]})})]},m.id))})})})]})}),i.jsx(ke,{value:"types",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Equipment Types"}),i.jsxs(ge,{children:["Equipment types within selected group",e&&i.jsxs(ne,{variant:"outline",className:"ml-2",children:["Group ID: ",e]})]})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ae,{htmlFor:"group-select",children:"Select Equipment Group:"}),i.jsxs(Ue,{value:(e==null?void 0:e.toString())||"",onValueChange:m=>t(parseInt(m)),children:[i.jsx(ze,{className:"w-[200px]","data-testid":"select-group-dropdown",children:i.jsx(Ve,{placeholder:"Choose group..."})}),i.jsx(Be,{children:s==null?void 0:s.map(m=>i.jsx(J,{value:m.id.toString(),children:m.name},m.id))})]})]}),e&&i.jsx(i.Fragment,{children:l?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Fn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading equipment types..."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o==null?void 0:o.map(m=>i.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[i.jsx(X,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Z,{className:"text-lg",children:m.name}),i.jsx(ne,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),i.jsx(K,{variant:"outline",size:"sm",onClick:()=>r(m.id),"data-testid":`select-type-${m.id}`,children:"View Subtypes"})]})})]},m.id))})})]})})]})}),i.jsx(ke,{value:"subtypes",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Equipment Subtypes"}),i.jsxs(ge,{children:["Equipment subtypes within selected type",n&&i.jsxs(ne,{variant:"outline",className:"ml-2",children:["Type ID: ",n]})]})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ae,{htmlFor:"group-select",children:"Equipment Group:"}),i.jsxs(Ue,{value:(e==null?void 0:e.toString())||void 0,onValueChange:m=>t(parseInt(m)),children:[i.jsx(ze,{className:"w-[200px]",children:i.jsx(Ve,{placeholder:"Choose group..."})}),i.jsx(Be,{children:s==null?void 0:s.map(m=>i.jsx(J,{value:m.id.toString(),children:m.name},m.id))})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ae,{htmlFor:"type-select",children:"Equipment Type:"}),i.jsxs(Ue,{value:(n==null?void 0:n.toString())||void 0,onValueChange:m=>r(parseInt(m)),disabled:!e,children:[i.jsx(ze,{className:"w-[200px]","data-testid":"select-type-dropdown",children:i.jsx(Ve,{placeholder:"Choose type..."})}),i.jsx(Be,{children:o==null?void 0:o.map(m=>i.jsx(J,{value:m.id.toString(),children:m.name},m.id))})]})]})]}),n&&i.jsx(i.Fragment,{children:d?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Fn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading equipment subtypes..."})]}):(c==null?void 0:c.length)===0?i.jsx(W,{className:"border-dashed",children:i.jsx(G,{className:"pt-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Hr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Subtypes Found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"No equipment subtypes exist for the selected type."}),i.jsxs(K,{"data-testid":"add-subtype-button",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add First Subtype"]})]})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c==null?void 0:c.map(m=>i.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[i.jsx(X,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Z,{className:"text-lg",children:m.name}),i.jsx(ne,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]}),i.jsxs("div",{className:"text-sm",children:["Type: ",m.equipmentTypeName]}),i.jsxs("div",{className:"text-sm",children:["Group: ",m.equipmentGroupName]})]})})]},m.id))})})]})})]})}),i.jsx(ke,{value:"risks",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Risk Rankings"}),i.jsx(ge,{children:"Risk classification levels for incident assessment"})]}),i.jsx(G,{children:f?i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx(Fn,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading risk rankings..."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u==null?void 0:u.map(m=>i.jsxs(W,{className:"hover:shadow-md transition-shadow",children:[i.jsx(X,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Z,{className:"text-lg",children:m.label}),i.jsx(ne,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",m.id]})})]},m.id))})})]})})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Taxonomy Overview"}),i.jsx(ge,{children:"Current database statistics and API connectivity status"})]}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Groups"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:(o==null?void 0:o.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Types"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(c==null?void 0:c.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Equipment Subtypes"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(u==null?void 0:u.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Rankings"})]})]})})]})]})}function P0({children:e}){const{data:t,error:n,isLoading:r}=Ae({queryKey:["/api/admin/ai/providers"],queryFn:()=>bt("/api/admin/ai/providers").then(l=>l.json()),staleTime:0,refetchOnFocus:!1}),s=Rn();return s.pathname.startsWith("/admin")||s.pathname==="/"?e:r?null:n?(console.log("[RequireConfigured] API error - allowing access"),e):!(Array.isArray(t)?t:[]).some(l=>l.isActive)&&s.pathname!=="/admin-settings"&&(s.pathname.includes("analysis")||s.pathname.includes("ai-powered"))?i.jsx(No,{to:"/admin-settings",replace:!0,state:{reason:"no-active-provider"}}):e}function YP(){var v,N,w,C,E;const{toast:e}=Ot();Ar();const[t,n]=j.useState({incidentId:`DEMO_${Date.now()}`,symptoms:[],incidentDescription:""}),[r,s]=j.useState(""),[a,o]=j.useState(null),{data:l,isLoading:c}=Ae({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:S}=await Qe(async()=>{const{api:I}=await import("./api-DV25CDRD.js");return{api:I}},[]);return(await S("/taxonomy/groups")).json()}}),{data:d,isLoading:u}=Ae({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:async()=>{if(!t.equipmentGroupId)return[];const{api:S}=await Qe(async()=>{const{api:I}=await import("./api-DV25CDRD.js");return{api:I}},[]);return(await S(`/taxonomy/types?groupId=${t.equipmentGroupId}`)).json()},enabled:!!t.equipmentGroupId});Ae({queryKey:["/api/taxonomy/subtypes",t.equipmentTypeId],queryFn:async()=>{if(!t.equipmentTypeId)return[];const{api:S}=await Qe(async()=>{const{api:I}=await import("./api-DV25CDRD.js");return{api:I}},[]);return(await S(`/taxonomy/subtypes?typeId=${t.equipmentTypeId}`)).json()},enabled:!!t.equipmentTypeId});const{data:f,isLoading:p}=Ae({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:S}=await Qe(async()=>{const{api:I}=await import("./api-DV25CDRD.js");return{api:I}},[]);return(await S("/taxonomy/risks")).json()}}),x=lt({mutationFn:async S=>bt("/api/evidence-analysis",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(o(S.analysis),e({title:"Analysis Complete",description:`Found ${S.analysis.primaryFailureModes.length} primary failure modes with ${S.analysis.confidence}% confidence`})):e({title:"Analysis Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Analysis Error",description:S.message||"Failed to perform analysis",variant:"destructive"})}}),h=()=>{r.trim()&&!t.symptoms.includes(r.trim())&&(n(S=>({...S,symptoms:[...S.symptoms,r.trim()]})),s(""))},m=S=>{n(k=>({...k,symptoms:k.symptoms.filter(I=>I!==S)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}x.mutate(t)},g=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},b=S=>S>=80?"text-green-600":S>=60?"text-yellow-600":"text-red-600";return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((v=Ji.find(S=>S.id==="analysis"))==null?void 0:v.label)||"Analysis Engine"}),i.jsx("p",{className:"text-muted-foreground",children:"Step 6: Taxonomy-driven evidence analysis with dynamic failure mode identification"})]}),i.jsxs(ne,{variant:"outline",className:"text-blue-600",children:[i.jsx(_t,{className:"h-4 w-4 mr-2"}),"AI-Powered Analysis"]})]}),i.jsx(W,{className:"border-l-4 border-l-purple-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($i,{className:"h-5 w-5 text-purple-500"}),i.jsxs("span",{children:["Step 6: ",((N=Ji.find(S=>S.id==="analysis"))==null?void 0:N.label)||"Analysis Engine"," - Zero Hardcoding Intelligence"]})]}),i.jsx(ge,{children:"Dynamic analysis based on equipment taxonomy and evidence library patterns. All failure modes and logic loaded from database - no hardcoded rules."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Analysis Configuration"}),i.jsx(ge,{children:"Configure the analysis parameters and incident details"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentId",children:"Incident ID"}),i.jsx(ve,{id:"incidentId",value:t.incidentId,onChange:S=>n(k=>({...k,incidentId:S.target.value})),placeholder:"Enter incident ID"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentDescription",children:"Incident Description *"}),i.jsx(He,{id:"incidentDescription",value:t.incidentDescription,onChange:S=>n(k=>({...k,incidentDescription:S.target.value})),placeholder:"Describe the incident, observed problems, and initial findings...",rows:4})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Equipment Group"}),i.jsxs(Ue,{value:((w=t.equipmentGroupId)==null?void 0:w.toString())||void 0,onValueChange:S=>{n(k=>({...k,equipmentGroupId:S?parseInt(S):void 0,equipmentTypeId:void 0,equipmentSubtypeId:void 0}))},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment group"})}),i.jsx(Be,{children:l==null?void 0:l.map(S=>i.jsx(J,{value:S.id.toString(),children:S.name},S.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Equipment Type"}),i.jsxs(Ue,{value:((C=t.equipmentTypeId)==null?void 0:C.toString())||"",onValueChange:S=>{n(k=>({...k,equipmentTypeId:S?parseInt(S):void 0,equipmentSubtypeId:void 0}))},disabled:!t.equipmentGroupId,children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment type"})}),i.jsx(Be,{children:d==null?void 0:d.map(S=>i.jsx(J,{value:S.id.toString(),children:S.name},S.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Risk Ranking"}),i.jsxs(Ue,{value:((E=t.riskRankingId)==null?void 0:E.toString())||"",onValueChange:S=>{n(k=>({...k,riskRankingId:S?parseInt(S):void 0}))},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select risk ranking"})}),i.jsx(Be,{children:f==null?void 0:f.map(S=>i.jsx(J,{value:S.id.toString(),children:S.label},S.id))})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ve,{value:r,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'vibration', 'overheating')",onKeyPress:S=>S.key==="Enter"&&h()}),i.jsx(K,{onClick:h,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((S,k)=>i.jsxs(ne,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(S),children:[S," ✕"]},k))})]}),i.jsx(K,{onClick:y,disabled:x.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-analysis-button",children:x.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Run Evidence Analysis"]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Analysis Results"}),i.jsx(ge,{children:"Real-time evidence analysis with failure mode identification"})]}),i.jsx(G,{children:x.isPending?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(Qn,{className:"h-8 w-8 animate-spin text-blue-500"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"Processing Analysis..."}),i.jsx(Lr,{value:75,className:"w-full"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Applying taxonomy filters and evidence correlation..."})]})]}):a?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsxs("div",{className:`text-3xl font-bold ${b(a.confidence)}`,children:[a.confidence,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Confidence"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-green-600",children:a.primaryFailureModes.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Primary Modes"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-gray-500",children:a.eliminatedFailureModes.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Eliminated"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-orange-600",children:a.evidenceGaps.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),a.taxonomyContext&&i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-sm font-semibold mb-2",children:"Taxonomy Context:"}),i.jsxs("div",{className:"text-sm space-y-1",children:[a.taxonomyContext.equipmentGroup&&i.jsxs("div",{children:["Group: ",a.taxonomyContext.equipmentGroup]}),a.taxonomyContext.equipmentType&&i.jsxs("div",{children:["Type: ",a.taxonomyContext.equipmentType]}),a.taxonomyContext.riskRanking&&i.jsxs("div",{children:["Risk: ",a.taxonomyContext.riskRanking]})]})]})]}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:'Configure analysis parameters and click "Run Evidence Analysis" to start'})]})})]})]}),a&&i.jsxs(vr,{defaultValue:"failure-modes",className:"space-y-4",children:[i.jsxs(er,{className:"grid w-full grid-cols-4",children:[i.jsxs(Oe,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),i.jsxs(Oe,{value:"eliminated",children:["Eliminated (",a.eliminatedFailureModes.length,")"]}),i.jsxs(Oe,{value:"actions",children:["Actions (",a.recommendedActions.length,")"]}),i.jsxs(Oe,{value:"evidence-gaps",children:["Evidence Gaps (",a.evidenceGaps.length,")"]})]}),i.jsx(ke,{value:"failure-modes",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Primary Failure Modes"}),i.jsx(ge,{children:"High-confidence failure modes identified by the analysis engine"})]}),i.jsx(G,{children:a.primaryFailureModes.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(vt,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("p",{children:"No primary failure modes identified. Consider expanding the analysis criteria."})]}):i.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((S,k)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold",children:S.componentFailureMode}),i.jsxs(ne,{variant:S.confidence>=75?"default":"secondary",children:[S.confidence,"% confidence"]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",S.failureCode]}),i.jsx("div",{className:"text-sm mb-3",children:S.reasoning}),S.requiredEvidence.length>0&&i.jsxs("div",{className:"text-xs",children:[i.jsx("strong",{children:"Required Evidence:"}),i.jsx("ul",{className:"list-disc list-inside mt-1",children:S.requiredEvidence.map((I,P)=>i.jsx("li",{children:I},P))})]})]},k))})})]})}),i.jsx(ke,{value:"eliminated",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Eliminated Failure Modes"}),i.jsx(ge,{children:"Failure modes ruled out by the analysis engine"})]}),i.jsx(G,{children:a.eliminatedFailureModes.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(wt,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("p",{children:"No failure modes eliminated. All possibilities remain under consideration."})]}):i.jsx("div",{className:"space-y-3",children:a.eliminatedFailureModes.map((S,k)=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium text-gray-700",children:S.componentFailureMode}),i.jsxs(ne,{variant:"outline",children:[S.confidence,"% confidence"]})]}),i.jsx("div",{className:"text-sm text-gray-600",children:S.reasoning})]},k))})})]})}),i.jsx(ke,{value:"actions",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Recommended Actions"}),i.jsx(ge,{children:"AI-generated action plan based on analysis results"})]}),i.jsx(G,{children:a.recommendedActions.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx($t,{className:"h-12 w-12 mx-auto mb-4"}),i.jsx("p",{children:"No specific actions recommended at this time."})]}):i.jsx("div",{className:"space-y-4",children:a.recommendedActions.map((S,k)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs(ne,{variant:g(S.priority),children:[S.priority," Priority"]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(zn,{className:"h-4 w-4 mr-1"}),S.timeframe]})]}),i.jsx("div",{className:"font-medium mb-2",children:S.action}),S.cost&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[i.jsx(ME,{className:"h-4 w-4 mr-1"}),S.cost]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Resources:"})," ",S.resources.join(", ")]})]},k))})})]})}),i.jsx(ke,{value:"evidence-gaps",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Evidence Gaps"}),i.jsx(ge,{children:"Missing evidence that could improve analysis confidence"})]}),i.jsx(G,{children:a.evidenceGaps.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(wt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),i.jsx("p",{children:"No significant evidence gaps identified. Analysis is well-supported."})]}):i.jsx("div",{className:"space-y-4",children:a.evidenceGaps.map((S,k)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{variant:g(S.priority),children:S.priority}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(zn,{className:"h-4 w-4 mr-1"}),S.collectionTime]})]}),i.jsx("div",{className:"font-medium mb-2",children:S.evidenceType}),i.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:S.description}),S.cost&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(ME,{className:"h-4 w-4 mr-1"}),"Estimated cost: ",S.cost]})]},k))})})]})})]})]})}var JS="Switch",[cSe,GSe]=xr(JS),[dSe,uSe]=cSe(JS),k5=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[p,x]=j.useState(null),h=pt(t,v=>x(v)),m=j.useRef(!1),y=p?u||!!p.closest("form"):!0,[g=!1,b]=cs({prop:s,defaultProp:a,onChange:d});return i.jsxs(dSe,{scope:n,checked:g,disabled:l,children:[i.jsx(Xe.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":P5(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:h,onClick:Le(e.onClick,v=>{b(N=>!N),y&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})}),y&&i.jsx(fSe,{control:p,bubbles:!m.current,name:r,value:c,checked:g,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});k5.displayName=JS;var A5="SwitchThumb",_5=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=uSe(A5,n);return i.jsx(Xe.span,{"data-state":P5(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_5.displayName=A5;var fSe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=j.useRef(null),o=Vg(n),l=qv(t);return j.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(p)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P5(e){return e?"checked":"unchecked"}var T5=k5,pSe=_5;const jr=j.forwardRef(({className:e,...t},n)=>i.jsx(T5,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(pSe,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jr.displayName=T5.displayName;function QP(){var N,w,C,E,S,k,I,P;const{toast:e}=Ot();Ar();const[t,n]=j.useState({incidentId:`RCA_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0}),[r,s]=j.useState(""),[a,o]=j.useState(null),{data:l,isLoading:c}=Ae({queryKey:["/api/taxonomy/groups"],queryFn:async()=>{const{api:A}=await Qe(async()=>{const{api:O}=await import("./api-DV25CDRD.js");return{api:O}},[]);return(await A("/taxonomy/groups")).json()}}),{data:d,isLoading:u}=Ae({queryKey:["/api/taxonomy/types",t.equipmentGroupId],queryFn:async()=>{if(!t.equipmentGroupId)return[];const{api:A}=await Qe(async()=>{const{api:O}=await import("./api-DV25CDRD.js");return{api:O}},[]);return(await A(`/taxonomy/types?groupId=${t.equipmentGroupId}`)).json()},enabled:!!t.equipmentGroupId}),{data:f,isLoading:p}=Ae({queryKey:["/api/taxonomy/risks"],queryFn:async()=>{const{api:A}=await Qe(async()=>{const{api:O}=await import("./api-DV25CDRD.js");return{api:O}},[]);return(await A("/taxonomy/risks")).json()}}),x=lt({mutationFn:async A=>bt("/api/rca-analysis",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:A=>{A.success?(o(A.rca),e({title:"RCA Analysis Complete",description:`Generated ${A.rca.rootCauseHypotheses.length} root cause hypotheses with ${A.rca.qualityMetrics.overallScore}% quality score`})):e({title:"RCA Analysis Failed",description:A.message||"Unknown error occurred",variant:"destructive"})},onError:A=>{e({title:"RCA Analysis Error",description:A.message||"Failed to perform RCA analysis",variant:"destructive"})}}),h=()=>{r.trim()&&!t.symptoms.includes(r.trim())&&(n(A=>({...A,symptoms:[...A.symptoms,r.trim()]})),s(""))},m=A=>{n(_=>({..._,symptoms:_.symptoms.filter(O=>O!==A)}))},y=()=>{if(!t.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}x.mutate(t)},g=A=>{switch(A){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},b=A=>A>=80?"text-green-600":A>=60?"text-yellow-600":"text-red-600",v=A=>{switch(A){case"pattern_recognition":return i.jsx(mc,{className:"h-4 w-4"});case"historical_correlation":return i.jsx(Ya,{className:"h-4 w-4"});case"risk_assessment":return i.jsx(Qa,{className:"h-4 w-4"});case"failure_progression":return i.jsx(ki,{className:"h-4 w-4"});default:return i.jsx(_t,{className:"h-4 w-4"})}};return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((N=Ji.find(A=>A.id==="ai"))==null?void 0:N.label)||"AI-Powered RCA"}),i.jsx("p",{className:"text-muted-foreground",children:"Step 7: Comprehensive root cause analysis with AI insights and preventive recommendations"})]}),i.jsxs(ne,{variant:"outline",className:"text-purple-600",children:[i.jsx(_t,{className:"h-4 w-4 mr-2"}),((w=Ji.find(A=>A.id==="ai"))==null?void 0:w.label)||"AI-Powered RCA"," Engine"]})]}),i.jsx(W,{className:"border-l-4 border-l-purple-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($i,{className:"h-5 w-5 text-purple-500"}),i.jsxs("span",{children:["Step 7: ",((C=Ji.find(A=>A.id==="ai"))==null?void 0:C.label)||"AI-Powered RCA"," - Complete Investigation Suite"]})]}),i.jsx(ge,{children:"Advanced analysis combining evidence analysis, AI insights, root cause hypotheses, and comprehensive preventive action recommendations with quality validation."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"RCA Configuration"}),i.jsx(ge,{children:"Configure comprehensive root cause analysis parameters"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentId",children:"Incident ID"}),i.jsx(ve,{id:"incidentId",value:t.incidentId,onChange:A=>n(_=>({..._,incidentId:A.target.value})),placeholder:"Enter incident ID"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentDescription",children:"Incident Description *"}),i.jsx(He,{id:"incidentDescription",value:t.incidentDescription,onChange:A=>n(_=>({..._,incidentDescription:A.target.value})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:4})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Equipment Classification"}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Equipment Group"}),i.jsxs(Ue,{value:((E=t.equipmentGroupId)==null?void 0:E.toString())||"",onValueChange:A=>{n(_=>({..._,equipmentGroupId:A?parseInt(A):void 0,equipmentTypeId:void 0}))},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment group"})}),i.jsx(Be,{children:l==null?void 0:l.map(A=>i.jsx(J,{value:A.id.toString(),children:A.name},A.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Equipment Type"}),i.jsxs(Ue,{value:((S=t.equipmentTypeId)==null?void 0:S.toString())||"",onValueChange:A=>{n(_=>({..._,equipmentTypeId:A?parseInt(A):void 0}))},disabled:!t.equipmentGroupId,children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select equipment type"})}),i.jsx(Be,{children:d==null?void 0:d.map(A=>i.jsx(J,{value:A.id.toString(),children:A.name},A.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Risk Ranking"}),i.jsxs(Ue,{value:((k=t.riskRankingId)==null?void 0:k.toString())||"",onValueChange:A=>{n(_=>({..._,riskRankingId:A?parseInt(A):void 0}))},children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Select risk ranking"})}),i.jsx(Be,{children:f==null?void 0:f.map(A=>i.jsx(J,{value:A.id.toString(),children:A.label},A.id))})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Analysis Parameters"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Analysis Depth"}),i.jsxs(Ue,{value:t.analysisDepth,onValueChange:A=>n(_=>({..._,analysisDepth:A})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"basic",children:"Basic"}),i.jsx(J,{value:"comprehensive",children:"Comprehensive"}),i.jsx(J,{value:"expert",children:"Expert"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Priority Level"}),i.jsxs(Ue,{value:t.priorityLevel,onValueChange:A=>n(_=>({..._,priorityLevel:A})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"low",children:"Low"}),i.jsx(J,{value:"medium",children:"Medium"}),i.jsx(J,{value:"high",children:"High"}),i.jsx(J,{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Include Recommendations"}),i.jsx(jr,{checked:t.includeRecommendations,onCheckedChange:A=>n(_=>({..._,includeRecommendations:A}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Generate Report"}),i.jsx(jr,{checked:t.generateReport,onCheckedChange:A=>n(_=>({..._,generateReport:A}))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Observed Symptoms"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ve,{value:r,onChange:A=>s(A.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:A=>A.key==="Enter"&&h()}),i.jsx(K,{onClick:h,variant:"outline",children:"Add"})]}),t.symptoms.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.symptoms.map((A,_)=>i.jsxs(ne,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>m(A),children:[A," ✕"]},_))})]}),i.jsx(K,{onClick:y,disabled:x.isPending||!t.incidentDescription.trim(),className:"w-full","data-testid":"run-rca-analysis-button",children:x.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"h-4 w-4 mr-2 animate-spin"}),"Performing RCA Analysis..."]}):i.jsxs(i.Fragment,{children:[i.jsx(_t,{className:"h-4 w-4 mr-2"}),"Run ",((I=Ji.find(A=>A.id==="ai"))==null?void 0:I.label)||"AI-Powered RCA"," Analysis"]})})]})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"RCA Results Overview"}),i.jsx(ge,{children:"Comprehensive analysis results with quality metrics"})]}),i.jsx(G,{children:x.isPending?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(_t,{className:"h-8 w-8 animate-pulse text-purple-500"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"Processing Comprehensive RCA..."}),i.jsx(Lr,{value:85,className:"w-full"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Generating AI insights and root cause hypotheses..."})]})]}):a?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[i.jsx("div",{className:`text-2xl font-bold ${b(a.qualityMetrics.overallScore)}`,children:a.qualityMetrics.overallScore}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Quality"})]}),i.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[i.jsxs("div",{className:`text-2xl font-bold ${b(a.confidence)}`,children:[a.confidence,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Analysis Confidence"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.rootCauseHypotheses.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Hypotheses"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:a.aiInsights.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"AI Insights"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:a.preventiveActions.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Actions"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:a.evidenceGaps.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Evidence Gaps"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-semibold",children:"Quality Metrics:"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Data Completeness:"}),i.jsxs("span",{className:b(a.qualityMetrics.dataCompleteness),children:[a.qualityMetrics.dataCompleteness,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Evidence Quality:"}),i.jsxs("span",{className:b(a.qualityMetrics.evidenceQuality),children:[a.qualityMetrics.evidenceQuality,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Recommendation Reliability:"}),i.jsxs("span",{className:b(a.qualityMetrics.recommendationReliability),children:[a.qualityMetrics.recommendationReliability,"%"]})]})]})]}),a.validationStatus.validationRequired&&i.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Hr,{className:"h-4 w-4 text-yellow-600"}),i.jsx("span",{className:"text-sm font-semibold text-yellow-800",children:"Validation Required"})]}),i.jsxs("div",{className:"text-sm text-yellow-700",children:["Estimated time: ",a.validationStatus.estimatedValidationTime," | Cost: ",a.validationStatus.validationCost]})]})]}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsxs("p",{children:['Configure RCA parameters and click "Run ',((P=Ji.find(A=>A.id==="ai"))==null?void 0:P.label)||"AI-Powered RCA",' Analysis" to start']})]})})]})]}),a&&i.jsxs(vr,{defaultValue:"hypotheses",className:"space-y-4",children:[i.jsxs(er,{className:"grid w-full grid-cols-6",children:[i.jsxs(Oe,{value:"hypotheses",children:["Root Causes (",a.rootCauseHypotheses.length,")"]}),i.jsxs(Oe,{value:"insights",children:["AI Insights (",a.aiInsights.length,")"]}),i.jsxs(Oe,{value:"actions",children:["Preventive Actions (",a.preventiveActions.length,")"]}),i.jsxs(Oe,{value:"failure-modes",children:["Failure Modes (",a.primaryFailureModes.length,")"]}),i.jsx(Oe,{value:"report",children:"Executive Report"}),i.jsx(Oe,{value:"validation",children:"Validation"})]}),i.jsx(ke,{value:"hypotheses",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Root Cause Hypotheses"}),i.jsx(ge,{children:"AI-generated root cause hypotheses ranked by probability"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:a.rootCauseHypotheses.map((A,_)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:g(A.priority),children:A.priority}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.probability,"% probability"]})]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(zn,{className:"h-4 w-4 mr-1"}),A.timeToConfirm]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium",children:A.hypothesis}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingFailureModes.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Required Validation:"})," ",A.requiredValidation.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Estimated Cost:"})," ",A.cost]})]})]})]},_))})})]})}),i.jsx(ke,{value:"insights",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"AI Analysis Insights"}),i.jsx(ge,{children:"Advanced AI insights from pattern recognition and historical analysis"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:a.aiInsights.map((A,_)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[v(A.category),i.jsx("span",{className:"font-semibold capitalize",children:A.category.replace("_"," ")})]}),i.jsxs(ne,{variant:"secondary",children:[A.confidence,"% confidence"]})]}),i.jsx("p",{className:"mb-3",children:A.insight}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Supporting Evidence:"})," ",A.supportingEvidence.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Data Source:"})," ",A.dataSource]})]})]},_))})})]})}),i.jsx(ke,{value:"actions",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Preventive Actions"}),i.jsx(ge,{children:"Comprehensive preventive action plan with implementation details"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:a.preventiveActions.map((A,_)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs(ne,{variant:g(A.priority),children:[A.priority," Priority"]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.effectiveness,"% effectiveness"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium",children:A.action}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Implementation Time:"})," ",A.implementationTime]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Cost:"})," ",A.cost]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Target Modes:"})," ",A.targetFailureModes.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Dependencies:"})," ",A.dependencies.join(", ")]})]})]})]},_))})})]})}),i.jsx(ke,{value:"failure-modes",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Failure Mode Analysis"}),i.jsx(ge,{children:"Detailed failure mode analysis results"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:a.primaryFailureModes.map((A,_)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold",children:A.componentFailureMode}),i.jsxs(ne,{variant:A.confidence>=75?"default":"secondary",children:[A.confidence,"% confidence"]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Failure Code: ",A.failureCode]}),i.jsx("div",{className:"text-sm mb-3",children:A.reasoning}),A.requiredEvidence&&A.requiredEvidence.length>0&&i.jsxs("div",{className:"text-xs",children:[i.jsx("strong",{children:"Required Evidence:"}),i.jsx("ul",{className:"list-disc list-inside mt-1",children:A.requiredEvidence.map((O,D)=>i.jsx("li",{children:O},D))})]})]},_))})})]})}),i.jsx(ke,{value:"report",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Executive Summary Report"}),i.jsx(ge,{children:"Comprehensive analysis summary for management review"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Executive Summary"}),i.jsx("p",{className:"text-sm",children:a.reportSummary.executiveSummary})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Key Findings"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.keyFindings.map((A,_)=>i.jsx("li",{children:A},_))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Immediate Actions"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.immediateActions.map((A,_)=>i.jsx("li",{children:A},_))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Long-Term Recommendations"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.longTermRecommendations.map((A,_)=>i.jsx("li",{children:A},_))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Risk Mitigation"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.reportSummary.riskMitigation.map((A,_)=>i.jsx("li",{children:A},_))})]})]})]})}),i.jsx(ke,{value:"validation",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Validation Requirements"}),i.jsx(ge,{children:"Analysis validation status and required actions"})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center space-x-2",children:a.validationStatus.validationRequired?i.jsxs(i.Fragment,{children:[i.jsx(Hr,{className:"h-5 w-5 text-yellow-500"}),i.jsx("span",{className:"font-semibold text-yellow-700",children:"Validation Required"})]}):i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{className:"font-semibold text-green-700",children:"Analysis Validated"})]})}),a.validationStatus.validationRequired&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Estimated Time:"})," ",a.validationStatus.estimatedValidationTime]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Estimated Cost:"})," ",a.validationStatus.validationCost]})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Validation Steps"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:a.validationStatus.validationSteps.map((A,_)=>i.jsx("li",{children:A},_))})]}),a.validationStatus.criticalGaps.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Critical Gaps"}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-red-600",children:a.validationStatus.criticalGaps.map((A,_)=>i.jsx("li",{children:A},_))})]})]})]})]})})]})]})}function XP(){var C,E;const{toast:e}=Ot();Ar();const[t,n]=j.useState({workflowId:`WF_${Date.now()}`,initiatorUserId:"current_user",incidentData:{incidentId:`INC_${Date.now()}`,symptoms:[],incidentDescription:"",analysisDepth:"comprehensive",priorityLevel:"high",timeConstraint:"standard",includeRecommendations:!0,generateReport:!0},workflowType:"standard",approvalRequired:!0,stakeholders:[],notifications:{emailNotifications:!0,smsAlerts:!1,dashboardUpdates:!0,stakeholderUpdates:!0,escalationThreshold:24},scheduleConfig:{startImmediately:!0,milestoneReminders:!0,businessHoursOnly:!1},documentationLevel:"comprehensive"}),[r,s]=j.useState(""),[a,o]=j.useState(""),[l,c]=j.useState(null),d=lt({mutationFn:async S=>bt("/api/workflows",{method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success?(c(S.workflow),e({title:"Workflow Initiated",description:`Workflow ${S.workflow.workflowId} started successfully`})):e({title:"Workflow Initiation Failed",description:S.message||"Unknown error occurred",variant:"destructive"})},onError:S=>{e({title:"Workflow Error",description:S.message||"Failed to initiate workflow",variant:"destructive"})}}),u=lt({mutationFn:async({workflowId:S,stageId:k})=>bt(`/api/workflows/${S}/execute/${k}`,{method:"POST",headers:{"Content-Type":"application/json"}}),onSuccess:S=>{S.success&&(c(S.workflow),e({title:"Stage Executed",description:"Stage completed successfully"}))},onError:S=>{e({title:"Stage Execution Error",description:S.message||"Failed to execute stage",variant:"destructive"})}}),{data:f,refetch:p}=Ae({queryKey:["/api/workflows",l==null?void 0:l.workflowId],queryFn:async()=>{if(!l)return null;const{api:S}=await Qe(async()=>{const{api:I}=await import("./api-DV25CDRD.js");return{api:I}},[]);return(await S(`/workflows/${l.workflowId}`)).json()},enabled:!!l,refetchInterval:5e3});j.useEffect(()=>{f!=null&&f.success&&f.workflow&&c(f.workflow)},[f]);const x=()=>{r.trim()&&!t.incidentData.symptoms.includes(r.trim())&&(n(S=>({...S,incidentData:{...S.incidentData,symptoms:[...S.incidentData.symptoms,r.trim()]}})),s(""))},h=S=>{n(k=>({...k,incidentData:{...k.incidentData,symptoms:k.incidentData.symptoms.filter(I=>I!==S)}}))},m=()=>{a.trim()&&!t.stakeholders.includes(a.trim())&&(n(S=>({...S,stakeholders:[...S.stakeholders,a.trim()]})),o(""))},y=S=>{n(k=>({...k,stakeholders:k.stakeholders.filter(I=>I!==S)}))},g=()=>{if(!t.incidentData.incidentDescription.trim()){e({title:"Missing Information",description:"Please provide an incident description",variant:"destructive"});return}d.mutate(t)},b=S=>{l&&u.mutate({workflowId:l.workflowId,stageId:S})},v=S=>{switch(S){case"active":return"text-blue-600";case"completed":return"text-green-600";case"failed":return"text-red-600";case"pending":return"text-yellow-600";case"cancelled":return"text-gray-600";default:return"text-gray-600"}},N=S=>{switch(S){case"Critical":return"destructive";case"High":return"default";case"Medium":return"secondary";case"Low":return"outline";default:return"outline"}},w=S=>{switch(S){case"initiation":return i.jsx(Vb,{className:"h-4 w-4"});case"analysis":return i.jsx(Ya,{className:"h-4 w-4"});case"review":return i.jsx(xf,{className:"h-4 w-4"});case"approval":return i.jsx(wt,{className:"h-4 w-4"});case"implementation":return i.jsx(Qn,{className:"h-4 w-4"});case"closure":return i.jsx(xU,{className:"h-4 w-4"});default:return i.jsx(Wc,{className:"h-4 w-4"})}};return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:((C=Ji.find(S=>S.id==="integrations"))==null?void 0:C.label)||"Workflow Integration"}),i.jsx("p",{className:"text-muted-foreground",children:"Step 8: Complete workflow management with automated process orchestration and progress tracking"})]}),i.jsxs(ne,{variant:"outline",className:"text-indigo-600",children:[i.jsx(FE,{className:"h-4 w-4 mr-2"}),"Workflow Engine v2.0"]})]}),i.jsx(W,{className:"border-l-4 border-l-indigo-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($i,{className:"h-5 w-5 text-indigo-500"}),i.jsxs("span",{children:["Step 8: ",((E=Ji.find(S=>S.id==="integrations"))==null?void 0:E.label)||"Workflow Integration"," - Complete Process Automation Suite"]})]}),i.jsx(ge,{children:"Advanced workflow management integrating RCA analysis with automated process orchestration, stakeholder management, approval workflows, and comprehensive documentation generation."})]})}),l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[w(l.status.phase),i.jsxs("span",{children:["Workflow: ",l.workflowId]})]}),i.jsx(ne,{variant:"outline",className:v(l.status.state),children:l.status.state.toUpperCase()})]}),i.jsxs(ge,{children:["Current Phase: ",l.status.phase," | Processing Time: ",l.status.processingTime," | Completion: ",l.completionPercentage,"%"]})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.completionPercentage,"%"]})]}),i.jsx(Lr,{value:l.completionPercentage,className:"w-full"}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.nextActions.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Pending Actions"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-green-600",children:l.generatedDocuments.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Documents"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.approvals.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Approvals"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-orange-600",children:l.notifications.length}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Notifications"})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Estimated Completion"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]}),i.jsxs(K,{variant:"outline",size:"sm",onClick:()=>c(null),children:[i.jsx(Ys,{className:"h-4 w-4 mr-1"}),"Close Workflow"]})]})]})})]}),i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{children:["Current Stage: ",l.currentStage.stageName]}),i.jsx(ge,{children:l.currentStage.description})]}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ne,{variant:l.currentStage.status==="active"?"default":"secondary",children:l.currentStage.status}),l.currentStage.status==="pending"&&i.jsxs(K,{onClick:()=>b(l.currentStage.stageId),disabled:u.isPending,size:"sm",children:[u.isPending?i.jsx(Qn,{className:"h-4 w-4 mr-1 animate-spin"}):i.jsx(Vb,{className:"h-4 w-4 mr-1"}),"Execute Stage"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"Requirements:"}),i.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.requirements.map((S,k)=>i.jsx("li",{children:S},k))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-2",children:"Deliverables:"}),i.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.currentStage.deliverables.map((S,k)=>i.jsx("li",{children:S},k))})]})]})]})]}),i.jsxs(vr,{defaultValue:"actions",className:"space-y-4",children:[i.jsxs(er,{className:"grid w-full grid-cols-6",children:[i.jsxs(Oe,{value:"actions",children:["Actions (",l.nextActions.length,")"]}),i.jsxs(Oe,{value:"approvals",children:["Approvals (",l.approvals.length,")"]}),i.jsxs(Oe,{value:"documents",children:["Documents (",l.generatedDocuments.length,")"]}),i.jsxs(Oe,{value:"notifications",children:["Notifications (",l.notifications.length,")"]}),i.jsx(Oe,{value:"quality",children:"Quality Checks"}),i.jsx(Oe,{value:"timeline",children:"Timeline"})]}),i.jsx(ke,{value:"actions",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Pending Actions"}),i.jsx(ge,{children:"Actions requiring attention or completion"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[l.nextActions.map((S,k)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{variant:N(S.priority),children:S.priority}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx($U,{className:"h-3 w-3 mr-1"}),"Due: ",new Date(S.dueDate).toLocaleDateString()]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:S.description}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Assigned to:"})," ",S.assignedTo]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Type:"})," ",S.actionType]}),S.dependencies.length>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Dependencies:"})," ",S.dependencies.join(", ")]})]})]})]},k)),l.nextActions.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(wt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No pending actions at this time"})]})]})})]})}),i.jsx(ke,{value:"approvals",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Approval Status"}),i.jsx(ge,{children:"Required approvals and their current status"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[l.approvals.map((S,k)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:S.status==="approved"?"default":"secondary",children:S.status.replace("_"," ")}),i.jsx("span",{className:"text-sm font-medium capitalize",children:S.approvalType.replace("_"," ")})]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:S.approver})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Requirements:"})," ",S.requirements.join(", ")]}),S.submittedDate&&i.jsxs("div",{children:[i.jsx("strong",{children:"Submitted:"})," ",new Date(S.submittedDate).toLocaleString()]}),S.comments&&i.jsxs("div",{children:[i.jsx("strong",{children:"Comments:"})," ",S.comments]})]})]},k)),l.approvals.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Qa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No approvals required for this workflow"})]})]})})]})}),i.jsx(ke,{value:"documents",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Generated Documents"}),i.jsx(ge,{children:"Documents created during the workflow process"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[l.generatedDocuments.map((S,k)=>i.jsx("div",{className:"p-3 border rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:S.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:["Type: ",S.documentType.replace("_"," ")," | Format: ",S.format.toUpperCase()]}),i.jsxs("div",{children:["Size: ",S.size," | Generated: ",new Date(S.generatedAt).toLocaleString()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:S.status==="ready"?"default":"secondary",children:S.status}),S.status==="ready"&&i.jsxs(K,{variant:"outline",size:"sm",children:[i.jsx(ur,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})},k)),l.generatedDocuments.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx($t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No documents generated yet"})]})]})})]})}),i.jsx(ke,{value:"notifications",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Notification Log"}),i.jsx(ge,{children:"Communication history and status updates"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[l.notifications.map((S,k)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(RE,{className:"h-3 w-3"}),i.jsx("span",{className:"text-sm font-medium",children:S.subject})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:S.status==="sent"?"default":"secondary",children:S.status}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(S.sentAt).toLocaleTimeString()})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:["To: ",S.recipient," | Type: ",S.type]}),i.jsx("div",{className:"mt-1",children:S.message})]})]},k)),l.notifications.length===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(RE,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No notifications sent yet"})]})]})})]})}),i.jsx(ke,{value:"quality",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Quality Checks"}),i.jsx(ge,{children:"Automated quality validation and compliance checks"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-3",children:l.qualityChecks.map((S,k)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium capitalize",children:S.checkType.replace("_"," ")}),i.jsx(ne,{variant:S.status==="passed"?"default":S.status==="failed"?"destructive":S.status==="warning"?"secondary":"outline",children:S.status})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx("div",{children:S.description}),i.jsxs("div",{children:[i.jsx("strong",{children:"Details:"})," ",S.details]}),S.checkedAt&&i.jsxs("div",{children:[i.jsx("strong",{children:"Checked:"})," ",new Date(S.checkedAt).toLocaleString()]}),S.checkedBy&&i.jsxs("div",{children:[i.jsx("strong",{children:"By:"})," ",S.checkedBy]})]})]},k))})})]})}),i.jsx(ke,{value:"timeline",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Workflow Timeline"}),i.jsx(ge,{children:"Process execution timeline and milestones"})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-muted rounded-lg",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Workflow Initiated"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.status.lastUpdated).toLocaleString()})]})]}),l.currentStage.startTime&&i.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 rounded-lg",children:[i.jsx(Ya,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["Current Stage Started: ",l.currentStage.stageName]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.currentStage.startTime).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center space-x-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx(zn,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Estimated Completion"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.estimatedCompletion).toLocaleString()})]})]})]})})]})})]})]}):i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Workflow Configuration"}),i.jsx(ge,{children:"Configure comprehensive workflow automation parameters"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Workflow Settings"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"workflowId",children:"Workflow ID"}),i.jsx(ve,{id:"workflowId",value:t.workflowId,onChange:S=>n(k=>({...k,workflowId:S.target.value})),placeholder:"Enter workflow ID"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Workflow Type"}),i.jsxs(Ue,{value:t.workflowType,onValueChange:S=>n(k=>({...k,workflowType:S})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"standard",children:"Standard (24h)"}),i.jsx(J,{value:"expedited",children:"Expedited (8h)"}),i.jsx(J,{value:"comprehensive",children:"Comprehensive (72h)"}),i.jsx(J,{value:"emergency",children:"Emergency (4h)"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Documentation Level"}),i.jsxs(Ue,{value:t.documentationLevel,onValueChange:S=>n(k=>({...k,documentationLevel:S})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"basic",children:"Basic"}),i.jsx(J,{value:"detailed",children:"Detailed"}),i.jsx(J,{value:"comprehensive",children:"Comprehensive"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{id:"approvalRequired",checked:t.approvalRequired,onCheckedChange:S=>n(k=>({...k,approvalRequired:S}))}),i.jsx(ae,{htmlFor:"approvalRequired",children:"Approval Required"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Incident Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentId",children:"Incident ID"}),i.jsx(ve,{id:"incidentId",value:t.incidentData.incidentId,onChange:S=>n(k=>({...k,incidentData:{...k.incidentData,incidentId:S.target.value}})),placeholder:"Enter incident ID"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"incidentDescription",children:"Incident Description *"}),i.jsx(He,{id:"incidentDescription",value:t.incidentData.incidentDescription,onChange:S=>n(k=>({...k,incidentData:{...k.incidentData,incidentDescription:S.target.value}})),placeholder:"Provide detailed incident description including symptoms, timeline, and initial observations...",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Analysis Depth"}),i.jsxs(Ue,{value:t.incidentData.analysisDepth,onValueChange:S=>n(k=>({...k,incidentData:{...k.incidentData,analysisDepth:S}})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"basic",children:"Basic"}),i.jsx(J,{value:"comprehensive",children:"Comprehensive"}),i.jsx(J,{value:"expert",children:"Expert"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Priority Level"}),i.jsxs(Ue,{value:t.incidentData.priorityLevel,onValueChange:S=>n(k=>({...k,incidentData:{...k.incidentData,priorityLevel:S}})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"low",children:"Low"}),i.jsx(J,{value:"medium",children:"Medium"}),i.jsx(J,{value:"high",children:"High"}),i.jsx(J,{value:"critical",children:"Critical"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Time Constraint"}),i.jsxs(Ue,{value:t.incidentData.timeConstraint,onValueChange:S=>n(k=>({...k,incidentData:{...k.incidentData,timeConstraint:S}})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"immediate",children:"Immediate"}),i.jsx(J,{value:"standard",children:"Standard"}),i.jsx(J,{value:"thorough",children:"Thorough"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ae,{children:"Observed Symptoms"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ve,{value:r,onChange:S=>s(S.target.value),placeholder:"Enter symptom (e.g., 'high vibration', 'bearing noise')",onKeyPress:S=>S.key==="Enter"&&x()}),i.jsx(K,{onClick:x,variant:"outline",children:"Add"})]}),t.incidentData.symptoms.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.incidentData.symptoms.map((S,k)=>i.jsxs(ne,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>h(S),children:[S," ✕"]},k))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Stakeholders & Notifications"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ve,{value:a,onChange:S=>o(S.target.value),placeholder:"Add stakeholder (e.g., 'Engineering Manager', 'Safety Officer')",onKeyPress:S=>S.key==="Enter"&&m()}),i.jsx(K,{onClick:m,variant:"outline",children:"Add"})]}),t.stakeholders.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:t.stakeholders.map((S,k)=>i.jsxs(ne,{variant:"outline",className:"cursor-pointer hover:bg-red-100",onClick:()=>y(S),children:[i.jsx(t1,{className:"h-3 w-3 mr-1"}),S," ✕"]},k))}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Email Notifications"}),i.jsx(jr,{checked:t.notifications.emailNotifications,onCheckedChange:S=>n(k=>({...k,notifications:{...k.notifications,emailNotifications:S}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Dashboard Updates"}),i.jsx(jr,{checked:t.notifications.dashboardUpdates,onCheckedChange:S=>n(k=>({...k,notifications:{...k.notifications,dashboardUpdates:S}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Stakeholder Updates"}),i.jsx(jr,{checked:t.notifications.stakeholderUpdates,onCheckedChange:S=>n(k=>({...k,notifications:{...k.notifications,stakeholderUpdates:S}}))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ae,{children:"Milestone Reminders"}),i.jsx(jr,{checked:t.scheduleConfig.milestoneReminders,onCheckedChange:S=>n(k=>({...k,scheduleConfig:{...k.scheduleConfig,milestoneReminders:S}}))})]})]})]})]}),i.jsx(K,{onClick:g,disabled:d.isPending||!t.incidentData.incidentDescription.trim(),className:"w-full",size:"lg","data-testid":"initiate-workflow-button",children:d.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"h-4 w-4 mr-2 animate-spin"}),"Initiating Workflow..."]}):i.jsxs(i.Fragment,{children:[i.jsx(FE,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})]})]})]})}function mSe(){var S,k,I,P,A,_,O,D,M,V,q;const{toast:e}=Ot();Ar();const[t,n]=j.useState({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"}),[r,s]=j.useState(null),[a,o]=j.useState([]),{data:l,isLoading:c,refetch:d}=Ae({queryKey:["/api/data-sources"],queryFn:async()=>{const{api:R}=await Qe(async()=>{const{api:Y}=await import("./api-DV25CDRD.js");return{api:Y}},[]);return(await R("/data-sources")).json()}}),{data:u,isLoading:f}=Ae({queryKey:["/api/integrations"],queryFn:async()=>{const{api:R}=await Qe(async()=>{const{api:Y}=await import("./api-DV25CDRD.js");return{api:Y}},[]);return(await R("/integrations")).json()}}),p=lt({mutationFn:async R=>bt("/api/data-sources",{method:"POST",body:JSON.stringify(R),headers:{"Content-Type":"application/json"}}),onSuccess:R=>{R!=null&&R.success?(e({title:"Data Source Registered",description:(R==null?void 0:R.message)||"Data source registered successfully"}),d(),n({sourceId:`DS_${Date.now()}`,sourceName:"",sourceType:"api",connectionConfig:{timeout:3e4,retryAttempts:3},dataMapping:{sourceFields:[],transformationRules:[],validationRules:[],targetSchema:"incidents"},syncSchedule:{frequency:"manual",isEnabled:!1},isActive:!1,syncStatus:"idle"})):e({title:"Registration Failed",description:(R==null?void 0:R.message)||"Unknown error occurred",variant:"destructive"})},onError:R=>{e({title:"Registration Error",description:R.message||"Failed to register data source",variant:"destructive"})}}),x=lt({mutationFn:async({sourceId:R,options:B})=>bt(`/api/data-sources/${R}/sync`,{method:"POST",body:JSON.stringify(B||{}),headers:{"Content-Type":"application/json"}}),onSuccess:R=>{var B;R!=null&&R.success&&(e({title:"Sync Completed",description:((B=R==null?void 0:R.syncResult)==null?void 0:B.summary)||"Sync completed successfully"}),d(),r&&h(r.sourceId))},onError:R=>{e({title:"Sync Failed",description:R.message||"Failed to execute sync",variant:"destructive"})}}),h=async R=>{try{const{api:B}=await Qe(async()=>{const{api:re}=await import("./api-DV25CDRD.js");return{api:re}},[]),$=await(await B(`/data-sources/${R}/history`)).json();$!=null&&$.success&&o(($==null?void 0:$.syncHistory)||[])}catch(B){console.error("Failed to fetch sync history:",B)}},m=()=>{var R,B,Y;if(!((R=t.sourceName)!=null&&R.trim())){e({title:"Missing Information",description:"Please provide a data source name",variant:"destructive"});return}if(!((Y=(B=t.connectionConfig)==null?void 0:B.endpoint)!=null&&Y.trim())&&t.sourceType!=="file_system"){e({title:"Missing Information",description:"Please provide connection endpoint",variant:"destructive"});return}p.mutate(t)},y=R=>{x.mutate({sourceId:R})},g=()=>{t.dataMapping&&n(R=>({...R,dataMapping:{...R.dataMapping,sourceFields:[...R.dataMapping.sourceFields,{sourceField:"",targetField:"",dataType:"string",isRequired:!1}]}}))},b=R=>{t.dataMapping&&n(B=>({...B,dataMapping:{...B.dataMapping,sourceFields:B.dataMapping.sourceFields.filter((Y,$)=>$!==R)}}))},v=(R,B)=>{t.dataMapping&&n(Y=>({...Y,dataMapping:{...Y.dataMapping,sourceFields:Y.dataMapping.sourceFields.map(($,re)=>re===R?{...$,...B}:$)}}))},N=R=>{switch(R){case"active":case"completed":case"success":return"text-green-600";case"syncing":return"text-blue-600";case"error":case"failed":return"text-red-600";case"idle":case"inactive":return"text-gray-600";default:return"text-gray-600"}},w=R=>{switch(R){case"cmms":return i.jsx(Qn,{className:"h-4 w-4"});case"historian":return i.jsx(mc,{className:"h-4 w-4"});case"scada":return i.jsx(Ya,{className:"h-4 w-4"});case"api":return i.jsx(AU,{className:"h-4 w-4"});case"database":return i.jsx(Os,{className:"h-4 w-4"});case"file_system":return i.jsx(SU,{className:"h-4 w-4"});case"sensor_network":return i.jsx(DU,{className:"h-4 w-4"});default:return i.jsx(DE,{className:"h-4 w-4"})}},C=(l==null?void 0:l.dataSources)||[],E=(u==null?void 0:u.integrations)||[];return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Data Integration & External Connectivity"}),i.jsx("p",{className:"text-muted-foreground",children:"Step 9: Connect external systems and automate data synchronization for comprehensive RCA analysis"})]}),i.jsxs(ne,{variant:"outline",className:"text-cyan-600",children:[i.jsx(jU,{className:"h-4 w-4 mr-2"}),"Integration Pipeline v1.0"]})]}),i.jsx(W,{className:"border-l-4 border-l-cyan-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($i,{className:"h-5 w-5 text-cyan-500"}),i.jsx("span",{children:"Step 9: Data Integration - External System Connectivity Suite"})]}),i.jsx(ge,{children:"Advanced data integration pipeline connecting CMMS, process historians, SCADA systems, and external APIs with automated synchronization, transformation, and validation capabilities."})]})}),i.jsxs(vr,{defaultValue:"sources",className:"space-y-4",children:[i.jsxs(er,{className:"grid w-full grid-cols-5",children:[i.jsxs(Oe,{value:"sources",children:["Data Sources (",C.length,")"]}),i.jsx(Oe,{value:"new-source",children:"New Source"}),i.jsxs(Oe,{value:"integrations",children:["Available Integrations (",E.length,")"]}),i.jsx(Oe,{value:"sync-history",children:"Sync History"}),i.jsx(Oe,{value:"monitoring",children:"Monitoring"})]}),i.jsx(ke,{value:"sources",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Registered Data Sources"}),i.jsx(ge,{children:"Manage external data sources and their synchronization status"})]}),i.jsx(G,{children:c?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(Fn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):C.length>0?i.jsx("div",{className:"space-y-4",children:C.map((R,B)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[w(R.sourceType),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:R.sourceName}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Type: ",R.sourceType.toUpperCase()," | Target: ",R.dataMapping.targetSchema]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"}),i.jsx(ne,{variant:"outline",className:N(R.syncStatus),children:R.syncStatus})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Endpoint:"})," ",R.connectionConfig.endpoint||"Not configured"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sync Schedule:"})," ",R.syncSchedule.frequency]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Last Sync:"})," ",R.lastSync?new Date(R.lastSync).toLocaleString():"Never"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{size:"sm",variant:"outline",onClick:()=>y(R.sourceId),disabled:x.isPending,children:[x.isPending?i.jsx(Fn,{className:"h-3 w-3 mr-1 animate-spin"}):i.jsx(RU,{className:"h-3 w-3 mr-1"}),"Sync Now"]}),i.jsxs(K,{size:"sm",variant:"outline",onClick:()=>{s(R),h(R.sourceId)},children:[i.jsx(Fs,{className:"h-3 w-3 mr-1"}),"View History"]}),i.jsxs(K,{size:"sm",variant:"outline",children:[i.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]},B))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Os,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No data sources configured yet"}),i.jsx("p",{className:"text-sm",children:"Add a new data source to get started"})]})})]})}),i.jsx(ke,{value:"new-source",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Register New Data Source"}),i.jsx(ge,{children:"Configure a new external data source for integration"})]}),i.jsxs(G,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Basic Configuration"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"sourceName",children:"Source Name *"}),i.jsx(ve,{id:"sourceName",value:t.sourceName||void 0,onChange:R=>n(B=>({...B,sourceName:R.target.value})),placeholder:"Enter descriptive name (e.g., 'Production CMMS')"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Source Type"}),i.jsxs(Ue,{value:t.sourceType,onValueChange:R=>n(B=>({...B,sourceType:R})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"cmms",children:"CMMS (Maintenance Management)"}),i.jsx(J,{value:"historian",children:"Process Historian"}),i.jsx(J,{value:"scada",children:"SCADA System"}),i.jsx(J,{value:"api",children:"REST API"}),i.jsx(J,{value:"database",children:"Database"}),i.jsx(J,{value:"file_system",children:"File System"}),i.jsx(J,{value:"sensor_network",children:"Sensor Network"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"endpoint",children:"Connection Endpoint"}),i.jsx(ve,{id:"endpoint",value:((S=t.connectionConfig)==null?void 0:S.endpoint)||void 0,onChange:R=>n(B=>({...B,connectionConfig:{...B.connectionConfig,endpoint:R.target.value}})),placeholder:"https://api.system.com or server:port"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"targetSchema",children:"Target Schema"}),i.jsxs(Ue,{value:((k=t.dataMapping)==null?void 0:k.targetSchema)||"incidents",onValueChange:R=>n(B=>({...B,dataMapping:{...B.dataMapping,targetSchema:R}})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"incidents",children:"Incident Reports"}),i.jsx(J,{value:"sensor_data",children:"Sensor Data"}),i.jsx(J,{value:"maintenance_records",children:"Maintenance Records"}),i.jsx(J,{value:"asset_data",children:"Asset Information"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"timeout",children:"Timeout (ms)"}),i.jsx(ve,{id:"timeout",type:"number",value:((I=t.connectionConfig)==null?void 0:I.timeout)||3e4,onChange:R=>n(B=>({...B,connectionConfig:{...B.connectionConfig,timeout:parseInt(R.target.value)}}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"retryAttempts",children:"Retry Attempts"}),i.jsx(ve,{id:"retryAttempts",type:"number",value:((P=t.connectionConfig)==null?void 0:P.retryAttempts)||3,onChange:R=>n(B=>({...B,connectionConfig:{...B.connectionConfig,retryAttempts:parseInt(R.target.value)}}))})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[i.jsx(jr,{id:"isActive",checked:t.isActive||!1,onCheckedChange:R=>n(B=>({...B,isActive:R}))}),i.jsx(ae,{htmlFor:"isActive",children:"Active"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Authentication"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"username",children:"Username"}),i.jsx(ve,{id:"username",value:((A=t.connectionConfig)==null?void 0:A.username)||void 0,onChange:R=>n(B=>({...B,connectionConfig:{...B.connectionConfig,username:R.target.value}})),placeholder:"Enter username if required"})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold",children:"Field Mapping"}),i.jsxs(K,{onClick:g,size:"sm",variant:"outline",children:[i.jsx(zr,{className:"h-3 w-3 mr-1"}),"Add Field"]})]}),i.jsxs("div",{className:"space-y-3",children:[(_=t.dataMapping)==null?void 0:_.sourceFields.map((R,B)=>i.jsxs("div",{className:"grid grid-cols-6 gap-2 items-end",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(ae,{className:"text-xs",children:"Source Field"}),i.jsx(ve,{value:R.sourceField,onChange:Y=>v(B,{sourceField:Y.target.value}),placeholder:"source_field",className:"h-8"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ae,{className:"text-xs",children:"Target Field"}),i.jsx(ve,{value:R.targetField,onChange:Y=>v(B,{targetField:Y.target.value}),placeholder:"targetField",className:"h-8"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ae,{className:"text-xs",children:"Data Type"}),i.jsxs(Ue,{value:R.dataType,onValueChange:Y=>v(B,{dataType:Y}),children:[i.jsx(ze,{className:"h-8",children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"string",children:"String"}),i.jsx(J,{value:"number",children:"Number"}),i.jsx(J,{value:"date",children:"Date"}),i.jsx(J,{value:"boolean",children:"Boolean"}),i.jsx(J,{value:"json",children:"JSON"})]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ae,{className:"text-xs",children:"Default Value"}),i.jsx(ve,{value:R.defaultValue||void 0,onChange:Y=>v(B,{defaultValue:Y.target.value}),placeholder:"default",className:"h-8"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{checked:R.isRequired,onCheckedChange:Y=>v(B,{isRequired:Y})}),i.jsx(ae,{className:"text-xs",children:"Required"})]}),i.jsx("div",{children:i.jsx(K,{onClick:()=>b(B),size:"sm",variant:"outline",className:"h-8",children:i.jsx(Ys,{className:"h-3 w-3"})})})]},B)),(!((O=t.dataMapping)!=null&&O.sourceFields)||t.dataMapping.sourceFields.length===0)&&i.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:'No field mappings configured yet. Click "Add Field" to start.'})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold",children:"Sync Schedule"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{children:"Frequency"}),i.jsxs(Ue,{value:((D=t.syncSchedule)==null?void 0:D.frequency)||"manual",onValueChange:R=>n(B=>({...B,syncSchedule:{...B.syncSchedule,frequency:R}})),children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"realtime",children:"Real-time"}),i.jsx(J,{value:"hourly",children:"Hourly"}),i.jsx(J,{value:"daily",children:"Daily"}),i.jsx(J,{value:"weekly",children:"Weekly"}),i.jsx(J,{value:"manual",children:"Manual"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ae,{htmlFor:"interval",children:"Interval (minutes)"}),i.jsx(ve,{id:"interval",type:"number",value:((M=t.syncSchedule)==null?void 0:M.interval)||void 0,onChange:R=>n(B=>({...B,syncSchedule:{...B.syncSchedule,interval:parseInt(R.target.value)}})),placeholder:"60",disabled:((V=t.syncSchedule)==null?void 0:V.frequency)==="manual"})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[i.jsx(jr,{checked:((q=t.syncSchedule)==null?void 0:q.isEnabled)||!1,onCheckedChange:R=>n(B=>({...B,syncSchedule:{...B.syncSchedule,isEnabled:R}}))}),i.jsx(ae,{children:"Enable Schedule"})]})]})]}),i.jsx(K,{onClick:m,disabled:p.isPending,className:"w-full",size:"lg",children:p.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Qn,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering Data Source..."]}):i.jsxs(i.Fragment,{children:[i.jsx($E,{className:"h-4 w-4 mr-2"}),"Register Data Source"]})})]})]})}),i.jsx(ke,{value:"integrations",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Available System Integrations"}),i.jsx(ge,{children:"Pre-configured integration templates for common external systems"})]}),i.jsx(G,{children:f?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(Fn,{className:"h-8 w-8 animate-spin text-cyan-500"})}):E.length>0?i.jsx("div",{className:"space-y-4",children:E.map((R,B)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(DE,{className:"h-6 w-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:R.systemName}),i.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:R.systemType.replace("_"," ")})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:R.isConfigured?"default":"secondary",children:R.isConfigured?"Configured":"Not Configured"}),i.jsx(ne,{variant:"outline",className:N(R.status),children:R.status})]})]}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Capabilities:"}),i.jsx("div",{className:"space-y-2",children:R.capabilities.map((Y,$)=>i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:Y.name}),i.jsx("div",{className:"text-muted-foreground",children:Y.description}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx("span",{className:"text-xs",children:"Data Types:"}),Y.dataTypes.map((re,ee)=>i.jsx(ne,{variant:"outline",className:"text-xs",children:re},ee))]})]},$))})]})}),i.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[i.jsxs(K,{size:"sm",variant:"outline",children:[i.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Configure"]}),i.jsxs(K,{size:"sm",variant:"outline",children:[i.jsx($t,{className:"h-3 w-3 mr-1"}),"Documentation"]}),i.jsxs(K,{size:"sm",variant:"outline",children:[i.jsx(Tp,{className:"h-3 w-3 mr-1"}),"Test Connection"]})]})]},B))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx($E,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No integrations available"})]})})]})}),i.jsx(ke,{value:"sync-history",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Synchronization History"}),i.jsx(ge,{children:"Review past synchronization results and performance metrics"})]}),i.jsx(G,{children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"font-semibold",children:["History for: ",r.sourceName]}),i.jsxs(K,{onClick:()=>h(r.sourceId),size:"sm",variant:"outline",children:[i.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Refresh"]})]}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map((R,B)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{variant:R.status==="success"?"default":R.status==="error"?"destructive":"secondary",children:R.status}),i.jsxs("span",{className:"text-sm font-medium",children:["Sync ID: ",R.syncId]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(R.startTime).toLocaleString()})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Processed:"})," ",R.recordsProcessed]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Created:"})," ",R.recordsCreated]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Updated:"})," ",R.recordsUpdated]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Skipped:"})," ",R.recordsSkipped]})]}),i.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:R.summary}),R.errors.length>0&&i.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-700",children:[i.jsx("strong",{children:"Errors:"})," ",R.errors.length," errors occurred during sync"]})]},B))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No sync history available for this data source"})]})]}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Select a data source from the Sources tab to view its sync history"})]})})]})}),i.jsx(ke,{value:"monitoring",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Integration Monitoring"}),i.jsx(ge,{children:"Real-time monitoring of data integration pipeline performance"})]}),i.jsxs(G,{children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.filter(R=>R.isActive).length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Sources"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.filter(R=>R.syncStatus==="completed").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent Syncs"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:C.filter(R=>R.syncStatus==="syncing").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Syncs"})]}),i.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.filter(R=>R.syncStatus==="error").length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed Syncs"})]})]}),i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ya,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Real-time monitoring dashboard"}),i.jsx("p",{className:"text-sm",children:"Integration metrics and performance data will appear here"})]})]})]})})]})]})}function ZP(){Ot();const{data:e,isLoading:t,refetch:n,error:r}=Ae({queryKey:["/api/deployment/status"],queryFn:async()=>{const{api:p}=await Qe(async()=>{const{api:h}=await import("./api-DV25CDRD.js");return{api:h}},[]);return(await p("/deployment/status")).json()},refetchInterval:3e4}),s=(e==null?void 0:e.deploymentStatus)||null,a=p=>{switch(p){case"passed":return i.jsx(wt,{className:"h-4 w-4 text-green-600"});case"warning":return i.jsx(vt,{className:"h-4 w-4 text-yellow-600"});case"failed":return i.jsx(hf,{className:"h-4 w-4 text-red-600"});case"pending":return i.jsx(zn,{className:"h-4 w-4 text-gray-600"});default:return i.jsx(zn,{className:"h-4 w-4 text-gray-600"})}},o=p=>{switch(p){case"production":return"text-green-600 bg-green-50";case"staging":return"text-blue-600 bg-blue-50";case"testing":return"text-yellow-600 bg-yellow-50";case"development":return"text-gray-600 bg-gray-50";case"maintenance":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},l=p=>{switch(p){case"critical":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},c=p=>{switch(p){case"compliant":return"text-green-600";case"partial":return"text-yellow-600";case"non-compliant":return"text-red-600";default:return"text-gray-600"}},d=p=>p>=95?{level:"Production Ready",color:"text-green-600",icon:$y}:p>=85?{level:"Staging Ready",color:"text-blue-600",icon:MU}:p>=70?{level:"Testing Ready",color:"text-yellow-600",icon:Ya}:{level:"In Development",color:"text-gray-600",icon:Qn};if(t)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Fn,{className:"h-8 w-8 animate-spin text-blue-500"}),i.jsx("span",{className:"text-lg",children:"Assessing deployment readiness..."})]})});if(r||!s)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs(W,{className:"max-w-md",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2 text-red-600",children:[i.jsx(Hr,{className:"h-5 w-5"}),i.jsx("span",{children:"Assessment Failed"})]}),i.jsx(ge,{children:"Unable to retrieve deployment status. Please check system connectivity."})]}),i.jsx(G,{children:i.jsxs(K,{onClick:()=>n(),className:"w-full",children:[i.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Retry Assessment"]})})]})});const u=d(s.readinessScore),f=u.icon;return i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deployment Readiness Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Step 10: Complete system assessment and production deployment optimization"})]}),i.jsxs(K,{onClick:()=>n(),variant:"outline",children:[i.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Refresh Assessment"]})]}),i.jsx(W,{className:"border-l-4 border-l-green-500",children:i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx($i,{className:"h-5 w-5 text-green-500"}),i.jsx("span",{children:"Step 10: Final Deployment Optimization - System Integration Complete"})]}),i.jsx(ge,{children:"Comprehensive deployment readiness assessment with performance optimization, security validation, and compliance verification across all system components."})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs(W,{className:"col-span-1 md:col-span-2",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Overall Readiness"}),i.jsx(f,{className:`h-6 w-6 ${u.color}`})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-3xl font-bold",children:[s.readinessScore,"%"]}),i.jsx(ne,{className:o(s.deploymentStage),children:s.deploymentStage.toUpperCase()})]}),i.jsx(Lr,{value:s.readinessScore,className:"w-full"}),i.jsx("div",{className:`text-lg font-semibold ${u.color}`,children:u.level})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{children:"System Checks"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Passed"}),i.jsx("span",{className:"font-bold text-green-600",children:s.completedChecks.filter(p=>p.status==="passed").length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Warnings"}),i.jsx("span",{className:"font-bold text-yellow-600",children:s.completedChecks.filter(p=>p.status==="warning").length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Failed"}),i.jsx("span",{className:"font-bold text-red-600",children:s.completedChecks.filter(p=>p.status==="failed").length})]})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(Qa,{className:"h-5 w-5 text-blue-600"}),i.jsx("span",{children:"Security Score"})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[s.securityStatus.overallScore,"%"]}),i.jsx(Lr,{value:s.securityStatus.overallScore,className:"w-full"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.securityStatus.vulnerabilities.length," vulnerabilities"]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(W,{children:[i.jsx(X,{className:"pb-3",children:i.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Ya,{className:"h-4 w-4"}),i.jsx("span",{children:"API Response"})]})}),i.jsxs(G,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})]}),i.jsxs(W,{children:[i.jsx(X,{className:"pb-3",children:i.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Os,{className:"h-4 w-4"}),i.jsx("span",{children:"DB Efficiency"})]})}),i.jsxs(G,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Index efficiency"})]})]}),i.jsxs(W,{children:[i.jsx(X,{className:"pb-3",children:i.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[i.jsx(PU,{className:"h-4 w-4"}),i.jsx("span",{children:"Memory Usage"})]})}),i.jsxs(G,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"System memory"})]})]}),i.jsxs(W,{children:[i.jsx(X,{className:"pb-3",children:i.jsxs(Z,{className:"flex items-center space-x-2 text-sm",children:[i.jsx(ki,{className:"h-4 w-4"}),i.jsx("span",{children:"Throughput"})]})}),i.jsxs(G,{children:[i.jsx("div",{className:"text-2xl font-bold",children:s.performanceMetrics.apiResponseTimes.throughput}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests/second"})]})]})]}),i.jsxs(vr,{defaultValue:"checks",className:"space-y-4",children:[i.jsxs(er,{className:"grid w-full grid-cols-5",children:[i.jsxs(Oe,{value:"checks",children:["System Checks (",s.completedChecks.length,")"]}),i.jsx(Oe,{value:"performance",children:"Performance"}),i.jsx(Oe,{value:"security",children:"Security"}),i.jsx(Oe,{value:"compliance",children:"Compliance"}),i.jsxs(Oe,{value:"optimizations",children:["Optimizations (",s.optimizations.length,")"]})]}),i.jsx(ke,{value:"checks",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Deployment Checks"}),i.jsx(ge,{children:"Comprehensive system validation across all functional areas"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:s.completedChecks.map((p,x)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[a(p.status),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:p.checkName}),i.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[p.checkType," • Priority: ",p.priority]})]})]}),i.jsx(ne,{variant:l(p.priority),children:p.status.toUpperCase()})]}),i.jsx("p",{className:"text-sm mb-2",children:p.description}),p.result&&i.jsxs("div",{className:"text-sm bg-muted p-2 rounded mb-2",children:[i.jsx("strong",{children:"Result:"})," ",p.result]}),p.recommendations&&p.recommendations.length>0&&i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Recommendations:"}),i.jsx("ul",{className:"list-disc list-inside ml-2 mt-1",children:p.recommendations.map((h,m)=>i.jsx("li",{children:h},m))})]}),p.timestamp&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Checked: ",new Date(p.timestamp).toLocaleString()]})]},x))})})]})}),i.jsx(ke,{value:"performance",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"API Performance"})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Average Response Time:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.averageResponseTime,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"95th Percentile:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p95ResponseTime,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"99th Percentile:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.p99ResponseTime,"ms"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Throughput:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.apiResponseTimes.throughput," req/s"]})]})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Database Performance"})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Connection Pool Usage:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.connectionPoolUsage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Index Efficiency:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.indexEfficiency,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Storage Utilization:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.databasePerformance.storageUtilization,"%"]})]})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Frontend Performance"})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Bundle Size:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.bundleSize,"MB"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Render Performance:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.renderPerformance,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Interactivity Score:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.frontendMetrics.interactivityScore,"%"]})]})]})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"System Resources"})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Memory Usage:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.memoryUsage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"CPU Usage:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.cpuUsage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Disk Usage:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.diskUsage,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Network Latency:"}),i.jsxs("span",{className:"font-bold",children:[s.performanceMetrics.systemResources.networkLatency,"ms"]})]})]})})]})]})}),i.jsx(ke,{value:"security",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2",children:[i.jsx(Qa,{className:"h-5 w-5"}),i.jsx("span",{children:"Security Assessment"})]}),i.jsxs(ge,{children:["Overall security score: ",s.securityStatus.overallScore,"%"]})]}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold",children:"Security Score"}),i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[s.securityStatus.overallScore,"%"]})]}),i.jsx(Lr,{value:s.securityStatus.overallScore,className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Vulnerabilities"}),i.jsx("div",{className:"text-sm",children:s.securityStatus.vulnerabilities.length===0?i.jsx("div",{className:"text-green-600",children:"No critical vulnerabilities detected"}):i.jsxs("div",{children:[s.securityStatus.vulnerabilities.length," issues found"]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Last Assessment"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.securityStatus.lastAssessmentDate).toLocaleString()})]})]})]})})]})}),i.jsx(ke,{value:"compliance",children:i.jsx("div",{className:"space-y-4",children:Object.entries(s.complianceStatus).map(([p,x])=>i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),i.jsx(ne,{variant:"outline",className:c(x.status),children:x.status.toUpperCase()})]})}),i.jsx(G,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Compliance Score:"}),i.jsxs("span",{className:"font-bold",children:[x.score,"%"]})]}),i.jsx(Lr,{value:x.score,className:"w-full"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-sm mb-1",children:["Checked Items (",x.checkedItems.length,")"]}),i.jsxs("ul",{className:"text-sm space-y-1",children:[x.checkedItems.slice(0,3).map((h,m)=>i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(wt,{className:"h-3 w-3 text-green-600"}),i.jsx("span",{children:h})]},m)),x.checkedItems.length>3&&i.jsxs("li",{className:"text-muted-foreground",children:["+",x.checkedItems.length-3," more"]})]})]}),x.failedItems.length>0&&i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-sm mb-1 text-red-600",children:["Failed Items (",x.failedItems.length,")"]}),i.jsx("ul",{className:"text-sm space-y-1",children:x.failedItems.map((h,m)=>i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(hf,{className:"h-3 w-3 text-red-600"}),i.jsx("span",{children:h})]},m))})]})]}),x.recommendations.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm mb-1",children:"Recommendations"}),i.jsx("ul",{className:"text-sm space-y-1",children:x.recommendations.map((h,m)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx(vt,{className:"h-3 w-3 text-yellow-600 mt-0.5"}),i.jsx("span",{children:h})]},m))})]})]})})]},p))})}),i.jsx(ke,{value:"optimizations",children:i.jsxs(W,{children:[i.jsxs(X,{children:[i.jsx(Z,{children:"System Optimizations"}),i.jsx(ge,{children:"Performance improvements and resource optimizations"})]}),i.jsx(G,{children:i.jsx("div",{className:"space-y-4",children:s.optimizations.map((p,x)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tp,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{className:"font-semibold capitalize",children:[p.optimizationType.replace("_"," ")," Optimization"]})]}),i.jsx(ne,{variant:p.implementationStatus==="deployed"?"default":p.implementationStatus==="implemented"?"secondary":"outline",children:p.implementationStatus.replace("_"," ")})]}),i.jsx("p",{className:"text-sm mb-3",children:p.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Impact: "}),i.jsx(ne,{variant:p.impact==="high"?"default":p.impact==="medium"?"secondary":"outline",children:p.impact})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Performance Gain:"})," ",p.performanceGain]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Resource Savings:"})," ",p.resourceSavings]})]})]},x))})})]})})]}),s.readinessScore>=95&&i.jsxs(W,{className:"border-green-200 bg-green-50",children:[i.jsxs(X,{children:[i.jsxs(Z,{className:"flex items-center space-x-2 text-green-700",children:[i.jsx($y,{className:"h-5 w-5"}),i.jsx("span",{children:"Ready for Production Deployment"})]}),i.jsx(ge,{children:"System has passed all critical checks and is ready for production deployment."})]}),i.jsx(G,{children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(K,{className:"bg-green-600 hover:bg-green-700",children:[i.jsx($y,{className:"h-4 w-4 mr-2"}),"Deploy to Production"]}),i.jsxs(K,{variant:"outline",children:[i.jsx(OI,{className:"h-4 w-4 mr-2"}),"Generate Deployment Report"]})]})})]})]})}const Wm={NONE:"NONE",ALL_STATUS:"ALL_STATUS",ALL_TYPES:"ALL_TYPES",ALL_GROUPS:"ALL_GROUPS",ALL_SUBTYPES:"ALL_SUBTYPES",ALL_EVIDENCE_TYPES:"ALL_EVIDENCE_TYPES",LOADING_GROUPS:"LOADING_GROUPS",LOADING_TYPES:"LOADING_TYPES",LOADING_SUBTYPES:"LOADING_SUBTYPES",NO_RISK_RANKINGS:"NO_RISK_RANKINGS",FIELD_EMPTY:void 0,SELECT_OPTION:"SELECT_OPTION",FILTER_EQUIPMENT_GROUPS:"FILTER_EQUIPMENT_GROUPS",FILTER_EQUIPMENT_TYPES:"FILTER_EQUIPMENT_TYPES",FILTER_SUBTYPES:"FILTER_SUBTYPES"};function hSe({value:e,onChange:t,options:n,placeholder:r="Select…",allowAll:s=!1,allValue:a=Wm.ALL_STATUS,allLabel:o="All",disabled:l=!1,className:c=""}){const d=e??Wm.NONE,u=f=>{f===Wm.NONE?t(void 0):t(f)};return i.jsxs(Ue,{value:d,onValueChange:u,disabled:l,children:[i.jsx(ze,{className:c,"aria-label":r,children:i.jsx(Ve,{placeholder:r})}),i.jsxs(Be,{children:[i.jsx(J,{value:Wm.NONE,disabled:!0,children:r}),s&&i.jsx(J,{value:a,children:o}),n.map(f=>i.jsx(J,{value:f.value,children:f.label},f.value))]})]})}function xSe(){const{toast:e}=Ot(),t=Ar(),[n,r]=j.useState(null),[s,a]=j.useState({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),[o,l]=j.useState(""),[c,d]=j.useState(!1),{data:u,isLoading:f}=Ae({queryKey:["/api/incidents"],queryFn:async()=>{const{api:v}=await Qe(async()=>{const{api:w}=await import("./api-DV25CDRD.js");return{api:w}},[]),N=await v("/incidents");if(!N.ok)throw new Error("Failed to fetch incidents");return N.json()}}),{data:p,isLoading:x}=Ae({queryKey:["/api/workflows/notification-preview",n,s],queryFn:async()=>{if(!n)return null;const{apiPost:v}=await Qe(async()=>{const{apiPost:w}=await import("./api-DV25CDRD.js");return{apiPost:w}},[]),N=await v(`/workflows/${n}/notifications/preview`,s);if(!N.ok)throw new Error("Failed to get preview");return N.json()},enabled:c&&!!n}),h=lt({mutationFn:async v=>{const{apiPost:N}=await Qe(async()=>{const{apiPost:C}=await import("./api-DV25CDRD.js");return{apiPost:C}},[]),w=await N("/workflows/initiate",v);if(!w.ok){const C=await w.json();throw new Error(C.message||"Failed to initiate workflow")}return w.json()},onSuccess:v=>{e({title:"Workflow Initiated",description:`Workflow ${v.workflowId} created successfully. Due by ${hp(new Date(v.dueAt),"PPP")}`}),r(null),a({workflowType:"Standard",documentationLevel:"Standard",analysisDepth:"Standard",priority:"Medium",requiresApproval:!1,observedSymptoms:"",stakeholders:[],enableNotifications:!0,enableMilestoneReminders:!0}),t.invalidateQueries({queryKey:["/api/incidents"]})},onError:v=>{e({title:"Error",description:v.message,variant:"destructive"})}}),m=u==null?void 0:u.find(v=>v.id===n),y=()=>{o.trim()&&s.stakeholders&&(a(v=>({...v,stakeholders:[...v.stakeholders||[],o.trim()]})),l(""))},g=v=>{a(N=>{var w;return{...N,stakeholders:((w=N.stakeholders)==null?void 0:w.filter(C=>C!==v))||[]}})},b=()=>{if(!n||!s){e({title:"Error",description:"Please select an incident and fill all required fields",variant:"destructive"});return}h.mutate({...s,incidentId:n})};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Workflow Integration"}),i.jsx("p",{className:"text-muted-foreground",children:"Initiate comprehensive analysis workflows for existing incidents"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($t,{className:"h-5 w-5"}),"Select Incident"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsx(hSe,{value:n==null?void 0:n.toString(),onChange:v=>r(v?parseInt(v):void 0),options:(u==null?void 0:u.map(v=>({value:v.id.toString(),label:`INC_${v.id.toString().padStart(6,"0")} - ${v.priority}`})))||[],placeholder:"Choose incident to analyze...",disabled:f,className:"data-testid-select-incident"}),m&&i.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:m.title||"Untitled Incident"}),i.jsx(ne,{children:m.workflowStatus})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Equipment:"})," ",m.equipmentGroup," - ",m.equipmentType]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Location:"})," ",m.location]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Reported by:"})," ",m.reportedBy]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Date:"})," ",hp(new Date(m.incidentDateTime),"PPP")]})]})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(Qn,{className:"h-5 w-5"}),"Workflow Configuration"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Workflow Type"}),i.jsxs(Ue,{value:s.workflowType,onValueChange:v=>a(N=>({...N,workflowType:v})),"data-testid":"select-workflow-type",children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsx(Be,{children:i.jsx(J,{value:"Standard",children:"Standard (24h)"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Priority"}),i.jsxs(Ue,{value:s.priority,onValueChange:v=>a(N=>({...N,priority:v})),"data-testid":"select-priority",children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Low",children:"Low"}),i.jsx(J,{value:"Medium",children:"Medium"}),i.jsx(J,{value:"High",children:"High"}),i.jsx(J,{value:"Critical",children:"Critical"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Documentation Level"}),i.jsxs(Ue,{value:s.documentationLevel,onValueChange:v=>a(N=>({...N,documentationLevel:v})),"data-testid":"select-documentation-level",children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Basic",children:"Basic"}),i.jsx(J,{value:"Standard",children:"Standard"}),i.jsx(J,{value:"Comprehensive",children:"Comprehensive"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Analysis Depth"}),i.jsxs(Ue,{value:s.analysisDepth,onValueChange:v=>a(N=>({...N,analysisDepth:v})),"data-testid":"select-analysis-depth",children:[i.jsx(ze,{children:i.jsx(Ve,{})}),i.jsxs(Be,{children:[i.jsx(J,{value:"Surface",children:"Surface"}),i.jsx(J,{value:"Standard",children:"Standard"}),i.jsx(J,{value:"Deep",children:"Deep"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{checked:s.requiresApproval,onCheckedChange:v=>a(N=>({...N,requiresApproval:v})),"data-testid":"switch-requires-approval"}),i.jsx("label",{className:"text-sm font-medium",children:"Requires Approval"})]})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"h-5 w-5"}),"Observed Symptoms"]})}),i.jsx(G,{children:i.jsx(He,{placeholder:"Describe the observed symptoms and manifestations...",value:s.observedSymptoms,onChange:v=>a(N=>({...N,observedSymptoms:v.target.value})),rows:4,"data-testid":"input-observed-symptoms"})})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(t1,{className:"h-5 w-5"}),"Stakeholders & Notifications"]})}),i.jsxs(G,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",placeholder:"Add stakeholder email...",value:o,onChange:v=>l(v.target.value),onKeyPress:v=>v.key==="Enter"&&y(),className:"flex-1 px-3 py-2 border rounded-md","data-testid":"input-stakeholder-email"}),i.jsx(K,{onClick:y,variant:"outline","data-testid":"button-add-stakeholder",children:"Add"})]}),s.stakeholders&&s.stakeholders.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:s.stakeholders.map(v=>i.jsxs(ne,{variant:"secondary",className:"cursor-pointer",onClick:()=>g(v),"data-testid":`stakeholder-${v}`,children:[v," ×"]},v))}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{checked:s.enableNotifications,onCheckedChange:v=>a(N=>({...N,enableNotifications:v})),"data-testid":"switch-enable-notifications"}),i.jsx("label",{className:"text-sm font-medium",children:"Enable Notifications"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jr,{checked:s.enableMilestoneReminders,onCheckedChange:v=>a(N=>({...N,enableMilestoneReminders:v})),"data-testid":"switch-enable-reminders"}),i.jsx("label",{className:"text-sm font-medium",children:"Enable Milestone Reminders"})]})]})]})]})]}),n&&i.jsxs(W,{children:[i.jsx(X,{children:i.jsx(Z,{children:"Notification Preview"})}),i.jsxs(G,{children:[i.jsx("div",{className:"flex gap-2 mb-4",children:i.jsx(K,{variant:"outline",onClick:()=>d(!c),disabled:x,"data-testid":"button-preview-notifications",children:x?i.jsxs(i.Fragment,{children:[i.jsx(Ub,{className:"h-4 w-4 animate-spin mr-2"}),"Loading Preview..."]}):"Preview Notifications"})}),c&&p&&i.jsx(Yt,{children:i.jsx(Qt,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Recipients:"})," ",p.recipients.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Subject:"})," ",p.subject]}),i.jsx("div",{className:"border rounded p-2 bg-muted",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:p.content}})})]})})})]})]}),i.jsx("div",{className:"flex justify-end gap-4",children:i.jsx(K,{onClick:b,disabled:!n||h.isPending,className:"min-w-[200px]","data-testid":"button-initiate-workflow",children:h.isPending?i.jsxs(i.Fragment,{children:[i.jsx(Ub,{className:"h-4 w-4 animate-spin mr-2"}),"Initiating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zn,{className:"h-4 w-4 mr-2"}),"Initiate Workflow Process"]})})})]})}var eC="Radio",[vSe,O5]=xr(eC),[gSe,ySe]=vSe(eC),R5=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,p]=j.useState(null),x=pt(t,y=>p(y)),h=j.useRef(!1),m=f?d||!!f.closest("form"):!0;return i.jsxs(gSe,{scope:n,checked:s,disabled:o,children:[i.jsx(Xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":$5(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:x,onClick:Le(e.onClick,y=>{s||c==null||c(),m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})}),m&&i.jsx(bSe,{control:f,bubbles:!h.current,name:r,value:l,checked:s,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});R5.displayName=eC;var I5="RadioIndicator",M5=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=ySe(I5,n);return i.jsx(Yr,{present:r||a.checked,children:i.jsx(Xe.span,{"data-state":$5(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});M5.displayName=I5;var bSe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=j.useRef(null),o=Vg(n),l=qv(t);return j.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const p=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(p)}},[o,n,r]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $5(e){return e?"checked":"unchecked"}var jSe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tC="RadioGroup",[wSe,KSe]=xr(tC,[Gv,O5]),D5=Gv(),F5=O5(),[NSe,SSe]=wSe(tC),L5=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...p}=e,x=D5(n),h=Rp(d),[m,y]=cs({prop:a,defaultProp:s,onChange:f});return i.jsx(NSe,{scope:n,name:r,required:o,disabled:l,value:m,onValueChange:y,children:i.jsx($M,{asChild:!0,...x,orientation:c,dir:h,loop:u,children:i.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:h,...p,ref:t})})})});L5.displayName=tC;var q5="RadioGroupItem",z5=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=SSe(q5,n),o=a.disabled||r,l=D5(n),c=F5(n),d=j.useRef(null),u=pt(t,d),f=a.value===s.value,p=j.useRef(!1);return j.useEffect(()=>{const x=m=>{jSe.includes(m.key)&&(p.current=!0)},h=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",h)}},[]),i.jsx(DM,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(R5,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:u,onCheck:()=>a.onValueChange(s.value),onKeyDown:Le(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Le(s.onFocus,()=>{var x;p.current&&((x=d.current)==null||x.click())})})})});z5.displayName=q5;var CSe="RadioGroupIndicator",B5=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=F5(n);return i.jsx(M5,{...s,...r,ref:t})});B5.displayName=CSe;var U5=L5,V5=z5,ESe=B5;const Vw=j.forwardRef(({className:e,...t},n)=>i.jsx(U5,{className:Ge("grid gap-2",e),...t,ref:n}));Vw.displayName=U5.displayName;const Ao=j.forwardRef(({className:e,...t},n)=>i.jsx(V5,{ref:n,className:Ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(ESe,{className:"flex items-center justify-center",children:i.jsx(bU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ao.displayName=V5.displayName;const kSe={Low:{Low:{level:1,label:"Level 1 RCA",method:"Quick check / mini 5 Whys",timebox:"≤24h"},Medium:{level:2,label:"Level 2 RCA",method:"5 Whys",timebox:"24–48h"},High:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"≤7 days"}},Medium:{Low:{level:2,label:"Level 2 RCA",method:"5 Whys",timebox:"24–48h"},Medium:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"≤7 days"},High:{level:4,label:"Level 4 RCA",method:"Logic Tree (+ Fishbone)",timebox:"1–3 weeks"}},High:{Low:{level:3,label:"Level 3 RCA",method:"Fishbone (+ 5 Whys)",timebox:"≤7 days"},Medium:{level:4,label:"Level 4 RCA",method:"Logic Tree (+ Fishbone)",timebox:"1–3 weeks"},High:{level:5,label:"Level 5 RCA",method:"Full toolkit (Logic Tree + FMEA + CAPA)",timebox:"Programmatic"}}};function ASe(e,t){return kSe[e][t]}function _Se(){const e=wl(),t=hr();Rn();const[n,r]=j.useState("Medium"),[s,a]=j.useState("Low"),[o,l]=j.useState(!1),{toast:c}=Ot(),d=Ar(),u=e.id,{data:f,isLoading:p}=Ae({queryKey:["/api/incidents",u],enabled:!!u}),{data:x}=Ae({queryKey:["/api/v1/incidents",u,"triage"],enabled:!!u});j.useEffect(()=>{x&&(r(x.severity),a(x.recurrence))},[x]);const h=ASe(n,s),m=E5({incidentId:u||"",stepNumber:4,enabled:!!u&&(n!=="Medium"||s!=="Low"),onSuccess:()=>{console.log("[RCA-TRIAGE] Autosave successful")},onError:b=>{console.error("[RCA-TRIAGE] Autosave failed:",b)}});j.useEffect(()=>{if(u&&(n!=="Medium"||s!=="Low")){const b={severity:n,recurrence:s,level:h.level,label:h.label,method:h.method,timebox:h.timebox};m.saveIfChanged(b)}},[n,s,u,h,m]);const y=lt({mutationFn:async()=>bt(`/api/v1/incidents/${u}/triage`,{method:"POST",body:JSON.stringify({severity:n,recurrence:s})}),onSuccess:()=>{c({title:"RCA Level Determined",description:`${h.label} analysis recommended with ${h.method}`}),d.invalidateQueries({queryKey:["/api/v1/incidents",u,"triage"]}),t(`/incidents/${u}/evidence-checklist`)},onError:b=>{console.error("[RCA_TRIAGE] Error saving triage:",b),c({title:"Error",description:"Failed to save RCA determination. Please try again.",variant:"destructive"})}}),g=async()=>{l(!0);try{await y.mutateAsync()}finally{l(!1)}};return p?i.jsx("div",{className:"container mx-auto p-6","data-testid":"loading-spinner",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})}):f?i.jsxs("div",{className:"container mx-auto p-6 max-w-4xl","data-testid":"rca-triage-page",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold","data-testid":"page-title",children:"RCA Level Determination"}),i.jsx("p",{className:"text-gray-600","data-testid":"page-description",children:"Determine the appropriate Root Cause Analysis level based on incident severity and recurrence"})]}),i.jsxs(W,{className:"mb-6","data-testid":"incident-overview",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx($i,{className:"h-5 w-5"}),"Incident Overview"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Title"}),i.jsx("p",{className:"font-medium","data-testid":"incident-title",children:f.title})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Equipment"}),i.jsxs("p",{className:"font-medium","data-testid":"incident-equipment",children:[f.equipmentGroup," / ",f.equipmentType,f.equipmentSubtype&&` / ${f.equipmentSubtype}`]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),i.jsx("p",{className:"font-medium","data-testid":"incident-description",children:f.symptomDescription||"No description available"})]})]})})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[i.jsxs(W,{"data-testid":"severity-card",children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Incident Severity"}),i.jsx(ge,{children:"Assess the impact and consequences of this incident"})]}),i.jsx(G,{children:i.jsx(Vw,{value:n,onValueChange:b=>r(b),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-high",children:[i.jsx(Ao,{value:"High",id:"severity-high"}),i.jsx(ae,{htmlFor:"severity-high",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-600",children:"High Severity"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Safety impact, major equipment damage, significant production loss"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-medium",children:[i.jsx(Ao,{value:"Medium",id:"severity-medium"}),i.jsx(ae,{htmlFor:"severity-medium",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-orange-600",children:"Medium Severity"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Moderate impact, repairable damage, some production loss"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"severity-low",children:[i.jsx(Ao,{value:"Low",id:"severity-low"}),i.jsx(ae,{htmlFor:"severity-low",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-600",children:"Low Severity"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Minor impact, minimal damage, limited production effect"})]})})]})]})})})]}),i.jsxs(W,{"data-testid":"recurrence-card",children:[i.jsxs(X,{children:[i.jsx(Z,{children:"Recurrence Frequency"}),i.jsx(ge,{children:"How often does this type of failure occur?"})]}),i.jsx(G,{children:i.jsx(Vw,{value:s,onValueChange:b=>a(b),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-high",children:[i.jsx(Ao,{value:"High",id:"recurrence-high"}),i.jsx(ae,{htmlFor:"recurrence-high",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-600",children:"High Recurrence"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Chronic/Recurring - Multiple occurrences per month"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-medium",children:[i.jsx(Ao,{value:"Medium",id:"recurrence-medium"}),i.jsx(ae,{htmlFor:"recurrence-medium",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-orange-600",children:"Medium Recurrence"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Intermittent - Occasional occurrences, has happened before"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-2","data-testid":"recurrence-low",children:[i.jsx(Ao,{value:"Low",id:"recurrence-low"}),i.jsx(ae,{htmlFor:"recurrence-low",className:"flex-1",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-600",children:"Low Recurrence"}),i.jsx("p",{className:"text-sm text-gray-500",children:"First Occurrence - Never happened before or very rare"})]})})]})]})})})]})]}),i.jsxs(W,{className:"mb-6","data-testid":"rca-recommendation",children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(_t,{className:"h-5 w-5"}),"RCA Recommendation"]})}),i.jsx(G,{children:i.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsxs(ne,{variant:"outline",className:"text-lg px-4 py-2","data-testid":"rca-level",children:["Level ",h.level]})}),i.jsx("p",{className:"font-medium","data-testid":"rca-label",children:h.label})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(wt,{className:"h-6 w-6 text-blue-600"})}),i.jsx("p",{className:"font-medium","data-testid":"rca-method",children:h.method}),i.jsx("p",{className:"text-sm text-gray-500",children:"Recommended Method"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(zn,{className:"h-6 w-6 text-green-600"})}),i.jsx("p",{className:"font-medium","data-testid":"rca-timebox",children:h.timebox}),i.jsx("p",{className:"text-sm text-gray-500",children:"Time Allocation"})]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(K,{variant:"outline",onClick:()=>t(`/incidents/${u}/equipment-selection`),"data-testid":"button-back",children:"Back to Equipment Selection"}),i.jsx(K,{onClick:g,disabled:o||y.isPending,className:"flex items-center gap-2","data-testid":"button-continue",children:o||y.isPending?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):i.jsxs(i.Fragment,{children:["Continue to Evidence Collection",i.jsx(Nr,{className:"h-4 w-4"})]})})]})]}):i.jsx("div",{className:"container mx-auto p-6","data-testid":"incident-not-found",children:i.jsx(W,{children:i.jsx(G,{className:"pt-6",children:i.jsx("p",{className:"text-center text-gray-500",children:"Incident not found"})})})})}const JP={DRAFT:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",IN_PROGRESS:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",CLOSED:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",CANCELLED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},eT={DRAFT:"Draft",IN_PROGRESS:"In Progress",CLOSED:"Closed",CANCELLED:"Cancelled"},PSe={1:"Incident Reporting",2:"Equipment Selection",3:"Evidence Collection",4:"RCA Triage",5:"AI Questions",6:"RCA Workspace",7:"Actions & Approvals",8:"Summary & Closeout"};function TSe(){const e=hr(),[t,n]=j.useState("all"),[r,s]=j.useState(""),{data:a,isLoading:o,refetch:l}=Ae({queryKey:["/api/rca/cases",t!=="all"?t:void 0],queryFn:async({queryKey:f})=>{const[p,x]=f,h=new URLSearchParams;x&&h.set("status",x);const m=await fetch(`${p}?${h.toString()}`);if(!m.ok)throw new Error("Failed to fetch RCA cases");return m.json()}}),c=(a==null?void 0:a.data)||[],d=c.filter(f=>{var y,g,b,v;const p=r.toLowerCase(),x=((g=(y=f.payload)==null?void 0:y.step1)==null?void 0:g.incidentTitle)||"",h=f.summary||"",m=((v=(b=f.payload)==null?void 0:b.step2)==null?void 0:v.equipmentInfo)||"";return x.toLowerCase().includes(p)||h.toLowerCase().includes(p)||m.toLowerCase().includes(p)||f.incidentId.toLowerCase().includes(p)}),u=(f,p)=>{p<=1?e(`/incident-reporting?resume=${f}`):p<=2?e(`/equipment-selection?incident=${f}`):p<=3?e(`/evidence-checklist?incident=${f}`):p<=4?e(`/incidents/${f}/rca-triage`):e(`/incidents/${f}/analysis`)};return i.jsxs("div",{className:"container max-w-7xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"RCA Cases"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage and resume your Root Cause Analysis investigations"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(K,{variant:"outline",onClick:()=>l(),disabled:o,"data-testid":"button-refresh",children:[i.jsx(Fn,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),i.jsx(an,{to:"/incident-reporting",children:i.jsxs(K,{"data-testid":"button-new-incident",children:[i.jsx($t,{className:"h-4 w-4 mr-2"}),"New Incident"]})})]})]}),i.jsxs(W,{children:[i.jsx(X,{children:i.jsxs(Z,{className:"flex items-center gap-2",children:[i.jsx(II,{className:"h-5 w-5"}),"Filters"]})}),i.jsx(G,{children:i.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:space-y-0 md:space-x-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx(ve,{placeholder:"Search by incident title, equipment, or ID...",value:r,onChange:f=>s(f.target.value),className:"w-full","data-testid":"input-search"})}),i.jsx("div",{className:"w-full md:w-48",children:i.jsxs(Ue,{value:t,onValueChange:n,"data-testid":"select-status-filter",children:[i.jsx(ze,{children:i.jsx(Ve,{placeholder:"Filter by status"})}),i.jsxs(Be,{children:[i.jsx(J,{value:"all",children:"All Statuses"}),i.jsx(J,{value:"DRAFT",children:"Draft"}),i.jsx(J,{value:"IN_PROGRESS",children:"In Progress"}),i.jsx(J,{value:"CLOSED",children:"Closed"}),i.jsx(J,{value:"CANCELLED",children:"Cancelled"})]})]})})]})})]}),i.jsx("div",{className:"space-y-4",children:o?i.jsx("div",{className:"space-y-4",children:[1,2,3].map(f=>i.jsx(W,{className:"animate-pulse",children:i.jsxs(G,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},f))}):d.length===0?i.jsx(W,{children:i.jsxs(G,{className:"p-12 text-center",children:[i.jsx($t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No RCA cases found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:r||t!=="all"?"Try adjusting your search or filter criteria.":"Start by creating your first incident report."}),!r&&t==="all"&&i.jsx(an,{to:"/incident-reporting",children:i.jsxs(K,{children:[i.jsx($t,{className:"h-4 w-4 mr-2"}),"Report New Incident"]})})]})}):i.jsx("div",{className:"grid gap-4",children:d.map(f=>{var p,x,h,m;return i.jsx(W,{className:"hover:shadow-md transition-shadow",children:i.jsx(G,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("h3",{className:"font-semibold text-lg","data-testid":`text-case-title-${f.id}`,children:((x=(p=f.payload)==null?void 0:p.step1)==null?void 0:x.incidentTitle)||`Incident ${f.incidentId}`}),i.jsx(ne,{className:JP[f.status],"data-testid":`badge-status-${f.id}`,children:eT[f.status]})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx($t,{className:"h-4 w-4"}),"ID: ",f.incidentId]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(zn,{className:"h-4 w-4"}),"Step ",f.lastStep,": ",PSe[f.lastStep]]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(_I,{className:"h-4 w-4"}),"Updated ",k1e(new Date(f.updatedAt))," ago"]})]}),((m=(h=f.payload)==null?void 0:h.step2)==null?void 0:m.equipmentInfo)&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Equipment: ",f.payload.step2.equipmentInfo,f.payload.step2.manufacturer&&` • ${f.payload.step2.manufacturer}`,f.payload.step2.model&&` • ${f.payload.step2.model}`]}),f.summary&&i.jsx("p",{className:"text-sm",children:f.summary})]}),i.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:i.jsxs(K,{onClick:()=>u(f.incidentId,f.lastStep),disabled:f.status==="CLOSED"||f.status==="CANCELLED","data-testid":`button-resume-${f.id}`,children:[i.jsx(Vb,{className:"h-4 w-4 mr-2"}),f.status==="CLOSED"?"View":"Resume"]})})]})})},f.id)})})}),d.length>0&&i.jsx(W,{children:i.jsx(G,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Showing ",d.length," of ",c.length," cases"]}),i.jsx("div",{className:"flex items-center space-x-4",children:Object.entries(eT).map(([f,p])=>{const x=c.filter(h=>h.status===f).length;return x>0?i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${JP[f].split(" ")[0]}`}),i.jsxs("span",{children:[p,": ",x]})]},f):null})})]})})})]})}function OSe(){return j.useEffect(()=>{nH().catch(console.error)},[]),i.jsxs(lz,{children:[i.jsx(rt,{path:"/admin",element:i.jsx(P0,{children:i.jsx(l0e,{})})}),i.jsx(rt,{path:"/admin/settings",element:i.jsx(kbe,{})}),i.jsx(rt,{path:"/admin/evidence",element:i.jsx(UP,{})}),i.jsx(rt,{path:"/admin/integrations",element:i.jsx(XP,{})}),i.jsx(rt,{path:"/admin/taxonomy",element:i.jsx(lSe,{})}),i.jsx(rt,{path:"/new",element:i.jsx(Abe,{})}),i.jsx(rt,{path:"/investigation/:id/type",element:i.jsx(_be,{})}),i.jsx(rt,{path:"/investigation/:id/evidence",element:i.jsx(yP,{})}),i.jsx(rt,{path:"/investigation/:id",element:i.jsx(Cbe,{})}),i.jsx(rt,{path:"/incident-reporting",element:i.jsx(W1e,{})}),i.jsx(rt,{path:"/incidents/:id/rca-triage",element:i.jsx(_Se,{})}),i.jsx(rt,{path:"/rca/cases",element:i.jsx(TSe,{})}),i.jsx(rt,{path:"/workflow/integration",element:i.jsx(xSe,{})}),i.jsx(rt,{path:"/analysis-engine",element:i.jsx(P0,{children:i.jsx(YP,{})})}),i.jsx(rt,{path:"/ai-powered-rca",element:i.jsx(P0,{children:i.jsx(QP,{})})}),i.jsx(rt,{path:"/analysis-history",element:i.jsx(ZP,{})}),i.jsx(rt,{path:"/admin/evidence-library",element:i.jsx(Eje,{})}),i.jsx(rt,{path:"/admin/evidence-management",element:i.jsx(A0,{})}),i.jsx(rt,{path:"/admin/evidence-library-management",element:i.jsx(UP,{})}),i.jsx(rt,{path:"/admin/fault-reference-library",element:i.jsx(aSe,{})}),i.jsx(rt,{path:"/evidence-analysis-demo",element:i.jsx(YP,{})}),i.jsx(rt,{path:"/rca-analysis-demo",element:i.jsx(QP,{})}),i.jsx(rt,{path:"/workflow-integration-demo",element:i.jsx(XP,{})}),i.jsx(rt,{path:"/data-integration-demo",element:i.jsx(mSe,{})}),i.jsx(rt,{path:"/deployment-ready",element:i.jsx(ZP,{})}),i.jsx(rt,{path:"/evidence-library-management",element:i.jsx(A0,{})}),i.jsx(rt,{path:"/evidence-library",element:i.jsx(A0,{})}),i.jsx(rt,{path:"/debug",element:i.jsx(sSe,{})}),i.jsx(rt,{path:"/admin/analysis-engine",element:i.jsx(No,{replace:!0,to:"/analysis-engine"})}),i.jsx(rt,{path:"/admin/ai-powered-rca",element:i.jsx(No,{replace:!0,to:"/ai-powered-rca"})}),i.jsx(rt,{path:"/admin/analysis",element:i.jsx(No,{replace:!0,to:"/analysis-engine"})}),i.jsx(rt,{path:"/admin/ai",element:i.jsx(No,{replace:!0,to:"/ai-powered-rca"})}),i.jsx(rt,{path:"/equipment-selection",element:i.jsx(Y1e,{})}),i.jsx(rt,{path:"/evidence-checklist",element:i.jsx(Z1e,{})}),i.jsx(rt,{path:"/evidence-collection",element:i.jsx(yP,{})}),i.jsx(rt,{path:"/human-review",element:i.jsx(GP,{})}),i.jsx(rt,{path:"/incidents/:id/human-review",element:i.jsx(GP,{})}),i.jsx(rt,{path:"/incidents/:id/analysis",element:i.jsx(KP,{})}),i.jsx(rt,{path:"/ai-analysis",element:i.jsx(KP,{})}),i.jsx(rt,{path:"/engineer-review",element:i.jsx(eSe,{})}),i.jsx(rt,{path:"/nlp-analysis",element:i.jsx(tSe,{})}),i.jsx(rt,{path:"/incidents/:id/fallback-analysis",element:i.jsx(J1e,{})}),i.jsx(rt,{path:"/summary-report/:incidentId",element:i.jsx(nSe,{})}),i.jsx(rt,{path:"/analysis-details/:incidentId",element:i.jsx(rSe,{})}),i.jsx(rt,{path:"/",element:i.jsx(No,{to:"/admin",replace:!0})}),i.jsx(rt,{path:"*",element:i.jsx(No,{to:"/admin",replace:!0})})]})}function RSe(){return i.jsx(ZW,{children:i.jsx(oB,{client:gn,children:i.jsxs(AM,{children:[i.jsx(yV,{}),i.jsx(OSe,{})]})})})}SR(document.getElementById("root")).render(i.jsx(Tz,{basename:zz,children:i.jsx(RSe,{})}));
