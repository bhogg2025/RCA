function r(o,e=200){return typeof o=="number"?o:e}function t(o){if(o&&typeof o=="object"){if("ok"in o)return o.ok?{ok:!0,status:r(o.status,200),providerId:o.providerId,modelId:o.modelId,message:o.message,meta:o.meta}:{ok:!1,status:r(o.status,400),providerId:o.providerId,modelId:o.modelId,error:o.error&&typeof o.error=="object"?{code:o.error.code,type:o.error.type,detail:o.error.detail??o.error.message}:{detail:String(o.error??"Unknown error")}};if(o.success===!0)return{ok:!0,status:200,providerId:o.provider||o.providerId,modelId:o.model||o.modelId,message:o.message};if(o.success===!1||"error"in o){const e=typeof o.error=="object"?o.error:{detail:String(o.error??o.message??"Unknown error")};return{ok:!1,status:r(o.status,400),providerId:o.provider||o.providerId,modelId:o.model||o.modelId,error:{code:e.code,type:e.type,detail:e.detail??e.message}}}}return{ok:!1,status:500,error:{detail:"Malformed response"}}}export{t as normalizeAITest};
